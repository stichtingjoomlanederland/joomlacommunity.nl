function createSafeFragment(a){var b=nodeNames.split("|"),c=a.createDocumentFragment();if(c.createElement)for(;b.length;)c.createElement(b.pop());return c}function fixDefaultChecked(a){rcheckableType.test(a.type)&&(a.defaultChecked=a.checked)}function getAll(a,b){var c,d,e=0,f=typeof a.getElementsByTagName!==strundefined?a.getElementsByTagName(b||"*"):typeof a.querySelectorAll!==strundefined?a.querySelectorAll(b||"*"):void 0;if(!f)for(f=[],c=a.childNodes||a;null!=(d=c[e]);e++)!b||jQuery.nodeName(d,b)?f.push(d):jQuery.merge(f,getAll(d,b));return void 0===b||b&&jQuery.nodeName(a,b)?jQuery.merge([a],f):f}function setGlobalEval(a,b){for(var c,d=0;null!=(c=a[d]);d++)jQuery._data(c,"globalEval",!b||jQuery._data(b[d],"globalEval"))}var ed;!function(){if(!ed||!ed.requirejs){ed?require=ed:ed={};var requirejs,require,define;!function(global){function isFunction(a){return"[object Function]"===ostring.call(a)}function isArray(a){return"[object Array]"===ostring.call(a)}function each(a,b){if(a){var c;for(c=0;c<a.length&&(!a[c]||!b(a[c],c,a));c+=1);}}function eachReverse(a,b){if(a){var c;for(c=a.length-1;c>-1&&(!a[c]||!b(a[c],c,a));c-=1);}}function hasProp(a,b){return hasOwn.call(a,b)}function getOwn(a,b){return hasProp(a,b)&&a[b]}function eachProp(a,b){var c;for(c in a)if(hasProp(a,c)&&b(a[c],c))break}function mixin(a,b,c,d){return b&&eachProp(b,function(b,e){(c||!hasProp(a,e))&&(!d||"object"!=typeof b||!b||isArray(b)||isFunction(b)||b instanceof RegExp?a[e]=b:(a[e]||(a[e]={}),mixin(a[e],b,c,d)))}),a}function bind(a,b){return function(){return b.apply(a,arguments)}}function scripts(){return document.getElementsByTagName("script")}function defaultOnError(a){throw a}function getGlobal(a){if(!a)return a;var b=global;return each(a.split("."),function(a){b=b[a]}),b}function makeError(a,b,c,d){var e=new Error(b+"\nhttp://requirejs.org/docs/errors.html#"+a);return e.requireType=a,e.requireModules=d,c&&(e.originalError=c),e}function newContext(a){function q(a){var b,c;for(b=0;b<a.length;b++)if(c=a[b],"."===c)a.splice(b,1),b-=1;else if(".."===c){if(0===b||1===b&&".."===a[2]||".."===a[b-1])continue;b>0&&(a.splice(b-1,2),b-=2)}}function r(a,b,c){var d,e,f,h,i,j,k,l,m,n,o,p,r=b&&b.split("/"),s=g.map,t=s&&s["*"];if(a&&(a=a.split("/"),k=a.length-1,g.nodeIdCompat&&jsSuffixRegExp.test(a[k])&&(a[k]=a[k].replace(jsSuffixRegExp,"")),"."===a[0].charAt(0)&&r&&(p=r.slice(0,r.length-1),a=p.concat(a)),q(a),a=a.join("/")),c&&s&&(r||t)){f=a.split("/");a:for(h=f.length;h>0;h-=1){if(j=f.slice(0,h).join("/"),r)for(i=r.length;i>0;i-=1)if(e=getOwn(s,r.slice(0,i).join("/")),e&&(e=getOwn(e,j))){l=e,m=h;break a}!n&&t&&getOwn(t,j)&&(n=getOwn(t,j),o=h)}!l&&n&&(l=n,m=o),l&&(f.splice(0,m,l),a=f.join("/"))}return d=getOwn(g.pkgs,a),d?d:a}function s(a){isBrowser&&each(scripts(),function(b){return b.getAttribute("data-requiremodule")===a&&b.getAttribute("data-requirecontext")===d.contextName?(b.parentNode.removeChild(b),!0):void 0})}function t(a){var b=getOwn(g.paths,a);return b&&isArray(b)&&b.length>1?(b.shift(),d.require.undef(a),d.makeRequire(null,{skipMap:!0})([a]),!0):void 0}function u(a){var b,c=a?a.indexOf("!"):-1;return c>-1&&(b=a.substring(0,c),a=a.substring(c+1,a.length)),[b,a]}function v(a,b,c,e){var f,g,h,i,j=null,k=b?b.name:null,m=a,n=!0,q="";return a||(n=!1,a="_@r"+(o+=1)),i=u(a),j=i[0],a=i[1],j&&(j=r(j,k,e),g=getOwn(l,j)),a&&(j?q=g&&g.normalize?g.normalize(a,function(a){return r(a,k,e)}):-1===a.indexOf("!")?r(a,k,e):a:(q=r(a,k,e),i=u(q),j=i[0],q=i[1],c=!0,f=d.nameToUrl(q))),h=!j||g||c?"":"_unnormalized"+(p+=1),{prefix:j,name:q,parentMap:b,unnormalized:!!h,url:f,originalName:m,isDefine:n,id:(j?j+"!"+q:q)+h}}function w(a){var b=a.id,c=getOwn(h,b);return c||(c=h[b]=new d.Module(a)),c}function x(a,b,c){var d=a.id,e=getOwn(h,d);!hasProp(l,d)||e&&!e.defineEmitComplete?(e=w(a),e.error&&"error"===b?c(e.error):e.on(b,c)):"defined"===b&&c(l[d])}function y(a,b){var c=a.requireModules,d=!1;b?b(a):(each(c,function(b){var c=getOwn(h,b);c&&(c.error=a,c.events.error&&(d=!0,c.emit("error",a)))}),d||req.onError(a))}function z(){globalDefQueue.length&&(each(globalDefQueue,function(a){var b=a[0];"string"==typeof b&&(d.defQueueMap[b]=!0),k.push(a)}),globalDefQueue=[])}function A(a){delete h[a],delete i[a]}function B(a,b,c){var d=a.map.id;a.error?a.emit("error",a.error):(b[d]=!0,each(a.depMaps,function(d,e){var f=d.id,g=getOwn(h,f);!g||a.depMatched[e]||c[f]||(getOwn(b,f)?(a.defineDep(e,l[f]),a.check()):B(g,b,c))}),c[d]=!0)}function C(){var a,c,e=1e3*g.waitSeconds,h=e&&d.startTime+e<(new Date).getTime(),j=[],k=[],l=!1,m=!0;if(!b){if(b=!0,eachProp(i,function(a){var b=a.map,d=b.id;if(a.enabled&&(b.isDefine||k.push(a),!a.error))if(!a.inited&&h)t(d)?(c=!0,l=!0):(j.push(d),s(d));else if(!a.inited&&a.fetched&&b.isDefine&&(l=!0,!b.prefix))return m=!1}),h&&j.length)return a=makeError("timeout","Load timeout for modules: "+j,null,j),a.contextName=d.contextName,y(a);m&&each(k,function(a){B(a,{},{})}),h&&!c||!l||!isBrowser&&!isWebWorker||f||(f=setTimeout(function(){f=0,C()},50)),b=!1}}function D(a){hasProp(l,a[0])||w(v(a[0],null,!0)).init(a[1],a[2])}function E(a,b,c,d){a.detachEvent&&!isOpera?d&&a.detachEvent(d,b):a.removeEventListener(c,b,!1)}function F(a){var b=a.currentTarget||a.srcElement;return E(b,d.onScriptLoad,"load","onreadystatechange"),E(b,d.onScriptError,"error"),{node:b,id:b&&b.getAttribute("data-requiremodule")}}function G(){var a;for(z();k.length;){if(a=k.shift(),null===a[0])return y(makeError("mismatch","Mismatched anonymous define() module: "+a[a.length-1]));D(a)}d.defQueueMap={}}var b,c,d,e,f,g={waitSeconds:7,baseUrl:"./",paths:{},bundles:{},pkgs:{},shim:{},config:{}},h={},i={},j={},k=[],l={},m={},n={},o=1,p=1;return e={require:function(a){return a.require?a.require:a.require=d.makeRequire(a.map)},exports:function(a){return a.usingExports=!0,a.map.isDefine?a.exports?l[a.map.id]=a.exports:a.exports=l[a.map.id]={}:void 0},module:function(a){return a.module?a.module:a.module={id:a.map.id,uri:a.map.url,config:function(){return getOwn(g.config,a.map.id)||{}},exports:a.exports||(a.exports={})}}},c=function(a){this.events=getOwn(j,a.id)||{},this.map=a,this.shim=getOwn(g.shim,a.id),this.depExports=[],this.depMaps=[],this.depMatched=[],this.pluginMaps={},this.depCount=0},c.prototype={init:function(a,b,c,d){d=d||{},this.inited||(this.factory=b,c?this.on("error",c):this.events.error&&(c=bind(this,function(a){this.emit("error",a)})),this.depMaps=a&&a.slice(0),this.errback=c,this.inited=!0,this.ignore=d.ignore,d.enabled||this.enabled?this.enable():this.check())},defineDep:function(a,b){this.depMatched[a]||(this.depMatched[a]=!0,this.depCount-=1,this.depExports[a]=b)},fetch:function(){if(!this.fetched){this.fetched=!0,d.startTime=(new Date).getTime();var a=this.map;return this.shim?(d.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],bind(this,function(){return a.prefix?this.callPlugin():this.load()})),void 0):a.prefix?this.callPlugin():this.load()}},load:function(){var a=this.map.url;m[a]||(m[a]=!0,d.load(this.map.id,a))},check:function(){if(this.enabled&&!this.enabling){var a,b,c=this.map.id,e=this.depExports,f=this.exports,g=this.factory;if(this.inited){if(this.error)this.emit("error",this.error);else if(!this.defining){if(this.defining=!0,this.depCount<1&&!this.defined){if(isFunction(g)){try{f=d.execCb(c,g,e,f)}catch(h){a=h}if(this.map.isDefine&&void 0===f&&(b=this.module,b?f=b.exports:this.usingExports&&(f=this.exports)),a){if(this.events.error&&this.map.isDefine||req.onError!==defaultOnError)return a.requireMap=this.map,a.requireModules=this.map.isDefine?[this.map.id]:null,a.requireType=this.map.isDefine?"define":"require",y(this.error=a);"undefined"!=typeof console&&console.error?console.error(a):req.onError(a)}}else f=g;if(this.exports=f,this.map.isDefine&&!this.ignore&&(l[c]=f,req.onResourceLoad)){var i=[];each(this.depMaps,function(a){i.push(a.normalizedMap||a)}),req.onResourceLoad(d,this.map,i)}A(c),this.defined=!0}this.defining=!1,this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}}else hasProp(d.defQueueMap,c)||this.fetch()}},callPlugin:function(){var a=this.map,b=a.id,c=v(a.prefix);this.depMaps.push(c),x(c,"defined",bind(this,function(c){var e,f,i,j=getOwn(n,this.map.id),k=this.map.name,l=this.map.parentMap?this.map.parentMap.name:null,m=d.makeRequire(a.parentMap,{enableBuildCallback:!0});return this.map.unnormalized?(c.normalize&&(k=c.normalize(k,function(a){return r(a,l,!0)})||""),f=v(a.prefix+"!"+k,this.map.parentMap),x(f,"defined",bind(this,function(a){this.map.normalizedMap=f,this.init([],function(){return a},null,{enabled:!0,ignore:!0})})),i=getOwn(h,f.id),i&&(this.depMaps.push(f),this.events.error&&i.on("error",bind(this,function(a){this.emit("error",a)})),i.enable()),void 0):j?(this.map.url=d.nameToUrl(j),this.load(),void 0):(e=bind(this,function(a){this.init([],function(){return a},null,{enabled:!0})}),e.error=bind(this,function(a){this.inited=!0,this.error=a,a.requireModules=[b],eachProp(h,function(a){0===a.map.id.indexOf(b+"_unnormalized")&&A(a.map.id)}),y(a)}),e.fromText=bind(this,function(c,f){var h=a.name,i=v(h),j=useInteractive;f&&(c=f),j&&(useInteractive=!1),w(i),hasProp(g.config,b)&&(g.config[h]=g.config[b]);try{req.exec(c)}catch(k){return y(makeError("fromtexteval","fromText eval for "+b+" failed: "+k,k,[b]))}j&&(useInteractive=!0),this.depMaps.push(i),d.completeLoad(h),m([h],e)}),c.load(a.name,m,e,g),void 0)})),d.enable(c,this),this.pluginMaps[c.id]=c},enable:function(){i[this.map.id]=this,this.enabled=!0,this.enabling=!0,each(this.depMaps,bind(this,function(a,b){var c,f,g;if("string"==typeof a){if(a=v(a,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap),this.depMaps[b]=a,g=getOwn(e,a.id))return this.depExports[b]=g(this),void 0;this.depCount+=1,x(a,"defined",bind(this,function(a){this.undefed||(this.defineDep(b,a),this.check())})),this.errback?x(a,"error",bind(this,this.errback)):this.events.error&&x(a,"error",bind(this,function(a){this.emit("error",a)}))}c=a.id,f=h[c],hasProp(e,c)||!f||f.enabled||d.enable(a,this)})),eachProp(this.pluginMaps,bind(this,function(a){var b=getOwn(h,a.id);b&&!b.enabled&&d.enable(a,this)})),this.enabling=!1,this.check()},on:function(a,b){var c=this.events[a];c||(c=this.events[a]=[]),c.push(b)},emit:function(a,b){each(this.events[a],function(a){a(b)}),"error"===a&&delete this.events[a]}},d={config:g,contextName:a,registry:h,defined:l,urlFetched:m,defQueue:k,defQueueMap:{},Module:c,makeModuleMap:v,nextTick:req.nextTick,onError:y,configure:function(a){a.baseUrl&&"/"!==a.baseUrl.charAt(a.baseUrl.length-1)&&(a.baseUrl+="/");var b=g.shim,c={paths:!0,bundles:!0,config:!0,map:!0};eachProp(a,function(a,b){c[b]?(g[b]||(g[b]={}),mixin(g[b],a,!0,!0)):g[b]=a}),a.bundles&&eachProp(a.bundles,function(a,b){each(a,function(a){a!==b&&(n[a]=b)})}),a.shim&&(eachProp(a.shim,function(a,c){isArray(a)&&(a={deps:a}),!a.exports&&!a.init||a.exportsFn||(a.exportsFn=d.makeShimExports(a)),b[c]=a}),g.shim=b),a.packages&&each(a.packages,function(a){var b,c;a="string"==typeof a?{name:a}:a,c=a.name,b=a.location,b&&(g.paths[c]=a.location),g.pkgs[c]=a.name+"/"+(a.main||"main").replace(currDirRegExp,"").replace(jsSuffixRegExp,"")}),eachProp(h,function(a,b){a.inited||a.map.unnormalized||(a.map=v(b,null,!0))}),(a.deps||a.callback)&&d.require(a.deps||[],a.callback)},makeShimExports:function(a){function b(){var b;return a.init&&(b=a.init.apply(global,arguments)),b||a.exports&&getGlobal(a.exports)}return b},makeRequire:function(b,c){function f(g,i,j){var k,m,n;return c.enableBuildCallback&&i&&isFunction(i)&&(i.__requireJsBuild=!0),"string"==typeof g?isFunction(i)?y(makeError("requireargs","Invalid require call"),j):b&&hasProp(e,g)?e[g](h[b.id]):req.get?req.get(d,g,b,f):(m=v(g,b,!1,!0),k=m.id,hasProp(l,k)?l[k]:y(makeError("notloaded",'Module name "'+k+'" has not been loaded yet for context: '+a+(b?"":". Use require([])")))):(G(),d.nextTick(function(){G(),n=w(v(null,b)),n.skipMap=c.skipMap,n.init(g,i,j,{enabled:!0}),C()}),f)}return c=c||{},mixin(f,{isBrowser:isBrowser,toUrl:function(a){var c,e=a.lastIndexOf("."),f=a.split("/")[0],g="."===f||".."===f;return-1!==e&&(!g||e>1)&&(c=a.substring(e,a.length),a=a.substring(0,e)),d.nameToUrl(r(a,b&&b.id,!0),c,!0)},defined:function(a){return hasProp(l,v(a,b,!1,!0).id)},specified:function(a){return a=v(a,b,!1,!0).id,hasProp(l,a)||hasProp(h,a)}}),b||(f.undef=function(a){z();var c=v(a,b,!0),e=getOwn(h,a);e.undefed=!0,s(a),delete l[a],delete m[c.url],delete j[a],eachReverse(k,function(b,c){b[0]===a&&k.splice(c,1)}),delete d.defQueueMap[a],e&&(e.events.defined&&(j[a]=e.events),A(a))}),f},enable:function(a){var b=getOwn(h,a.id);b&&w(a).enable()},completeLoad:function(a){var b,c,e,f=getOwn(g.shim,a)||{},i=f.exports;for(z();k.length;){if(c=k.shift(),null===c[0]){if(c[0]=a,b)break;b=!0}else c[0]===a&&(b=!0);D(c)}if(d.defQueueMap={},e=getOwn(h,a),!b&&!hasProp(l,a)&&e&&!e.inited){if(!(!g.enforceDefine||i&&getGlobal(i)))return t(a)?void 0:y(makeError("nodefine","No define call for "+a,null,[a]));D([a,f.deps||[],f.exportsFn])}C()},nameToUrl:function(a,b,c){var e,f,h,i,j,k,l,m=getOwn(g.pkgs,a);if(m&&(a=m),l=getOwn(n,a))return d.nameToUrl(l,b,c);if(req.jsExtRegExp.test(a))j=a+(b||"");else{for(e=g.paths,f=a.split("/"),h=f.length;h>0;h-=1)if(i=f.slice(0,h).join("/"),k=getOwn(e,i)){isArray(k)&&(k=k[0]),f.splice(0,h,k);break}j=f.join("/"),j+=b||(/^data\:|\?/.test(j)||c?"":".js"),j=("/"===j.charAt(0)||j.match(/^[\w\+\.\-]+:/)?"":g.baseUrl)+j}return g.urlArgs?j+((-1===j.indexOf("?")?"?":"&")+g.urlArgs):j},load:function(a,b){req.load(d,a,b)},execCb:function(a,b,c,d){return b.apply(d,c)},onScriptLoad:function(a){if("load"===a.type||readyRegExp.test((a.currentTarget||a.srcElement).readyState)){interactiveScript=null;var b=F(a);d.completeLoad(b.id)}},onScriptError:function(a){var b=F(a);if(!t(b.id)){var c=[];return eachProp(h,function(a,d){0!==d.indexOf("_@r")&&each(a.depMaps,function(a){return a.id===b.id&&c.push(d),!0})}),y(makeError("scripterror",'Script error for "'+b.id+(c.length?'", needed by: '+c.join(", "):'"'),a,[b.id]))}}},d.require=d.makeRequire(),d}function getInteractiveScript(){return interactiveScript&&"interactive"===interactiveScript.readyState?interactiveScript:(eachReverse(scripts(),function(a){return"interactive"===a.readyState?interactiveScript=a:void 0}),interactiveScript)}var req,s,head,baseElement,dataMain,src,interactiveScript,currentlyAddingScript,mainScript,subPath,version="2.1.22",commentRegExp=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/gm,cjsRequireRegExp=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,jsSuffixRegExp=/\.js$/,currDirRegExp=/^\.\//,op=Object.prototype,ostring=op.toString,hasOwn=op.hasOwnProperty,ap=Array.prototype,isBrowser=!("undefined"==typeof window||"undefined"==typeof navigator||!window.document),isWebWorker=!isBrowser&&"undefined"!=typeof importScripts,readyRegExp=isBrowser&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,defContextName="_",isOpera="undefined"!=typeof opera&&"[object Opera]"===opera.toString(),contexts={},cfg={},globalDefQueue=[],useInteractive=!1;if("undefined"==typeof define){if("undefined"!=typeof requirejs){if(isFunction(requirejs))return;cfg=requirejs,requirejs=void 0}"undefined"==typeof require||isFunction(require)||(cfg=require,require=void 0),req=requirejs=function(a,b,c,d){var e,f,g=defContextName;return isArray(a)||"string"==typeof a||(f=a,isArray(b)?(a=b,b=c,c=d):a=[]),f&&f.context&&(g=f.context),e=getOwn(contexts,g),e||(e=contexts[g]=req.s.newContext(g)),f&&e.configure(f),e.require(a,b,c)},req.config=function(a){return req(a)},req.nextTick="undefined"!=typeof setTimeout?function(a){setTimeout(a,4)}:function(a){a()},require||(require=req),req.version=version,req.jsExtRegExp=/^\/|:|\?|\.js$/,req.isBrowser=isBrowser,s=req.s={contexts:contexts,newContext:newContext},req({}),each(["toUrl","undef","defined","specified"],function(a){req[a]=function(){var b=contexts[defContextName];return b.require[a].apply(b,arguments)}}),isBrowser&&(head=s.head=document.getElementsByTagName("head")[0],baseElement=document.getElementsByTagName("base")[0],baseElement&&(head=s.head=baseElement.parentNode)),req.onError=defaultOnError,req.createNode=function(a){var d=a.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script");return d.type=a.scriptType||"text/javascript",d.charset="utf-8",d.async=!0,d},req.load=function(a,b,c){var e,d=a&&a.config||{};if(isBrowser)return e=req.createNode(d,b,c),d.onNodeCreated&&d.onNodeCreated(e,d,b,c),e.setAttribute("data-requirecontext",a.contextName),e.setAttribute("data-requiremodule",b),!e.attachEvent||e.attachEvent.toString&&e.attachEvent.toString().indexOf("[native code")<0||isOpera?(e.addEventListener("load",a.onScriptLoad,!1),e.addEventListener("error",a.onScriptError,!1)):(useInteractive=!0,e.attachEvent("onreadystatechange",a.onScriptLoad)),e.src=c,currentlyAddingScript=e,baseElement?head.insertBefore(e,baseElement):head.appendChild(e),currentlyAddingScript=null,e;if(isWebWorker)try{importScripts(c),a.completeLoad(b)}catch(f){a.onError(makeError("importscripts","importScripts failed for "+b+" at "+c,f,[b]))}},isBrowser&&!cfg.skipDataMain&&eachReverse(scripts(),function(a){return head||(head=a.parentNode),dataMain=a.getAttribute("data-main"),dataMain?(mainScript=dataMain,cfg.baseUrl||(src=mainScript.split("/"),mainScript=src.pop(),subPath=src.length?src.join("/")+"/":"./",cfg.baseUrl=subPath),mainScript=mainScript.replace(jsSuffixRegExp,""),req.jsExtRegExp.test(mainScript)&&(mainScript=dataMain),cfg.deps=cfg.deps?cfg.deps.concat(mainScript):[mainScript],!0):void 0}),define=function(a,b,c){var d,e;"string"!=typeof a&&(c=b,b=a,a=null),isArray(b)||(c=b,b=null),!b&&isFunction(c)&&(b=[],c.length&&(c.toString().replace(commentRegExp,"").replace(cjsRequireRegExp,function(a,c){b.push(c)}),b=(1===c.length?["require"]:["require","exports","module"]).concat(b))),useInteractive&&(d=currentlyAddingScript||getInteractiveScript(),d&&(a||(a=d.getAttribute("data-requiremodule")),e=contexts[d.getAttribute("data-requirecontext")])),e?(e.defQueue.push([a,b,c]),e.defQueueMap[a]=!0):globalDefQueue.push([a,b,c])},define.amd={jQuery:!0},req.exec=function(text){return eval(text)},req(cfg)}}(this),ed.requirejs=requirejs,ed.require=require,ed.define=define}}(),ed.define("requireLib",function(){}),ed.define("ed",function(){}),ed.require.config({baseUrl:window.ed_site?window.ed_site+"media/com_easydiscuss/scripts":"/media/com_easydiscuss/scripts",paths:{"abstract":"vendors/abstract",easydiscuss:"vendors/easydiscuss",edjquery:"vendors/jquery.joomla","jquery.utils":"vendors/jquery.utils","jquery.uri":"vendors/jquery.uri","jquery.server":"vendors/jquery.server","jquery.migrate":"vendors/jquery.migrate","jquery.popbox":"vendors/jquery.popbox",dialog:"vendors/dialog",bootstrap:"vendors/bootstrap",markitup:"vendors/markitup","jquery.expanding":"vendors/jquery.expanding",select2:"vendors/select2","jquery.debounce":"vendors/jquery.debounce","jquery.ui.position":"site/vendors/jquery.ui.position","jquery.caret":"site/vendors/jquery.caret","jquery.atwho":"site/vendors/jquery.atwho",selectize:"site/vendors/selectize",toastr:"site/vendors/toastr","perfect-scrollbar":"site/vendors/perfect-scrollbar",eventsource:"site/vendors/eventsource","jquery.raty":"site/vendors/jquery.raty","jquery.scrollto":"site/vendors/jquery.scrollto","jquery.fancybox":"site/vendors/jquery.fancybox",dependencies:"site/src/dependencies"}}),ed.define("edq",["edjquery","jquery.uri","bootstrap","jquery.popbox","jquery.ui.position","jquery.utils","jquery.debounce","jquery.server","jquery.migrate","dialog","select2"],function(a){return ed.require(["dependencies"]),document.documentElement.classList.add("si-theme--"+window.ed_mode),a}),ed.define("abstract",["edq"],function(a){var b=function(a){this.data=a,"function"==typeof this.data&&(this.data=this.data.call(this,this)),this.element=null,this.options={},this.definitions={},this.attach=function(a,b){this.definitions.identifier=b}};return b.prototype.execute=function(b,c){this.element=a(b);var d=this;return this.options=a.extend({},this.data.opts,c),a.each(this.data,function(a,b){d.register(a,b)}),a.each(this.options,function(a,b){d.registerProperties(a,b)}),this.construct(),this},b.prototype.construct=function(){var a=this.init;"function"==typeof a&&a.call(this,this.element)},b.prototype.register=function(a,b){return a.match(/^\{.+\}/)?(this.registerEvent(a,b),void 0):(this[a]=b,void 0)},b.prototype.registerProperties=function(a,b){if(b){a=a.replace(/\{/,""),a=a.replace(/\}/,"");var c=this;this[a]=function(){var a=c.element.find(b);return a}}},b.prototype.registerEvent=function(b,c){var d=this,e=b.match(/^\{.+\}/),e=e[0],f=this.element.find(this.options[e]),g=a.trim(b.replace(/^\{.+\}/,"")),h=c;f.live(g,function(b){h.apply(d,[a(this),b])})},b}),ed.define("bootstrap",["edjquery"],function(a){jQuery=a,+function(a){"use strict";var b=function(c,d){this.$element=a(c),this.options=a.extend({},b.DEFAULTS,d)};b.DEFAULTS={loadingText:"loading..."},b.prototype.setState=function(a){var b="disabled",c=this.$element,d=c.is("input")?"val":"html",e=c.data();a+="Text",e.resetText||c.data("resetText",c[d]()),c[d](e[a]||this.options[a]),setTimeout(function(){"loadingText"==a?c.addClass(b).attr(b,b):c.removeClass(b).removeAttr(b)},0)},b.prototype.toggle=function(){var a=this.$element.closest('[data-ed-toggle="buttons"]'),b=!0;if(a.length){var c=this.$element.find("input");"radio"===c.prop("type")&&(c.prop("checked")&&this.$element.hasClass("active")?b=!1:a.find(".active").removeClass("active")),b&&c.prop("checked",!this.$element.hasClass("active")).trigger("change")}b&&this.$element.toggleClass("active")};var c=a.fn.button;a.fn.button=function(c){return this.each(function(){var d=a(this),e=d.data("bs.button"),f="object"==typeof c&&c;e||d.data("bs.button",e=new b(this,f)),"toggle"==c?e.toggle():c&&e.setState(c)})},a.fn.button.Constructor=b,a.fn.button.noConflict=function(){return a.fn.button=c,this},a(document).on("click.bs.button.data-api","[data-ed-toggle^=button]",function(b){var c=a(b.target);c.hasClass("btn")||(c=c.closest(".btn")),c.button("toggle"),b.preventDefault()})}(jQuery),+function(a){"use strict";var b=function(a,b){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",a,b)};b.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},b.prototype.init=function(b,c,d){this.enabled=!0,this.type=b,this.$element=a(c),this.options=this.getOptions(d);for(var e=this.options.trigger.split(" "),f=e.length;f--;){var g=e[f];if("click"==g)this.$element.on("click."+this.type,this.options.selector,a.proxy(this.toggle,this));else if("manual"!=g){var h="hover"==g?"mouseenter":"focus",i="hover"==g?"mouseleave":"blur";this.$element.on(h+"."+this.type,this.options.selector,a.proxy(this.enter,this)),this.$element.on(i+"."+this.type,this.options.selector,a.proxy(this.leave,this))}}this.options.selector?this._options=a.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},b.prototype.getDefaults=function(){return b.DEFAULTS},b.prototype.getOptions=function(b){return b=a.extend({},this.getDefaults(),this.$element.data(),b),b.delay&&"number"==typeof b.delay&&(b.delay={show:b.delay,hide:b.delay}),b},b.prototype.getDelegateOptions=function(){var b={},c=this.getDefaults();return this._options&&a.each(this._options,function(a,d){c[a]!=d&&(b[a]=d)}),b},b.prototype.enter=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(c.timeout),c.hoverState="in",c.options.delay&&c.options.delay.show?(c.timeout=setTimeout(function(){"in"==c.hoverState&&c.show()},c.options.delay.show),void 0):c.show()},b.prototype.leave=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(c.timeout),c.hoverState="out",c.options.delay&&c.options.delay.hide?(c.timeout=setTimeout(function(){"out"==c.hoverState&&c.hide()},c.options.delay.hide),void 0):c.hide()},b.prototype.show=function(){var b=a.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){if(this.$element.triggerHandler(b),b.isDefaultPrevented())return;var c=this.tip();this.setContent(),this.options.animation&&c.addClass("fade");var d="function"==typeof this.options.placement?this.options.placement.call(this,c[0],this.$element[0]):this.options.placement,e=/\s?auto?\s?/i,f=e.test(d);f&&(d=d.replace(e,"")||"top"),c.detach().css({top:0,left:0,display:"block"}).addClass(d.split("-")[0]),this.options.container?c.appendTo(this.options.container):c.insertAfter(this.$element);var g=this.getPosition(),h=c[0].offsetWidth,i=c[0].offsetHeight;if(f){var j=this.$element.parent(),k=d,l=document.documentElement.scrollTop||document.body.scrollTop,m="body"==this.options.container?window.innerWidth:j.outerWidth(),n="body"==this.options.container?window.innerHeight:j.outerHeight(),o="body"==this.options.container?0:j.offset().left;d="bottom"==d&&g.top+g.height+i-l>n?"top":"top"==d&&g.top-l-i<0?"bottom":"right"==d&&g.right+h>m?"left":"left"==d&&g.left-h<o?"right":d,c.removeClass(k).addClass(d)}var p=this.getCalculatedOffset(d,g,h,i);this.applyPlacement(p,d),this.$element.trigger("shown.bs."+this.type)}},b.prototype.applyPlacement=function(a,b){var c,d=this.tip(),e=d[0].offsetWidth,f=d[0].offsetHeight,g=parseInt(d.css("margin-top"),10),h=parseInt(d.css("margin-left"),10);isNaN(g)&&(g=0),isNaN(h)&&(h=0),a.top=a.top+g,a.left=a.left+h,d.offset(a).addClass("in");var i=d[0].offsetWidth,j=d[0].offsetHeight;if("top"==b&&j!=f&&(c=!0,a.top=a.top+f-j),0===["top","bottom"].indexOf(b.split("-")[0])){var k=0;a.left<0&&(k=-2*a.left,a.left=0,d.offset(a),i=d[0].offsetWidth,j=d[0].offsetHeight),this.replaceArrow(k-e+i,i,"left")}0===["left","right"].indexOf(b.split("-")[0])&&this.replaceArrow(j-f,j,"top"),c&&d.offset(a)},b.prototype.replaceArrow=function(a,b,c){this.arrow().css(c,a?50*(1-a/b)+"%":"")},b.prototype.setContent=function(){var a=this.tip(),b=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](b),a.removeClass("fade in top bottom left right")},b.prototype.hide=function(){function e(){"in"!=b.hoverState&&c.detach()}var b=this,c=this.tip(),d=a.Event("hide.bs."+this.type);return this.$element.triggerHandler(d),d.isDefaultPrevented()?void 0:(c.removeClass("in"),a.support.transition&&this.$tip.hasClass("fade")?c.one(a.support.transition.end,e).emulateTransitionEnd(150):e(),this.$element.trigger("hidden.bs."+this.type),this)},b.prototype.fixTitle=function(){var a=this.$element;(a.attr("title")||"string"!=typeof a.attr("data-original-title"))&&a.attr("data-original-title",a.attr("title")||"").attr("title","")},b.prototype.hasContent=function(){return this.getTitle()},b.prototype.getPosition=function(){var b=this.$element[0];return a.extend({},"function"==typeof b.getBoundingClientRect?b.getBoundingClientRect():{width:b.offsetWidth,height:b.offsetHeight},this.$element.offset())},b.prototype.getCalculatedOffset=function(a,b,c,d){return"left-top"==a?{top:b.top,left:b.left-c}:"left-bottom"==a?{top:b.top+b.height-d,left:b.left-c}:"right-top"==a?{top:b.top,left:b.left+b.width}:"right-bottom"==a?{top:b.top+b.height-d,left:b.left+b.width}:"top-left"==a?{top:b.top-d,left:b.left}:"top-right"==a?{top:b.top-d,left:b.left+b.width-c}:"bottom-left"==a?{top:b.top+b.height,left:b.left}:"bottom-right"==a?{top:b.top+b.height,left:b.left+b.width-c}:"bottom"==a?{top:b.top+b.height,left:b.left+b.width/2-c/2}:"top"==a?{top:b.top-d,left:b.left+b.width/2-c/2}:"left"==a?{top:b.top+b.height/2-d/2,left:b.left-c}:{top:b.top+b.height/2-d/2,left:b.left+b.width}},b.prototype.getTitle=function(){var a,b=this.$element,c=this.options;return a=b.attr("data-original-title")||("function"==typeof c.title?c.title.call(b[0]):c.title)},b.prototype.tip=function(){return this.$tip=this.$tip||a(this.options.template)},b.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},b.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},b.prototype.enable=function(){this.enabled=!0},b.prototype.disable=function(){this.enabled=!1},b.prototype.toggleEnabled=function(){this.enabled=!this.enabled},b.prototype.toggle=function(b){var c=b?a(b.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type):this;c.tip().hasClass("in")?c.leave(c):c.enter(c)},b.prototype.destroy=function(){this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var c=a.fn.tooltip;a.fn.tooltip=function(c){return this.each(function(){var d=a(this),e=d.data("bs.tooltip"),f="object"==typeof c&&c;e||d.data("bs.tooltip",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.tooltip.Constructor=b,a.fn.tooltip.noConflict=function(){return a.fn.tooltip=c,this}}(jQuery),+function(a){"use strict";var b=function(a,b){this.init("popover",a,b)};if(!a.fn.tooltip)throw new Error("Popover requires tooltip.js");b.DEFAULTS=a.extend({},a.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div id="ed" class=" o-popover--ed"><div class="popover-inner"><h3 class="popover-title"></h3><div class="popover-content"></div></div></div>'}),b.prototype=a.extend({},a.fn.tooltip.Constructor.prototype),b.prototype.constructor=b,b.prototype.getDefaults=function(){return b.DEFAULTS},b.prototype.setContent=function(){var a=this.tip(),b=this.getTitle(),c=this.getContent();a.find(".popover-title")[this.options.html?"html":"text"](b),a.find(".popover-content")[this.options.html?"html":"text"](c),a.removeClass("fade top bottom left right in"),a.find(".popover-title").html()||a.find(".popover-title").hide()},b.prototype.hasContent=function(){return this.getTitle()||this.getContent()},b.prototype.getContent=function(){var a=this.$element,b=this.options;return a.attr("data-content")||("function"==typeof b.content?b.content.call(a[0]):b.content)},b.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},b.prototype.tip=function(){return this.$tip||(this.$tip=a(this.options.template)),this.$tip};var c=a.fn.popover;a.fn.popover=function(c){return this.each(function(){var d=a(this),e=d.data("bs.popover"),f="object"==typeof c&&c;e||d.data("bs.popover",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.popover.Constructor=b,a.fn.popover.noConflict=function(){return a.fn.popover=c,this}}(jQuery),+function(a){"use strict";var b=function(c,d){this.$element=a(c),this.options=a.extend({},b.DEFAULTS,d),this.transitioning=null,this.options.parent&&(this.$parent=a(this.options.parent)),this.options.toggle&&this.toggle()};b.DEFAULTS={toggle:!0},b.prototype.dimension=function(){var a=this.$element.hasClass("width");return a?"width":"height"},b.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var b=a.Event("show.bs.collapse");if(this.$element.triggerHandler(b),!b.isDefaultPrevented()){var c=this.$parent&&this.$parent.find("> .panel > .in");if(c&&c.length){var d=c.data("bs.collapse");if(d&&d.transitioning)return;c.collapse("hide"),d||c.data("bs.collapse",null)}var e=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[e](0),this.transitioning=1;var f=function(){this.$element.removeClass("collapsing").addClass("in")[e]("auto"),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!a.support.transition)return f.call(this);var g=a.camelCase(["scroll",e].join("-"));this.$element.one(a.support.transition.end,a.proxy(f,this)).emulateTransitionEnd(350)[e](this.$element[0][g])}}},b.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var b=a.Event("hide.bs.collapse");if(this.$element.triggerHandler(b),!b.isDefaultPrevented()){var c=this.dimension();
this.$element[c](this.$element[c]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var d=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};return a.support.transition?(this.$element[c](0).one(a.support.transition.end,a.proxy(d,this)).emulateTransitionEnd(350),void 0):d.call(this)}}},b.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var c=a.fn.collapse;a.fn.collapse=function(c){return this.each(function(){var d=a(this),e=d.data("bs.collapse"),f=a.extend({},b.DEFAULTS,d.data(),"object"==typeof c&&c);e||d.data("bs.collapse",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.collapse.Constructor=b,a.fn.collapse.noConflict=function(){return a.fn.collapse=c,this},a(document).on("click.bs.collapse.data-api","[data-ed-toggle=collapse]",function(b){var d,c=a(this),e=c.attr("data-target")||b.preventDefault()||(d=c.attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,""),f=a(e),g=f.data("bs.collapse"),h=g?"toggle":c.data(),i=c.attr("data-parent"),j=i&&a(i);g&&g.transitioning||(j&&j.find('[data-ed-toggle=collapse][data-parent="'+i+'"]').not(c).addClass("collapsed"),c[f.hasClass("in")?"addClass":"removeClass"]("collapsed")),f.collapse(h)})}(jQuery),+function(a){"use strict";function e(){window["Foundry/Bootstrap"]||a(b).remove(),a(c).each(function(b){var c=f(a(this));c.hasClass("open")&&(c.triggerHandler(b=a.Event("hide.bs.dropdown")),b.isDefaultPrevented()||c.removeClass("open").trigger("hidden.bs.dropdown"))})}function f(b){var c=b.attr("data-target");c||(c=b.attr("href"),c=c&&/#/.test(c)&&c.replace(/.*(?=#[^\s]*$)/,""));var d=c&&a(c);return d&&d.length?d:b.parent()}var b=".dropdown-backdrop",c="[data-ed-toggle=dropdown]",d=function(b){a(b).on("click.bs.dropdown",this.toggle)};d.prototype.toggle=function(b){var c=a(this);if(!c.is(".disabled, :disabled")){var d=f(c),g=d.hasClass("open");if(e(),!g){if("ontouchstart"in document.documentElement&&!d.closest(".navbar-nav").length&&a('<div class="dropdown-backdrop"/>').insertAfter(a(this)).on("click",e),d.triggerHandler(b=a.Event("show.bs.dropdown")),b.isDefaultPrevented())return;d.toggleClass("open").trigger("shown.bs.dropdown"),c.focus()}return!1}},d.prototype.keydown=function(b){if(/(38|40|27)/.test(b.keyCode)){var d=a(this);if(b.preventDefault(),b.stopPropagation(),!d.is(".disabled, :disabled")){var e=f(d),g=e.hasClass("open");if(!g||g&&27==b.keyCode)return 27==b.which&&e.find(c).focus(),d.click();var h=a("[role=menu] li:not(.divider):visible a",e);if(h.length){var i=h.index(h.filter(":focus"));38==b.keyCode&&i>0&&i--,40==b.keyCode&&i<h.length-1&&i++,~i||(i=0),h.eq(i).focus()}}}};var g=a.fn.dropdown;a.fn.dropdown=function(b){return this.each(function(){var c=a(this),e=c.data("bs.dropdown");e||c.data("bs.dropdown",e=new d(this)),"string"==typeof b&&e[b].call(c)})},a.fn.dropdown.Constructor=d,a.fn.dropdown.noConflict=function(){return a.fn.dropdown=g,this},a(document).on("click.bs.dropdown.data-api",e).on("click.bs.dropdown.data-api",".dropdown_ form, .dropdown-static",function(a){a.stopPropagation()}).on("click.bs.dropdown.data-api",c,d.prototype.toggle).on("keydown.bs.dropdown.data-api",c+", [role=menu]",d.prototype.keydown)}(jQuery),+function(a){"use strict";var b=function(b){this.element=a(b)};b.prototype.show=function(){var b=this.element,c=b.closest("ul:not(.dropdown-menu)"),d=b.data("target");if(d||(d=b.attr("href"),d=d&&d.replace(/.*(?=#[^\s]*$)/,"")),!b.parent("li").hasClass("active")){var e=c.find(".active:last a")[0],f=a.Event("show.bs.tab",{relatedTarget:e});if(b.triggerHandler(f),!f.isDefaultPrevented()){var g=a(d);this.activate(b.parent("li"),c),this.activate(g,g.parent(),function(){b.trigger({type:"shown.bs.tab",relatedTarget:e})})}}},b.prototype.activate=function(b,c,d){function g(){e.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),b.addClass("active"),f?(b[0].offsetWidth,b.addClass("in")):b.removeClass("fade"),b.parent(".dropdown-menu")&&b.closest("li.dropdown").addClass("active"),d&&d()}var e=c.find("> .active"),f=d&&a.support.transition&&e.hasClass("fade");f?e.one(a.support.transition.end,g).emulateTransitionEnd(150):g(),e.removeClass("in")};var c=a.fn.tab;a.fn.tab=function(c){return this.each(function(){var d=a(this),e=d.data("bs.tab");e||d.data("bs.tab",e=new b(this)),"string"==typeof c&&e[c]()})},a.fn.tab.Constructor=b,a.fn.tab.noConflict=function(){return a.fn.tab=c,this},a(document).on("click.bs.tab.data-api",'[data-ed-toggle="tab"], [data-ed-toggle="pill"]',function(b){b.preventDefault(),a(this).tab("show")}),a(document).on("mouseover.popover.data-ed-api","[data-ed-provide=popover]",function(){a(this).popover({delay:{show:200,hide:100},animation:!1,trigger:"hover",container:"body"}).popover("show")}),a(document).on("click.button.data-ed-api","[data-ed-toggle-value]",function(){var b=a(this),d=(b.siblings("[data-ed-toggle-value]"),b.parents('[data-ed-toggle="radio-buttons"]'));if(!d.hasClass("disabled")&&d.length>0){var e=b.data("ed-toggle-value");return d.find("input[type=hidden]").val(e).trigger("change"),void 0}}),a(document).on("change.data-ed-input",'[data-ed-toggle="radio-buttons"] input[type=hidden]',function(){{var b=a(this),c=b.siblings("[data-ed-toggle-value]");b.val()}c.removeClass("active").filter('[data-ed-toggle-value="'+b.val()+'"]').addClass("active")})}(jQuery);var b=function(b,c){this.$element=a(b),this.options=a.extend({},a.fn.typeahead.defaults,c),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.select=this.options.select||this.select,this.autoSelect="boolean"==typeof this.options.autoSelect?this.options.autoSelect:!0,this.highlighter=this.options.highlighter||this.highlighter,this.render=this.options.render||this.render,this.updater=this.options.updater||this.updater,this.displayText=this.options.displayText||this.displayText,this.source=this.options.source,this.delay=this.options.delay,this.$menu=a(this.options.menu),this.$appendTo=this.options.appendTo?a(this.options.appendTo):null,this.shown=!1,this.listen(),this.showHintOnFocus="boolean"==typeof this.options.showHintOnFocus?this.options.showHintOnFocus:!1,this.afterSelect=this.options.afterSelect,this.addItem=!1};b.prototype={constructor:b,select:function(){var a=this.$menu.find(".active").data("value");if(this.$element.data("active",a),this.autoSelect||a){var b=this.updater(a);b||(b=""),this.$element.val(this.displayText(b)||b).change(),this.afterSelect(b)}return this.hide()},updater:function(a){return a},setSource:function(a){this.source=a},show:function(){var c,b=a.extend({},this.$element.position(),{height:this.$element[0].offsetHeight});c="function"==typeof this.options.scrollHeight?this.options.scrollHeight.call():this.options.scrollHeight;var d;return d=this.shown?this.$menu:this.$appendTo?this.$menu.appendTo(this.$appendTo):this.$menu.insertAfter(this.$element),d.css({top:b.top+b.height+c,left:b.left}).show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(b){if(this.query="undefined"!=typeof b&&null!==b?b:this.$element.val()||"",this.query.length<this.options.minLength)return this.shown?this.hide():this;var d=a.proxy(function(){a.isFunction(this.source)?this.process(this.source(this.query,a.proxy(this.process,this))):this.source&&this.process(this.source)},this);clearTimeout(this.lookupWorker),this.lookupWorker=setTimeout(d,this.delay)},process:function(b){var c=this;return void 0===b&&(b=[]),b=a.grep(b,function(a){return c.matcher(a)}),b=this.sorter(b),b.length||this.options.addItem?(b.length>0?this.$element.data("active",b[0]):this.$element.data("active",null),this.options.addItem&&b.push(this.options.addItem),"all"==this.options.items?this.render(b).show():this.render(b.slice(0,this.options.items)).show()):this.shown?this.hide():this},matcher:function(a){var b=this.displayText(a);return~b.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(a){for(var e,b=[],c=[],d=[];e=a.shift();){var f=this.displayText(e);f.toLowerCase().indexOf(this.query.toLowerCase())?~f.indexOf(this.query)?c.push(e):d.push(e):b.push(e)}return b.concat(c,d)},highlighter:function(b){var f,g,h,i,j,c=a("<div></div>"),d=this.query,e=b.toLowerCase().indexOf(d.toLowerCase());if(f=d.length,0===f)return c.text(b).html();for(;e>-1;)g=b.substr(0,e),h=b.substr(e,f),i=b.substr(e+f),j=a("<strong></strong>").text(h),c.append(document.createTextNode(g)).append(j),b=i,e=b.toLowerCase().indexOf(d.toLowerCase());return c.append(document.createTextNode(b)).html()},render:function(b){var c=this,d=this,e=!1;return b=a(b).map(function(b,f){var g=d.displayText(f);return b=a(c.options.item).data("value",f),b.find("a").html(c.highlighter(g)),g==d.$element.val()&&(b.addClass("active"),d.$element.data("active",f),e=!0),b[0]}),this.autoSelect&&!e&&(b.first().addClass("active"),this.$element.data("active",b.first().data("value"))),this.$menu.html(b),this},displayText:function(a){return"undefined"!=typeof a&&"undefined"!=typeof a.name&&a.name||a},next:function(){var c=this.$menu.find(".active").removeClass("active"),d=c.next();d.length||(d=a(this.$menu.find("li")[0])),d.addClass("active")},prev:function(){var b=this.$menu.find(".active").removeClass("active"),c=b.prev();c.length||(c=this.$menu.find("li").last()),c.addClass("active")},listen:function(){this.$element.on("focus",a.proxy(this.focus,this)).on("blur",a.proxy(this.blur,this)).on("keypress",a.proxy(this.keypress,this)).on("keyup",a.proxy(this.keyup,this)),this.eventSupported("keydown")&&this.$element.on("keydown",a.proxy(this.keydown,this)),this.$menu.on("click",a.proxy(this.click,this)).on("mouseenter","li",a.proxy(this.mouseenter,this)).on("mouseleave","li",a.proxy(this.mouseleave,this))},destroy:function(){this.$element.data("typeahead",null),this.$element.data("active",null),this.$element.off("focus").off("blur").off("keypress").off("keyup"),this.eventSupported("keydown")&&this.$element.off("keydown"),this.$menu.remove()},eventSupported:function(a){var b=a in this.$element;return b||(this.$element.setAttribute(a,"return;"),b="function"==typeof this.$element[a]),b},move:function(a){if(this.shown)switch(a.keyCode){case 9:case 13:case 27:a.preventDefault();break;case 38:if(a.shiftKey)return;a.preventDefault(),this.prev();break;case 40:if(a.shiftKey)return;a.preventDefault(),this.next()}},keydown:function(b){this.suppressKeyPressRepeat=~a.inArray(b.keyCode,[40,38,9,13,27]),this.shown||40!=b.keyCode?this.move(b):this.lookup()},keypress:function(a){this.suppressKeyPressRepeat||this.move(a)},keyup:function(a){switch(a.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}a.preventDefault()},focus:function(){this.focused||(this.focused=!0,this.options.showHintOnFocus&&this.lookup(""))},blur:function(){this.focused=!1,!this.mousedover&&this.shown&&this.hide()},click:function(a){a.preventDefault(),this.select(),this.$element.focus()},mouseenter:function(b){this.mousedover=!0;var c=this.$menu.find(".active");c.removeClass("active"),a(b.currentTarget).addClass("active")},mouseleave:function(){this.mousedover=!1,!this.focused&&this.shown&&this.hide()}};var c=a.fn.typeahead;return a.fn.typeahead=function(c){var d=arguments;return"string"==typeof c&&"getActive"==c?this.data("active"):this.each(function(){var e=a(this),f=e.data("typeahead"),g="object"==typeof c&&c;f||e.data("typeahead",f=new b(this,g)),"string"==typeof c&&(d.length>1?f[c].apply(f,Array.prototype.slice.call(d,1)):f[c]())})},a.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu" role="listbox"></ul>',item:'<li><a class="dropdown-item" href="#" role="option"></a></li>',minLength:1,scrollHeight:0,autoSelect:!0,afterSelect:a.noop,addItem:!1,delay:0},a.fn.typeahead.Constructor=b,a.fn.typeahead.noConflict=function(){return a.fn.typeahead=c,this},a(document).on("focus.typeahead.data-api",'[data-ed-provide="typeahead"]',function(){var c=a(this);c.data("typeahead")||c.typeahead(c.data())}),a}),ed.define("dialog",["edjquery","easydiscuss"],function($,EasyDiscuss){var dialogHtml='<div id="ed" class="ed-dialog"> <div class="ed-dialog-modal"> <div class="ed-dialog-header"> <div class="ed-dialog-header__grid"> <div class="ed-dialog-back-button t-hidden"><i class="fa fa-chevron-left"></i></div> <div class="ed-dialog-header__cell"><span class="ed-dialog-title"></span></div> <div class="ed-dialog-close-button"><span aria-hidden="true">\xd7</span></div> </div> </div> <div class="ed-dialog-body"> <div class="ed-dialog-container"> <div class="ed-dialog-content"></div> <div class="o-loader"></div> <div class="o-empty"> <div class="o-empty__content"><i class="o-empty__icon fa fa-exclamation-triangle"></i> <div class="o-empty__text"><span class="ed-dialog-error-message"></span></div> </div> </div> </div> </div> <div class="ed-dialog-footer"> <div class=""> <div class="ed-dialog-footer-content"></div> </div> </div> </div></div>',dialog_=".ed-dialog",dialogModal_=".ed-dialog-modal",dialogContent_=".ed-dialog-content",dialogHeader_=".ed-dialog-header",dialogFooter_=".ed-dialog-footer",dialogFooterContent_=".ed-dialog-footer-content",dialogCloseButton_=".ed-dialog-close-button",dialogTitle_=".ed-dialog-title",dialogErrorMessage_=".ed-dialog-error-message",isFailed="is-failed",isLoading="is-loading",rxBraces=/\{|\}/gi,self=EasyDiscuss.dialog=function(a){if(void 0===a)return self;$.isString(a)&&(a={content:a});var b=self.open;return b.apply(self,[a]),self};$.extend(self,{defaultOptions:{title:"",content:"",buttons:"",classname:"",width:"auto",height:"auto",escapeKey:!0},open:function(a){var b=$(dialog_);b.length<1&&(b=$(dialogHtml).appendTo("body"),window.ed_mobile&&b.addClass("is-mobile"));var a=$.extend({},self.defaultOptions,a),c=$(dialogTitle_);c.text(a.title);var d=$(dialogFooterContent_);d.html(a.buttons),b.toggleClass("has-footer",!!a.buttons),self.setBindings(a);var e=$(dialogContent_).empty(),f=a.content,g=self.getContentType(f);b.switchClass("type-"+g);var h=$(dialogModal_),i=a.width,j=a.height;if($.isNumeric(j)){var k=$(dialogHeader_),l=$(dialogFooter_);j+=k.height()+l.height()}switch(h.css({width:i,height:j}),b.addClassAfter("active"),g){case"html":e.html(f);break;case"iframe":var m=$("<iframe>"),n=f;m.appendTo(e).one("load",function(){try{m[0].contentWindow.parentEasyBlogDialog=self}catch(a){}}).attr("src",n);break;case"deferred":return b.switchClass(isLoading),f.done(function(c){$.isPlainObject(c)?self.reopen($.extend(!0,a,c)):$.isString(c)?(a.content=c,self.reopen(a)):b.switchClass(isFailed)}).fail(function(a){b.switchClass(isFailed);var c=$(dialogErrorMessage_);$.isString(a)&&c.html(a),$.isPlainObject(a)&&a.message&&c.html(a.message)}),void 0;case"dialog":var o=self.parseXMLOptions(f);return self.open($.extend(!0,a,o)),void 0}},reopen:function(a){self.close(),self.open(a)},close:function(){self.unsetBindings();var a=$(dialog_);a.remove()},getContentType:function(a){return/<dialog>(.*?)/.test(a)?"dialog":$.isUrl(a)?"iframe":$.isDeferred(a)?"deferred":"html"},parseXMLOptions:function(xml){var xmlOptions=$.buildHTML(xml),newOptions={};return $.each(xmlOptions.children(),function(i,node){var node=$(node),key=$.String.camelize(this.nodeName.toLowerCase()),val=node.html(),type=node.attr("type");switch(type){case"json":try{val=$.parseJSON(val)}catch(e){}break;case"javascript":try{val=eval("(function($){ return "+$.trim(val)+" })("+$.globalNamespace+")")}catch(e){}break;case"text":val=node.text()}$.isNumeric(val)&&(val=parseFloat(val)),newOptions[key]=val}),newOptions},bindings:{},setBindings:function(a){self.unsetBindings();var b=a.selectors,c=a.bindings;if(b&&c){var d={parent:self},e=$(dialog_);$.each(b,function(a,b){var a=a.replace(rxBraces,""),c=d[a]=function(){return e.find(b)};c.selector=b}),$.each(c,function(a,b){var c=a.split(" "),f=c[0].replace(rxBraces,""),g=c[1]+".ed.dialog",h=d[f];if(h){var i=h.selector;e.on(g,i,function(){b.apply(d,[this].concat(arguments))}),self.bindings[g]=b}})}a.escapeKey&&$(document).on("keydown.ed.dialog",function(a){27==a.keyCode&&self.close()})},unsetBindings:function(){var a=$(dialog_);$.each(self.bindings,function(b){a.off(b)}),$(document).off("keydown.ed.dialog")}}),$(document).on("click",dialogCloseButton_,function(){self.close()}).on("click",dialog_,function(a){var b=$(dialog_);a.target==b[0]&&self.close()})}),ed.define("easydiscuss",["edjquery"],function(a){var b={ajax:function(b,c,d){var f={url:this.getUrl(),data:a.extend(c,{option:"com_easydiscuss",namespace:b})};if(f.data[this.getToken()]=1,f.data.hasOwnProperty("args")&&(f.data.args=a.toJSON(f.data.args)),a.isPlainObject(d)){if(d.type){switch(d.type){case"jsonp":d.dataType="jsonp",d.crossDomain=!0,f.data.transport="jsonp";break;case"iframe":d.iframe=!0,d.processData=!1,d.files=f.data.files,delete f.data.files,f.data.transport="iframe"}delete d.type}a.extend(f,d)}a.isFunction(d)&&(f.success=d);var g=a.server(f);return g.progress(function(){}),g},getUrl:function(){return a("[data-ed-ajax-url]").val()},getToken:function(){return a("[data-ed-token]").val()}};return b.$=a,window.ED=window.EasyDiscuss=b,b}),ed.define("jquery.debounce",["edq"],function(){!function(a,b){"$:nomunge";var d,c=a.jQuery||a.Cowboy||(a.Cowboy={});c.throttle=d=function(a,d,e,f){function i(){function k(){h=+new Date,e.apply(c,j)}function l(){g=b}var c=this,i=+new Date-h,j=arguments;f&&!g&&k(),g&&clearTimeout(g),f===b&&i>a?k():d!==!0&&(g=setTimeout(f?l:k,f===b?a-i:a))}var g,h=0;return"boolean"!=typeof d&&(f=e,e=d,d=b),c.guid&&(i.guid=e.guid=e.guid||c.guid++),i},c.debounce=function(a,c,e){return a===b?d(c,e,!1):d(c,a,e!==!1)}}(this)}),ed.define("jquery.expanding",["edq"],function(a){function f(){var b=a(this).data("textareaClone");b.find("div").text(this.value.replace(/\r\n/g,"\n")+" "),a(this).trigger("resize.expanding")}a.expandingTextarea=a.extend({autoInitialize:!0,initialSelector:"textarea.expanding",opts:{resize:function(){}}},a.expandingTextarea||{});var b=["lineHeight","textDecoration","letterSpacing","fontSize","fontFamily","fontStyle","fontWeight","textTransform","textAlign","direction","wordSpacing","fontSizeAdjust","wordWrap","word-break","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth","paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","boxSizing","webkitBoxSizing","mozBoxSizing","msBoxSizing"],c={position:"absolute",height:"100%",resize:"none"},d={visibility:"hidden",border:"0 solid",whiteSpace:"pre-wrap"},e={position:"relative"};return a.fn.expandingTextarea=function(g){var h=a.extend({},a.expandingTextarea.opts,g);return"resize"===g?this.trigger("input.expanding"):"destroy"===g?(this.filter(".expanding-init").each(function(){var b=a(this).removeClass("expanding-init");b.attr("style",b.data("expanding-styles")||"").removeData("expanding-styles")}),this):(this.filter("textarea").not(".expanding-init").addClass("expanding-init").each(function(){var g=a(this),i=g.parent(),j=a(a.parseHTML("<pre class='textareaClone'><div></div></pre>"));g.after(j).data("textareaClone",j),i.css(e),g.data("expanding-styles",g.attr("style")),g.css(c),j.css(d),a.each(b,function(a,b){var c=g.css(b);j.css(b)!==c&&j.css(b,c)}),g.bind("input.expanding propertychange.expanding keyup.expanding",f),f.apply(this),h.resize&&g.bind("resize.expanding",h.resize)}),this)},a(function(){a.expandingTextarea.autoInitialize&&a(a.expandingTextarea.initialSelector).expandingTextarea()}),a}),ed.define("edjquery",function(){var a=window.jQuery;return a.buildFragment=function(a,b,c,d){for(var e,f,g,h,i,j,k,l=a.length,m=createSafeFragment(b),n=[],o=0;l>o;o++)if(f=a[o],f||0===f)if("object"===jQuery.type(f))jQuery.merge(n,f.nodeType?[f]:f);else if(rhtml.test(f)){for(h=h||m.appendChild(b.createElement("div")),i=(rtagName.exec(f)||["",""])[1].toLowerCase(),k=wrapMap[i]||wrapMap._default,h.innerHTML=k[1]+f.replace(rxhtmlTag,"<$1></$2>")+k[2],e=k[0];e--;)h=h.lastChild;if(!support.leadingWhitespace&&rleadingWhitespace.test(f)&&n.push(b.createTextNode(rleadingWhitespace.exec(f)[0])),!support.tbody)for(f="table"!==i||rtbody.test(f)?"<table>"!==k[1]||rtbody.test(f)?0:h:h.firstChild,e=f&&f.childNodes.length;e--;)jQuery.nodeName(j=f.childNodes[e],"tbody")&&!j.childNodes.length&&f.removeChild(j);for(jQuery.merge(n,h.childNodes),h.textContent="";h.firstChild;)h.removeChild(h.firstChild);h=m.lastChild}else n.push(b.createTextNode(f));for(h&&m.removeChild(h),support.appendChecked||jQuery.grep(getAll(n,"input"),fixDefaultChecked),o=0;f=n[o++];)if((!d||-1===jQuery.inArray(f,d))&&(g=jQuery.contains(f.ownerDocument,f),h=getAll(m.appendChild(f),"script"),g&&setGlobalEval(h),c))for(e=0;f=h[e++];)rscriptType.test(f.type||"")&&c.push(f);return h=null,m},a});var support={};!function(){function h(){var a,b,c,h;b=document.getElementsByTagName("body")[0],b&&b.style&&(a=document.createElement("div"),c=document.createElement("div"),c.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",b.appendChild(c).appendChild(a),a.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",d=e=!1,g=!0,window.getComputedStyle&&(d="1%"!==(window.getComputedStyle(a,null)||{}).top,e="4px"===(window.getComputedStyle(a,null)||{width:"4px"}).width,h=a.appendChild(document.createElement("div")),h.style.cssText=a.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",h.style.marginRight=h.style.width="0",a.style.width="1px",g=!parseFloat((window.getComputedStyle(h,null)||{}).marginRight),a.removeChild(h)),a.innerHTML="<table><tr><td></td><td>t</td></tr></table>",h=a.getElementsByTagName("td"),h[0].style.cssText="margin:0;border:0;padding:0;display:none",f=0===h[0].offsetHeight,f&&(h[0].style.display="",h[1].style.display="none",f=0===h[0].offsetHeight),b.removeChild(c))}var a,b,c,d,e,f,g;a=document.createElement("div"),a.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",c=a.getElementsByTagName("a")[0],b=c&&c.style,b&&(b.cssText="float:left;opacity:.5",support.opacity="0.5"===b.opacity,support.cssFloat=!!b.cssFloat,a.style.backgroundClip="content-box",a.cloneNode(!0).style.backgroundClip="",support.clearCloneStyle="content-box"===a.style.backgroundClip,support.boxSizing=""===b.boxSizing||""===b.MozBoxSizing||""===b.WebkitBoxSizing,jQuery.extend(support,{reliableHiddenOffsets:function(){return null==f&&h(),f},boxSizingReliable:function(){return null==e&&h(),e},pixelPosition:function(){return null==d&&h(),d},reliableMarginRight:function(){return null==g&&h(),g}}))}();var strundefined="undefined",rcheckableType=/^(?:checkbox|radio)$/i,nodeNames="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",rinlinejQuery=/ jQuery\d+="(?:null|\d+)"/g,rnoshimcache=new RegExp("<(?:"+nodeNames+")[\\s/>]","i"),rleadingWhitespace=/^\s+/,rxhtmlTag=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,rtagName=/<([\w:]+)/,rtbody=/<tbody/i,rhtml=/<|&#?\w+;/,rnoInnerhtml=/<(?:script|style|link)/i,rchecked=/checked\s*(?:[^=]|=\s*.checked.)/i,rscriptType=/^$|\/(?:java|ecma)script/i,rscriptTypeMasked=/^true\/(.*)/,rcleanScript=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,wrapMap={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]},safeFragment=createSafeFragment(document),fragmentDiv=safeFragment.appendChild(document.createElement("div"));wrapMap.optgroup=wrapMap.option,wrapMap.tbody=wrapMap.tfoot=wrapMap.colgroup=wrapMap.caption=wrapMap.thead,wrapMap.th=wrapMap.td,ed.define("jquery.migrate",["edjquery"],function(a){var b=a;!function(a,b,c){function e(c){var e=b.console;d[c]||(d[c]=!0,a.migrateWarnings.push(c),e&&e.warn&&!a.migrateMute&&a.migrateTrace&&e.trace)}function f(b,c,d,f){if(Object.defineProperty)try{return Object.defineProperty(b,c,{configurable:!0,enumerable:!0,get:function(){return e(f),d},set:function(a){e(f),d=a}}),void 0}catch(g){}a._definePropertyBroken=!0,b[c]=d}var d={};a.migrateWarnings=[],!a.migrateMute&&b.console&&b.console.log,a.migrateTrace===c&&(a.migrateTrace=!0),a.migrateReset=function(){d={},a.migrateWarnings.length=0},"BackCompat"===document.compatMode&&e("jQuery is not compatible with Quirks Mode");var g=a("<input/>",{size:1}).attr("size")&&a.attrFn,h=a.attr,i=a.attrHooks.value&&a.attrHooks.value.get||function(){return null},j=a.attrHooks.value&&a.attrHooks.value.set||function(){return c},k=/^(?:input|button)$/i,l=/^[238]$/,m=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,n=/^(?:checked|selected)$/i;f(a,"attrFn",g||{},"jQuery.attrFn is deprecated"),a.attr=function(b,d,f,i){var j=d.toLowerCase(),o=b&&b.nodeType;return i&&(h.length<4&&e("jQuery.fn.attr( props, pass ) is deprecated"),b&&!l.test(o)&&(g?d in g:a.isFunction(a.fn[d])))?a(b)[d](f):("type"===d&&f!==c&&k.test(b.nodeName)&&b.parentNode&&e("Can't change the 'type' of an input or button in IE 6/7/8"),!a.attrHooks[j]&&m.test(j)&&(a.attrHooks[j]={get:function(b,d){var e,f=a.prop(b,d);return f===!0||"boolean"!=typeof f&&(e=b.getAttributeNode(d))&&e.nodeValue!==!1?d.toLowerCase():c},set:function(b,c,d){var e;return c===!1?a.removeAttr(b,d):(e=a.propFix[d]||d,e in b&&(b[e]=!0),b.setAttribute(d,d.toLowerCase())),d}},n.test(j)&&e("jQuery.fn.attr('"+j+"') may use property instead of attribute")),h.call(a,b,d,f))},a.attrHooks.value={get:function(a,b){var c=(a.nodeName||"").toLowerCase();return"button"===c?i.apply(this,arguments):("input"!==c&&"option"!==c&&e("jQuery.fn.attr('value') no longer gets properties"),b in a?a.value:null)},set:function(a,b){var c=(a.nodeName||"").toLowerCase();return"button"===c?j.apply(this,arguments):("input"!==c&&"option"!==c&&e("jQuery.fn.attr('value', val) no longer sets properties"),a.value=b,void 0)}};var o,p,q=a.fn.init,r=a.parseJSON,s=/^([^<]*)(<[\w\W]+>)([^>]*)$/;a.fn.init=function(b,c,d){var f;return b&&"string"==typeof b&&!a.isPlainObject(c)&&(f=s.exec(a.trim(b)))&&f[0]&&("<"!==b.charAt(0)&&e("$(html) HTML strings must start with '<' character"),f[3]&&e("$(html) HTML text after last tag is ignored"),"#"===f[0].charAt(0)&&(e("HTML string cannot start with a '#' character"),a.error("JQMIGRATE: Invalid selector string (XSS)")),c&&c.context&&(c=c.context),a.parseHTML)?q.call(this,a.parseHTML(f[2],c,!0),c,d):q.apply(this,arguments)},a.fn.init.prototype=a.fn,a.parseJSON=function(a){return a||null===a?r.apply(this,arguments):(e("jQuery.parseJSON requires a valid JSON string"),null)},a.uaMatch=function(a){a=a.toLowerCase();var b=/(chrome)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+)/.exec(a)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||a.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(a)||[];return{browser:b[1]||"",version:b[2]||"0"}},a.browser||(o=a.uaMatch(navigator.userAgent),p={},o.browser&&(p[o.browser]=!0,p.version=o.version),p.chrome?p.webkit=!0:p.webkit&&(p.safari=!0),a.browser=p),f(a,"browser",a.browser,"jQuery.browser is deprecated"),a.sub=function(){function b(a,c){return new b.fn.init(a,c)}a.extend(!0,b,this),b.superclass=this,b.fn=b.prototype=this(),b.fn.constructor=b,b.sub=this.sub,b.fn.init=function(d,e){return e&&e instanceof a&&!(e instanceof b)&&(e=b(e)),a.fn.init.call(this,d,e,c)},b.fn.init.prototype=b.fn;var c=b(document);return e("jQuery.sub() is deprecated"),b},a.ajaxSetup({converters:{"text json":a.parseJSON}});var t=a.fn.data;a.fn.data=function(b){var d,f,g=this[0];return!g||"events"!==b||1!==arguments.length||(d=a.data(g,b),f=a._data(g,b),d!==c&&d!==f||f===c)?t.apply(this,arguments):(e("Use of jQuery.fn.data('events') is deprecated"),f)};var u=/\/(java|ecma)script/i,v=a.fn.andSelf||a.fn.addBack;a.fn.andSelf=function(){return e("jQuery.fn.andSelf() replaced by jQuery.fn.addBack()"),v.apply(this,arguments)},a.clean||(a.clean=function(b,c,d,f){c=c||document,c=!c.nodeType&&c[0]||c,c=c.ownerDocument||c,e("jQuery.clean() is deprecated");var g,h,i,j,k=[];if(a.merge(k,a.buildFragment(b,c).childNodes),d)for(i=function(a){return!a.type||u.test(a.type)?f?f.push(a.parentNode?a.parentNode.removeChild(a):a):d.appendChild(a):void 0},g=0;null!=(h=k[g]);g++)a.nodeName(h,"script")&&i(h)||(d.appendChild(h),"undefined"!=typeof h.getElementsByTagName&&(j=a.grep(a.merge([],h.getElementsByTagName("script")),i),k.splice.apply(k,[g+1,0].concat(j)),g+=j.length));return k});var w=a.event.add,x=a.event.remove,y=a.event.trigger,z=a.fn.toggle,A=a.fn.live,B=a.fn.die,C="ajaxStart|ajaxStop|ajaxSend|ajaxComplete|ajaxError|ajaxSuccess",D=new RegExp("\\b(?:"+C+")\\b"),E=/(?:^|\s)hover(\.\S+|)\b/,F=function(b){return"string"!=typeof b||a.event.special.hover?b:(E.test(b)&&e("'hover' pseudo-event is deprecated, use 'mouseenter mouseleave'"),b&&b.replace(E,"mouseenter$1 mouseleave$1"))};a.event.props&&"attrChange"!==a.event.props[0]&&a.event.props.unshift("attrChange","attrName","relatedNode","srcElement"),a.event.dispatch&&f(a.event,"handle",a.event.dispatch,"jQuery.event.handle is undocumented and deprecated"),a.event.add=function(a,b,c,d,f){a!==document&&D.test(b)&&e("AJAX events should be attached to document: "+b),w.call(this,a,F(b||""),c,d,f)},a.event.remove=function(a,b,c,d,e){x.call(this,a,F(b)||"",c,d,e)},a.fn.error=function(){var a=Array.prototype.slice.call(arguments,0);return e("jQuery.fn.error() is deprecated"),a.splice(0,0,"error"),arguments.length?this.bind.apply(this,a):(this.triggerHandler.apply(this,a),this)},a.fn.toggle=function(b,c){if(!a.isFunction(b)||!a.isFunction(c))return z.apply(this,arguments);e("jQuery.fn.toggle(handler, handler...) is deprecated");var d=arguments,f=b.guid||a.guid++,g=0,h=function(c){var e=(a._data(this,"lastToggle"+b.guid)||0)%g;return a._data(this,"lastToggle"+b.guid,e+1),c.preventDefault(),d[e].apply(this,arguments)||!1};for(h.guid=f;g<d.length;)d[g++].guid=f;return this.click(h)},a.fn.live=function(b,c,d){return e("jQuery.fn.live() is deprecated"),A?A.apply(this,arguments):(a(this.context).on(b,this.selector,c,d),this)},a.fn.die=function(b,c){return e("jQuery.fn.die() is deprecated"),B?B.apply(this,arguments):(a(this.context).off(b,this.selector||"**",c),this)},a.event.trigger=function(a,b,c,d){return c||D.test(a)||e("Global events are undocumented and deprecated"),y.call(this,a,b,c||document,d)},a.each(C.split("|"),function(b,c){a.event.special[c]={setup:function(){var b=this;return b!==document&&(a.event.add(document,c+"."+a.guid,function(){a.event.trigger(c,null,b,!0)}),a._data(this,c,a.guid++)),!1},teardown:function(){return this!==document&&a.event.remove(document,c+"."+a._data(this,c)),!1}}})}(b,window)}),ed.define("jquery.popbox",["edjquery"],function(a){isAjax=function(b){return a.isString(b)?!!b.match("ajax://"):!1},a.fn.edPopbox=function(c){if(a.isPlainObject(c))return this.each(function(){var d=a(this),e=b.get(d);e?e.update(c):e=new b(d,c)}),this;if(a.isString(c)){var g,d=a(this[0]),e=b.get(d)||new b(d),f=e[c];return a.isFunction(f)&&(g=f.apply(e,a.makeArray(arguments).slice(1))),g||this}return this};var b=function(c,d){var e=this;c.data("popbox",e),a.isString(d)&&(d={content:d}),d||(d={}),c.parentsUntil("body").addBack().each(function(){var b=a(this);return"fixed"===b.css("position")?(d.fixed=!0,!1):void 0});var f={},g=c.attr("data-ed-popbox")||c.find("[data-ed-popbox-content]").html()||a(c.attr("data-ed-popbox-target")).html();g&&(f.content=g),a(["id","component","type","toggle","position","collision","cache"]).each(function(a,b){var d="data-ed-popbox-"+b,e=c.attr(d);
"cache"==b&&0==e&&(e=!1),"rtl"==document.dir&&e&&(-1!==e.indexOf("left")?e=e.replace("left","right"):-1!==e.indexOf("right")&&(e=e.replace("right","left"))),f[b]=e}),void 0!==c.attr("data-ed-popbox-offset")&&(f.offset=parseInt(c.attr("data-ed-popbox-offset"))),void 0===g&&c.attr("data-ed-popbox",""),e.update(a.extend(!0,{},b.defaultOptions,{tooltip:a(),loader:a('<div id="ed" class="o-popbox is-loading" data-ed-popbox-tooltip><div class="arrow"></div></div>'),uid:a.uid(),button:c},f,d))};return b.defaultOptions={content:"",id:null,type:"",enabled:!1,wait:!1,locked:!1,exclusive:!1,hideTimer:null,hideDelay:50,toggle:"click",position:"bottom",collision:"flip",cache:!0,fixed:!1,offset:10,namespace:""},b.get=function(c){var d=a(c).data("popbox");return d instanceof b?d:void 0},a.extend(b.prototype,{positions:"top top-left top-right top-center bottom bottom-left bottom-right bottom-center left left-top left-bottom left-center right right-top right-bottom right-center",update:function(b){var c=this;if(a.extend(!0,c,b),isAjax(c.content)){c.wait=!0,c.namespace=c.content.replace("ajax://","");var d={};c.button.each(function(){var b=this.attributes;a.each(b,function(){if(this.specified&&-1!==this.name.indexOf("data-args-")){var a=this.name.replace("data-args-","");d[a]=this.value}})});var e=function(a){return{content:EasyDiscuss.ajax(a,d)}};return c.update({content:e}),c.wait=!1,void 0}a.isString(c.content)&&(c.content=a.Deferred().resolve(c.content));var f=c.position;if(a.isString(f)){var h,i,j,k,g=f.split("-");switch(g[0]){case"top":case"bottom":h=j=g[1]||"center",i="top"==g[0]?"bottom":"top",k="top"==g[0]?"top":"bottom";break;case"left":case"right":i=k=g[1]||"center",h="left"==g[0]?"right":"left",j="left"==g[0]?"left":"right"}c.position={classname:f,my:h+" "+i,at:j+" "+k,using:function(b,d){var e=a(this),f=c.position.classname,h=b.top,i=b.left,j=c.offset,k=c.button.offset();switch(g[0]){case"top":case"bottom":var l=d.vertical;l==g[0]&&(f=f.replace(/top|bottom/gi,"top"==l?"bottom":"top")),h="top"==l?h+j:h-j,"left"==g[1]&&i<Math.floor(k.left)&&(f=f.replace(/left|right/gi,"left"==g[1]?"right":"left"));break;case"left":case"right":var m=d.horizontal;d.horizontal==g[0]&&(f=f.replace(/left|right/gi,"left"==d.horizontal?"right":"left")),i="left"==m?i+j:i-j}"rtl"==document.dir&&(-1!==f.indexOf("left")?f=f.replace("left","right"):-1!==f.indexOf("right")&&(f=f.replace("right","left"))),e.css({top:h+"px",left:i+"px"}).removeClass(c.positions).addClass(f)}}}a.extend(c.position,{of:c.button,collision:c.collision}),c.loader.attr({id:c.id,"data-ed-popbox-tooltip":c.type,style:c.fixed?"position: fixed":""}).addClass(c.component).addClass("popbox-"+c.type),c.enabled&&c.show()},trigger:function(a,b){this.tooltip.trigger(a,b),this.button.trigger(a,b)},show:function(){var c=this;if(c.enabled=!0,!c.wait){if(clearTimeout(c.hideTimer),c.exclusive&&a("[data-ed-popbox-tooltip]").each(function(){var c=b.get(a(this));c&&c.hide()}),c.button.addClass("is-active"),"click"==c.toggle){var d=a(document),e=b.toggleEvent+".popbox."+c.uid;d.off(e).on(e,function(b){var f=a(b.target).parents().andSelf();f.filter(c.button).length>0||f.filter(c.tooltip).length>0||(d.off(e),c.hide())})}var f=a(window),g="resize.popbox"+c.uid;if(f.off(g).on(g,function(){c.tooltip.length>0&&c.tooltip.position(c.position)}),c.tooltip.length>0)return c.tooltip.appendTo("body").position(c.position),c.trigger("popboxActivate",[c]),void 0;if(a.isFunction(c.content)){var h=c.content(c.namespace);if(c.update(h),c.wait)return}a.isDeferred(c.content)&&("pending"==c.content.state()&&(c.loader.appendTo("body").position(c.position),c.trigger("popboxLoading",[c])),c.content.always(function(){c.wait=!1}).done(function(b){if(!(c.tooltip.length>0)&&c.enabled){c.loader.detach();var d=a(b);if(d.filter("[data-ed-popbox-tooltip]").length<1){var e=d;d=a('<div id="ed" class="o-popbox" data-ed-popbox-tooltip><div class="arrow"></div><div class="popbox-content" data-ed-popbox-content></div></div>').attr({"data-ed-popbox-tooltip":c.type,style:c.fixed?"position: fixed":""}).addClass(c.component).addClass("popbox-"+c.type).appendTo("body"),d.find("[data-ed-popbox-content]").append(e)}else d=d.appendTo("body").filter("[data-ed-popbox-tooltip]");c.tooltip=d.data("popbox",c).position(c.position),c.tooltip.find("label").on("click",function(b){b.preventDefault(),b.stopPropagation();var d=c.tooltip.find("#"+a(this).attr("for"));d.length>0&&(d.is(":checkbox")?d.click():d.focus())}),c.trigger("popboxActivate",[c])}}).fail(function(){c.update({content:"Unable to load tooltip content."})}))}},hide:function(b){var c=this;c.enabled=!1,clearTimeout(c.hideTimer),c.loader.detach();var d=function(){(!c.locked||b)&&(c.tooltip.detach(),a(window).off("resize.popbox"+c.uid),c.trigger("popboxDeactivate",[c]),c.cache||c.destroy())};c.button.removeClass("is-active"),c.hideTimer=setTimeout(d,c.hideDelay)},destroy:function(){this.button.removeData("popbox")},widget:function(){return this}}),b.toggleEvent=navigator.userAgent.match(/iPhone|iPad|iPod/i)?"touchstart":"click",a(document).on(b.toggleEvent+".popbox","[data-ed-popbox]",function(){var b=a(this).edPopbox("widget");b.enabled?b.hide():b.show()}).on("mouseover.popbox","[data-ed-popbox]",function(){var b=a(this).edPopbox("widget");"hover"!=b.toggle||/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||b.show()}).on("mouseout.popbox","[data-ed-popbox]",function(){var b=a(this).edPopbox("widget");"hover"==b.toggle&&b.hide()}).on("mouseover.popbox.tooltip","[data-ed-popbox-tooltip]",function(){var a=b.get(this);a&&"hover"===a.toggle&&(a.locked=!0,clearTimeout(a.hideTimer))}).on("mouseout.popbox.tooltip","[data-ed-popbox-tooltip]",function(){var a=b.get(this);a&&"hover"===a.toggle&&(a.locked=!1,a.hide())}).on("click.popbox.close","[data-ed-popbox-close]",function(){var c=b.get(a(this).parents("[data-ed-popbox-tooltip]"));c&&c.hide()}),a}),ed.define("jquery.server",["edjquery"],function($){var self=$.server=function(a){var b=$.Deferred(),c=$.extend(!0,{},self.defaultOptions,a,{success:function(){}}),d=b.xhr=$.Ajax(c).done(function(c){if("string"==typeof c)try{c=$.parseJSON(c)}catch(d){b.rejectWith(b,["Unable to parse Ajax commands.","error"])}if($.isArray(c)){var e=function(c){var d=c.type,e=self.parsers[d]||a[d];return $.isFunction(e)?e.apply(b,c.data):void 0},c=$.map(c,function(a){return"notify"!=a.type?a:(e(a),void 0)});$.each(c,function(a,b){e(b)})}else b.rejectWith(b,["Invalid ajax commands.","error"]);"pending"===b.state()&&b.resolveWith(b)}).fail(function(a,c,d){b.rejectWith(b,[d,c])});return b.abort=d.abort,b};return self.defaultOptions={type:"POST",data:{tmpl:"component",format:"ajax",no_html:1},cache:!1,contentType:"application/x-www-form-urlencoded",dataType:"json"},self.parsers={script:function(){var data=$.makeArray(arguments);if("string"!=typeof data[0]){var chain=window,chainBroken=!1;$.each(data,function(a,b){"Foundry"===b.property&&(b.property=$.globalNamespace),"Foundry"===b.method&&(b.method=$.globalNamespace);try{switch(b.type){case"get":chain=chain[b.property];break;case"set":chain[b.property]=b.value,chainBroken=!0;break;case"call":chain=chain[b.method].apply(chain,b.args)}}catch(c){chainBroken=!0}})}else try{eval(data[0])}catch(err){}},resolve:function(){this.resolveWith(this,arguments)},reject:function(){this.rejectWith(this,arguments)},notify:function(){this.notifyWith(this,arguments)},redirect:function(a){window.location=a}},$}),ed.define("jquery.uri",["edjquery"],function(a){a.isUrl=function(a){var b=/^(http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/;return b.test(a)};var b=function(a){"use strict";var b=function(a){var c,d,e,f,g,h,b=[];if("undefined"==typeof a||null===a||""===a)return b;for(0===a.indexOf("?")&&(a=a.substring(1)),d=a.toString().split(/[&;]/),c=0;c<d.length;c++)e=d[c],f=e.split("="),g=f[0],h=-1===e.indexOf("=")?null:null===f[1]?"":f[1],b.push([g,h]);return b},c=b(a),d=function(){var b,d,a="";for(b=0;b<c.length;b++)d=c[b],a.length>0&&(a+="&"),a+=null===d[1]?d[0]:d.join("=");return a.length>0?"?"+a:a},e=function(a){return a=decodeURIComponent(a),a=a.replace("+"," ")},f=function(a){var b,d;for(d=0;d<c.length;d++)if(b=c[d],e(a)===e(b[0]))return b[1]},g=function(a){var d,f,b=[];for(d=0;d<c.length;d++)f=c[d],e(a)===e(f[0])&&b.push(f[1]);return b},h=function(a,b){var f,g,h,i,d=[];for(f=0;f<c.length;f++)g=c[f],h=e(g[0])===e(a),i=e(g[1])===e(b),(1===arguments.length&&!h||2===arguments.length&&!h&&!i)&&d.push(g);return c=d,this},i=function(a,b,d){return 3===arguments.length&&-1!==d?(d=Math.min(d,c.length),c.splice(d,0,[a,b])):arguments.length>0&&c.push([a,b]),this},j=function(a,b,d){var g,j,f=-1;if(3===arguments.length){for(g=0;g<c.length;g++)if(j=c[g],e(j[0])===e(a)&&decodeURIComponent(j[1])===e(d)){f=g;break}h(a,d).addParam(a,b,f)}else{for(g=0;g<c.length;g++)if(j=c[g],e(j[0])===e(a)){f=g;break}h(a),i(a,b,f)}return this};return{getParamValue:f,getParamValues:g,deleteParam:h,addParam:i,replaceParam:j,toString:d}},c=function(a){"use strict";var d=!1,e=/[-a-zA-Z0-9@:%_\+.~#?&\/\/=]{2,256}\.[a-z]{2,4}\b(\/[-a-zA-Z0-9@:%_\+.~#?&\/\/=]*)?/gi,f=function(a){for(var b={strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/},c=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],e={name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},f=b[d?"strict":"loose"].exec(a),g={},h=14;h--;)g[c[h]]=f[h]||"";return g[e.name]={},g[c[12]].replace(e.parser,function(a,b,c){b&&(g[e.name][b]=c)}),g},g=f(a||""),h=new b(g.query),i=function(a){return"undefined"!=typeof a&&(g.protocol=a),g.protocol},j=null,k=function(a){return"undefined"!=typeof a&&(j=a),null===j?-1!==g.source.indexOf("//"):j},l=function(a){return"undefined"!=typeof a&&(g.userInfo=a),g.userInfo},m=function(a){return"undefined"!=typeof a&&(g.host=a),g.host},n=function(a){return"undefined"!=typeof a&&(g.port=a),g.port},o=function(a){return"undefined"!=typeof a&&(g.path=a),g.path},p=function(a){return"undefined"!=typeof a&&(h=new b(a)),h},q=function(a){return"undefined"!=typeof a&&(g.anchor=a),g.anchor},r=function(a){return i(a),this},s=function(a){return k(a),this},t=function(a){return l(a),this},u=function(a){return m(a),this},v=function(a){return n(a),this},w=function(a){return o(a),this},x=function(a){return p(a),this},y=function(a){return q(a),this},z=function(a){return p().getParamValue(a)},A=function(a){return p().getParamValues(a)},B=function(a,b){return 2===arguments.length?p().deleteParam(a,b):p().deleteParam(a),this},C=function(a,b,c){return 3===arguments.length?p().addParam(a,b,c):p().addParam(a,b),this},D=function(a,b,c){return 3===arguments.length?p().replaceParam(a,b,c):p().replaceParam(a,b),this},E=function(a){if(void 0===a)return g.path;if("/"==a.substring(0,1))return g.path=a;var b=g.path.split("/"),c=a.split("/");""===b.slice(-1)[0]&&b.pop();for(var d;d=c.shift();)switch(d){case"..":b.length>1&&b.pop();break;case".":break;default:b.push(d)}return g.path=b.join("/"),this},F=function(){var a="",b=function(a){return null!==a&&""!==a};return b(i())?(a+=i(),i().indexOf(":")!==i().length-1&&(a+=":"),a+="//"):k()&&b(m())&&(a+="//"),b(l())&&b(m())&&(a+=l(),l().indexOf("@")!==l().length-1&&(a+="@")),b(m())&&(a+=m(),b(n())&&(a+=":"+n())),b(o())?a+=o():b(m())&&(b(p().toString())||b(q()))&&(a+="/"),b(p().toString())&&(0!==p().toString().indexOf("?")&&(a+="?"),a+=p().toString()),b(q())&&(0!==q().indexOf("#")&&(a+="#"),a+=q()),a},G=function(b){var c=a.match(e)||[];return void 0===b?c:c[b]||""},H=function(){return new c(F())};return{protocol:i,hasAuthorityPrefix:k,userInfo:l,host:m,port:n,path:o,query:p,anchor:q,setProtocol:r,setHasAuthorityPrefix:s,setUserInfo:t,setHost:u,setPort:v,setPath:w,setQuery:x,setAnchor:y,getQueryParamValue:z,getQueryParamValues:A,deleteQueryParam:B,addQueryParam:C,replaceQueryParam:D,extract:G,toPath:E,toString:F,clone:H}};a.uri=function(a){return new c(a)}}),ed.define("jquery.utils",["edjquery"],function(a){!function(){var b=function(a){this.items=a,this.start=0,this.end=a.length-1,this.node=null,this.stopped=!1};a.extend(b.prototype,{isLooping:function(){return this.stopped?!1:Math.abs(this.start-this.end)>1?(this.node=Math.floor((this.start+this.end)/2),!0):!1},flip:function(a){a?this.end=this.node-1:this.start=this.node+1},stop:function(){this.stop=!0}}),a.Bloop=function(a){return new b(a)}}(),a.Chunk=function(b,c){a.isArray(b)&&(b=[]);var c=a.extend({},{size:256,every:1e3},c),d=a.extend(a.Deferred(),{size:c.size,every:c.every,from:0,to:b.length,process:function(a){return d.process.fn=a,d},chunkStart:function(a){return d.chunkStart.fn=a,d},chunkEnd:function(a){return d.chunkEnd.fn=a,d},start:function(){return d.stopped=!1,d.iterate(),d},iterate:function(){if(!d.stopped){var a=d.process.fn;if(a){d.to=from.size+d.size;var c=b.length;d.to>c&&(d.to=c);var e={from:d.from,to:d.to};for(d.chunkStart.fn&&d.chunkStart.fn.call(d,e.from,e.to);d.from<d.to&&!d.stopped;)a.call(d,b[d.from]),d.from++;return d.chunkEnd.fn&&d.chunkEnd.fn.call(d,e.from,e.to),d.completed=d.from>=b.length-1,d.completed?d.resolveWith(d):d.nextIteration=setTimeout(d.iterate,d.every),d}}},pause:function(){return d.stopped=!0,clearTimeout(d.nextIteration),d},restart:function(){return"rejected"===d.state()?d:(d.from=0,d.start(),d)},stop:function(){return d.pause(),d.rejectWith(d,[d.from]),d}});return d},function(b){var c=function(){this.lastId=0};c.prototype.queue=function(c){var d=this,e=a.uid();return d.lastId=e,function(){if(d.lastId===e){var a=arguments,a=b(c)?c.apply(this,a):a;return b(d.fn)?d.fn.apply(this,a):a}}},a.Enqueue=function(d){var e=new c;b(d)&&(e.fn=d);var f=a.proxy(e.queue,e);return f.reset=function(){e.lastId=0},f}}(a.isFunction),function(){var b={error:"error",warning:"warn",success:"log",info:"info"};a.Exception=function(c){var d=arguments,e=1==d.length,f=3==d.length;return c=a.isPlainObject(c)?c:{type:e?"error":d[0],message:e?d[0]:d[1]},f&&a.extend(c,d[2]),"development"==a.environment&&console[b[c.type]](c.message,c),c}}(),a.IE=function(){var a=navigator.userAgent;if(a.match(/MSIE 9/))return 9;if(a.match(/MSIE 10/))return 10;if(a.match(/rv:11/i))return 11;for(var b,c=3,d=document.createElement("div"),e=d.getElementsByTagName("i");c++,d.innerHTML="<!--[if gt IE "+c+"]><i></i><![endif]-->",e[0];);return c>4?c:b}(),a.Task=function(b){var c=a.extend(a.Deferred(),{data:{},list:[],add:function(b){var d=a.extend(a.Deferred(),{name:b,item:d});return c.list.push(d),c},process:function(){return c._promise||(c._promise=a.when.apply(a,c.list).then(c.resolve,c.reject,c.progress)),c}},b);return c},function(){var b=function(a){this.threads=[],this.threadCount=0,this.threadLimit=a.threadLimit||1,this.threadDelay=a.threadDelay||0};a.extend(b.prototype,{add:function(b,c){a.isFunction(b)&&(b.type=c||"normal","deferred"==c&&(b.deferred=a.Deferred().always(a.proxy(this.next,this))),this.threads.push(b),this.run())},addDeferred:function(a){return this.add(a,"deferred")},next:function(){this.threadCount--,this.run()},run:function(){var a=this;setTimeout(function(){if(!(a.threads.length<1)&&a.threadCount<a.threadLimit){a.threadCount++;var b=a.threads.shift();try{b.call(b,b.deferred)}catch(c){}!b.deferred&&a.next()}},a.threadDelay)}}),a.Threads=function(a){return new b(a)}}(),a.callback=function(b,c){if(a.isFunction(b)){var d=a.uid("cb");return window[d]=function(){return c||delete window[d],b.apply(null,arguments)},d}if(a.isString(b))switch(b){case"destroy":var d=c;delete window[d]}},a.fn.checkList=function(b){var c={checkbox:".checkbox",masterCheckbox:".master-checkbox",check:function(){},uncheck:function(){},change:function(){}},b=a.extend({},c,b),d=this,e=d.find(b.checkbox),f=d.find(b.masterCheckbox),g=!1,h=function(){if(!g){var a=e.filter(":checked"),c=e.not(":checked");a.length<1&&f.removeAttr("checked"),a.length==e.length&&f.prop("checked",!0),b.change.call(d,a,c)}};return e.checked(function(){b.check.apply(d),h()},function(){b.uncheck.apply(d),h()}),f.checked(function(){g=!0,e.checked(!0),g=!1,h()},function(){g=!0,e.checked(!1),g=!1,h()}),h(),this},a.fn.switchClass=function(b,c){var c=c||"-",d=b.split(c)[0]+c,e=d.length;return this.each(function(){var c=a(this),f=a.map((c.attr("class")||"").split(" "),function(a){return a.slice(0,e)==d||""==a?null:a});f.push(b),c.attr("class",f.join(" "))})},a.fn.activateClass=function(b){return this.prevObject.removeClass(b),a(this).addClass(b)},function(){var b=function(a){var a=parseInt(a.indexOf("#")>-1?a.substring(1):a,16);return{r:a>>16,g:(65280&a)>>8,b:255&a}},c=function(a){return d(b(a))},d=function(a){var b={h:0,s:0,b:0},c=Math.min(a.r,a.g,a.b),d=Math.max(a.r,a.g,a.b),e=d-c;return b.b=d,b.s=0!=d?255*e/d:0,0!=b.s?(b.h=a.r==d?(a.g-a.b)/e:a.g==d?2+(a.b-a.r)/e:4+(a.r-a.g)/e,b.h*=60):b.h=360,b.h<0&&(b.h+=360),b.s*=100/255,b.b*=100/255,b},e=function(a){var b={},c=a.h,d=255*a.s/100,e=255*a.b/100;if(0==d)b.r=b.g=b.b=e;else{var f=e,g=(255-d)*e/255,h=(f-g)*(c%60)/60;360==c&&(c=0),60>c?(b.r=f,b.b=g,b.g=g+h):120>c?(b.g=f,b.b=g,b.r=f-h):180>c?(b.g=f,b.r=g,b.b=g+h):240>c?(b.b=f,b.r=g,b.g=f-h):300>c?(b.b=f,b.g=g,b.r=g+h):360>c?(b.r=f,b.g=g,b.b=f-h):(b.r=0,b.g=0,b.b=0)}return{r:Math.round(b.r),g:Math.round(b.g),b:Math.round(b.b)}},f=function(b){var c=[b.r.toString(16),b.g.toString(16),b.b.toString(16)];return a.each(c,function(a,b){1==b.length&&(c[a]="0"+b)}),c.join("")},g=function(a){return f(e(a))},h=function(a){return{h:Math.min(360,Math.max(0,a.h)),s:Math.min(100,Math.max(0,a.s)),b:Math.min(100,Math.max(0,a.b))}},i=function(a){return{r:Math.min(255,Math.max(0,a.r)),g:Math.min(255,Math.max(0,a.g)),b:Math.min(255,Math.max(0,a.b))}},j=function(a){var b=6-a.length;if(3==b)for(var d,c=a.split(""),a="";d=c.shift();)a+=d+d;else for(;b--;)a="0"+a;return a.replace(/[^A-Fa-f0-9]/g,"0"),a};a.extend(a,{hexToRgb:b,hexToHsb:c,rgbToHsb:d,hsbToRgb:e,rgbToHex:f,hsbToHex:g,fixHsb:h,fixRgb:i,fixHex:j})}(),a.fn.htmlData=function(b,c){var e,c=void 0===c?!0:c,d=new RegExp("^data-"+(b?b+"-":"")+"(.*)","i"),f={};return a.each(this[0].attributes,function(a,b){if(b.specified&&(e=b.name.match(d))&&e[1])if(c){var a,h,g=e[1].split("-"),i=f;for(max=g.length-1,a=0;max>=a;a++)h=g[a],a==max?i[h]=b.value:(!i[h]&&(i[h]={}),i=i[h])}else f[e[1]]=b.value}),f},a.fn.defineData=function(a,b){return void 0===this.data(a)&&this.data(a,b),this},a.deletes=function(b,c){a.each(c,function(a,c){delete b[c]})},a.fn.disabled=function(a){return void 0===a?this.is(":disabled")||this.hasClass("disabled"):this.prop("disabled",!!a).toggleClass("disabled",!!a)},a.fn.enabled=function(a){return void 0===a?!this.disabled():this.disabled(!a)},a.distinct=function(b){var c=a.unique;if(!(b.length<1)){if(b[0].nodeType)return c.apply(this,arguments);if("object"==typeof b[0]){var d=Math.random(),e=[];return a.each(b,function(a){b[a][d]||(e.push(b[a]),b[a][d]=!0)}),a.each(e,function(a){delete e[a][d]}),e}return a.grep(b,function(c,d){return a.inArray(c,b)===d})}},a.fn.tagName=function(){return(this[0]||{}).tagName},a.create=function(b){return a(document.createElement(b))},a.fn.editable=function(b){return a.isUndefined(b)?"true"===this.prop("contenteditable"):(this.prop("contenteditable",b),b===!1&&this.removeAttr("contenteditable"),this)},a.download=function(b){return a("<iframe>").hide().appendTo("body").bind("load",function(){a(this).remove()}).attr("src",b)},a.ns=function(a,b){return a.split(" ").join(b+" ")+b},a.getPointerPosition=function(a){return a.type.match("touch")?{x:a.originalEvent.changedTouches[0].pageX,y:a.originalEvent.changedTouches[0].pageY}:{x:a.pageX,y:a.pageY}},function(){var b="___eventable",c=["on","off","fire"],d=function(a){return a.split(".")[0]},e=function(a){this.fnList={},this.events={},this.mode=a};a.extend(e.prototype,{createEvent:function(b){return this.events[b]=a.Callbacks(this.mode)},on:function(b,c){if(!b||!a.isFunction(c))return this;var e=this.fnList;(e[b]||(e[b]=[])).push(c);var f=d(b);return(this.events[f]||this.createEvent(f)).add(c),this},off:function(b){if(!b)return this;var c=d(b),e=this.events[c];if(!e)return this;var f=function(b){a.each(b,function(a,b){e.remove(b)})};return c!==b?a.each(this.fnList,function(a,b){a.indexOf(c)>-1&&f(b)}):f(this.fnList[b]),this},fire:function(b){var c=this.events[b];if(c)return c.fire.apply(c,a.makeArray(arguments).slice(1)),this},destroy:function(){for(name in this.events)this.events[name].disable()}}),a.eventable=function(d,f){var g=d[b];return g&&"destroy"===f?(g.destroy(),a.deletes(d,c),delete d[b]):(g=d[b]=new e(f),d.on=a.proxy(g.on,g),d.off=a.proxy(g.off,g),d.fire=a.proxy(g.fire,g),d)}}(),a.fn.checkList=function(b){var c={checkbox:".checkbox",masterCheckbox:".master-checkbox",check:function(){},uncheck:function(){},change:function(){}},b=a.extend({},c,b),d=this,e=d.find(b.checkbox),f=d.find(b.masterCheckbox),g=!1,h=function(){if(!g){var a=e.filter(":checked"),c=e.not(":checked");a.length<1&&f.removeAttr("checked"),a.length==e.length&&f.prop("checked",!0),b.change.call(d,a,c)}};return e.checked(function(){b.check.apply(d),h()},function(){b.uncheck.apply(d),h()}),f.checked(function(){g=!0,e.checked(!0),g=!1,h()},function(){g=!0,e.checked(!1),g=!1,h()}),h(),this},a.fn.checked=function(b,c){return arguments.length<1?this.is(":checked"):(this.each(function(){var e=a(this);return"boolean"==typeof b?(e.attr("checked",b).trigger("change"),void 0):((e.is("input[type=checkbox]")||e.is("input[type=radio]"))&&e.off("change.checked").on("change.checked",function(){try{return e.is(":checked")?b.apply(e):c.apply(e)}catch(a){}}),void 0)}),this)},a.fn.locate=function(b){var c="data";return a.each(this[0].attributes,function(a,b){return b.specified&&"$"===b.value?(c=b.name,!1):void 0}),this.find("["+c+"-"+b.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()+"]")},function(){var b=["overflow","overflow-x","overflow-y"];a.fn.noscroll=function(c){return void 0===c&&(c=!0),this.each(function(){var d=a(this),e=d.data("noscroll");!e&&c&&(e={},a.each(b,function(a,b){e[b]=d.css(b)}),d.data("noscroll",e)),c?a.each(b,function(a,b){d.css(b,"hidden")}):e&&d.css(e)})}}(),a.fn.visible=function(b){var c=a(this),d=a(window);if(!(c.length<1)){var e=d.scrollTop(),f=e+d.height(),g=c.offset().top,h=g+c.height(),i=b===!0?h:g,j=b===!0?g:h;return f>=j&&i>=e}},a.fn.where=a.fn.filterBy=function(a,b,c){var c=c||"=",d="[data-"+a.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()+c+b+"]";return this.filter(d)},a.fn.checked=function(b,c){return arguments.length<1?this.is(":checked"):(this.each(function(){var e=a(this);return"boolean"==typeof b?(e.attr("checked",b).trigger("change"),void 0):((e.is("input[type=checkbox]")||e.is("input[type=radio]"))&&e.off("change.checked").on("change.checked",function(){try{return e.is(":checked")?b.apply(e):c.apply(e)}catch(a){}}),void 0)}),this)},a.fn.selectAll=function(){return this.each(function(){this.select()})},a.fn.unselect=function(){return this.each(function(){var a=this,b=a.value;a.value+=" ",a.value=b})},a.fn.toObject=a.fn.serializeObject=function(){var b={};return a.each(a(this).serializeArray(),function(c,d){b.hasOwnProperty(d.name)?(a.isArray(b[d.name])||(b[d.name]=[b[d.name]]),b[d.name].push(d.value)):b[d.name]=d.value}),b},a.fn.toJSON=a.fn.serializeJSON=function(){return JSON.stringify(a(this).serializeObject())},a.sanitizeHTML=function(b){return a(a.parseHTML(b,document,!0)).toHTML()},a.toHTML=function(b){return a("<div>").html(b).html()},a.fn.toHTML=function(){return a.toHTML(this.clone())},a.toXHTML=function(a,b){var c=a.innerHTML?String(a.innerHTML):a,d=c.match(/(<.+[^>])/g);if(d)for(var e=0;e<d.length;e+=1){var f,g=d[e],h=/\=[a-zA-Z\.\:\[\]_\(\)\&\$\%#\@\!0-9\/]+[?\s+|?>]/g;if(d[e]=d[e].replace(/([<|<\/].+?\w+).+[^>]/,function(a){return a}),f=d[e].match(h))for(var i=0,j=f.length;j>i;){var k=/(\=)([a-zA-Z\.\:\[\]_\(\)\&\$\%#\@\!0-9\/]+)?([\s+|?>])/g,l=function(){var a=Array.prototype.slice.call(arguments);return'="'+(b?a[2]:a[2].toLowerCase())+'"'+a[3]};d[e]=d[e].replace(f[i],f[i].replace(k,l)),i+=1}c=c.replace(g,d[e])}return c},a.fn.xhtml=function(){return a.IE?a.toXHTML(this[0]):this.html()},a.buildHTML=function(b,c){if(b instanceof a)return b;var d=document;if(window.CloudFlare){var e=a.buildHTML.iframe;if(!e||!e.contentDocument){var e=a.buildHTML.iframe=document.createElement("iframe");e.style.display="none",document.body.appendChild(e)}d=e.contentDocument}var b=a.trim(b),f=[],g=a.buildFragment([b],d,f),h=a.merge([],g.childNodes);if(!c&&f.length>0){var i=d.createElement("script");i.text="try{"+a.callback(function(){a(f).remove()})+"();}catch(e){}";for(var k,l,j=h.length-1;(k=h[j--])&&("SCRIPT"===k.nodeName?l=h.push(i):1===k.nodeType&&(l=k.appendChild(i)),!l););l||h.push(i),f.push(i)}return a(h)},a.intersects=function(b,c){return a.isArray(c)&&(c={top:c.y,left:c.x,bottom:c.y,right:c.x}),c.left<=b.right&&b.left<=c.right&&c.top<=b.bottom&&b.top<=c.bottom},a.fn.intersectsWith=function(b,c,d,e){var f=this.offset(),g={top:f.top,left:f.left,bottom:f.top+(sourceHeight=this.height()),right:f.left+(sourceWidth=this.width()),width:sourceWidth,height:sourceHeight},h={top:b,left:c,bottom:b+(e||(e=0)),right:c+(d||(d=0)),width:d,height:e};return a.intersects(g,h)?{reference:g,subject:h}:!1},a.isDeferred=function(b){return b&&a.isFunction(b.always)},a.isNumeric=function(a){return!isNaN(parseFloat(a))&&isFinite(a)},a.rotateNumber=function(a,b,c,d){return void 0===d&&(d=0),a+=d,b>a?a+=c+1:a>c&&(a-=c+1),a},a.regExpEscape=function(a){return a.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},a.remap=function(b,c,d){return a.each(d,function(a,d){b[d]=c[d]}),obj},function(){var b=a.Ajax=function(c){c.autostart=!1;var d=a.ajax(c);return b.queue.addDeferred(function(a){d.send(),setTimeout(a.resolve,b.interval)}),d};b.queue=a.Threads({threadLimit:1}),b.interval=1200,b.interval=0}(),function(){a.fn.addTransitoryClass=function(a,b){var c=this.addClass(a);return setTimeout(function(){c.removeClass(a)},b||1),this};var b=function(a,b,c){var d=this;return setTimeout(function(){d[a+"Class"](b)},c||50),this};a.fn.addClassAfter=function(a,c){return b.call(this,"add",a,c)},a.fn.removeClassAfter=function(a,c){return b.call(this,"remove",a,c)};var c=function(a,b,c,d){var e=a?"-in":"-out";return this.addTransitoryClass(b.replace(/ /g,e+" ")+e,c||1e3)[(a?"add":"remove")+"ClassAfter"](b),d&&setTimeout(d,c),this};a.fn.addTransitionClass=function(a,b,d){return c.call(this,!0,a,b,d)},a.fn.removeTransitionClass=function(a,b,d){return c.call(this,!1,a,b,d)}}(),a.trimSeparators=function(b,c,d){var e=c;return b=b.replace(new RegExp("^["+e+"\\s]+|["+e+",\\s]+$","g"),"").replace(new RegExp(e+"["+e+"\\s]*"+e,"g"),e).replace(new RegExp("[\\s]+"+e,"g"),e).replace(new RegExp(e+"[\\s]+","g"),e),d&&(b=a.distinct(b.split(e)).join(e)),b},a.isString=function(a){return"string"==typeof a||"[object String]"==toString.call(a)},a.uid=function(a,b){return(a?a:"")+Math.random().toString().replace(".","")+(b?b:"")};var f,c={undHash:/_|-/,colons:/::/,words:/([A-Z]+)([A-Z][a-z])/g,lowUp:/([a-z\d])([A-Z])/g,dash:/([a-z\d])([A-Z])/g,replacer:/\{([^\}]+)\}/g,dot:/\./},d=function(a,b,c){return void 0!==a[b]?a[b]:c&&(a[b]={})},e=function(a){var b=typeof a;return a&&("function"==b||"object"==b)},g=a.String=a.extend(a.String||{},{getObject:f=function(b,f,g){var j,k,l,h=b?b.split(c.dot):[],i=h.length,m=0;if(f=a.isArray(f)?f:[f||window],0==i)return f[0];for(;j=f[m++];){for(l=0;i-1>l&&e(j);l++)j=d(j,h[l],g);if(e(j)&&(k=d(j,h[l],g),void 0!==k))return g===!1&&delete j[h[l]],k}},capitalize:function(a){return a.charAt(0).toUpperCase()+a.substr(1)},camelize:function(a){return a=g.classize(a),a.charAt(0).toLowerCase()+a.substr(1)},classize:function(a,b){for(var d=a.split(c.undHash),e=0;e<d.length;e++)d[e]=g.capitalize(d[e]);return d.join(b||"")},niceName:function(a){return g.classize(a," ")},underscore:function(a){return a.replace(c.colons,"/").replace(c.words,"$1_$2").replace(c.lowUp,"$1_$2").replace(c.dash,"_").toLowerCase()},sub:function(a,b,d){var e=[];return e.push(a.replace(c.replacer,function(a,c){var g=f(a,b,"boolean"==typeof d?!d:d)||f(c,b,"boolean"==typeof d?!d:d),h=typeof g;return"object"!==h&&"function"!==h||null===h?""+g:(e.push(g),"")})),e.length<=1?e[0]:e},_regs:c});return a.extend(a,g),a}),ed.define("markitup",["edjquery"],function($){return function($){$.fn.markItUp=function(settings,extraSettings){var method,params,options,ctrlKey,shiftKey,altKey;return ctrlKey=shiftKey=altKey=!1,"string"==typeof settings&&(method=settings,params=extraSettings),options={id:"",nameSpace:"",root:"",previewHandler:!1,previewInWindow:"",previewInElement:"",previewAutoRefresh:!0,previewPosition:"after",previewTemplatePath:"~/templates/preview.html",previewParser:!1,previewParserPath:"",previewParserVar:"data",resizeHandle:!1,beforeInsert:"",afterInsert:"",onEnter:{},onShiftEnter:{},onCtrlEnter:{},onTab:{},markupSet:[{}]},$.extend(options,settings,$.markItUp.sets[(extraSettings||settings||{}).set],extraSettings),options.root||$("script").each(function(a,b){miuScript=$(b).get(0).src.match(/(.*)jquery\.markitup(\.pack)?\.js$/),null!==miuScript&&(options.root=miuScript[1])}),this.each(function(){function localize(a,b){return b?a.replace(/("|')~\//g,"$1"+options.root):a.replace(/^~\//,options.root)}function init(){id="",nameSpace="",options.id?id='id="'+options.id+'"':$$.attr("id")&&(id='id="markItUp'+$$.attr("id").substr(0,1).toUpperCase()+$$.attr("id").substr(1)+'"'),options.nameSpace&&(nameSpace='class="'+options.nameSpace+'"'),$$.wrap("<div "+nameSpace+"></div>"),$$.wrap("<div "+id+' class="markItUp"></div>'),$$.wrap('<div class="markItUpContainer"></div>'),$$.addClass("markItUpEditor"),header=$('<div class="markItUpHeader"></div>').insertBefore($$),$(dropMenus(options.markupSet)).appendTo(header),footer=$('<div class="markItUpFooter"></div>').insertAfter($$),$$.wrap('<div class="markItUpExpanding"></div>'),options.resizeHandle===!0&&$.browser.safari!==!0&&(resizeHandle=$('<div class="markItUpResizeHandle"></div>').insertAfter($$).bind("mousedown.markItUp",function(a){var d,e,b=$$.height(),c=a.clientY;d=function(a){return $$.css("height",Math.max(20,a.clientY+b-c)+"px"),!1},e=function(){return $("html").unbind("mousemove.markItUp",d).unbind("mouseup.markItUp",e),!1},$("html").bind("mousemove.markItUp",d).bind("mouseup.markItUp",e)}),footer.append(resizeHandle)),$$.bind("keydown.markItUp",keyPressed).bind("keyup",keyPressed),$$.bind("insertion.markItUp",function(a,b){b.target!==!1&&get(),textarea===$.markItUp.focused&&markup(b)}),$$.bind("focus.markItUp",function(){$.markItUp.focused=this}),options.previewInElement&&refreshPreview()}function dropMenus(markupSet){var ul=$("<ul></ul>"),i=0;return $("li:hover > ul",ul).css("display","block"),$.each(markupSet,function(){var button=this,t="",title,li,j;if(title=button.key?(button.name||"")+" [Ctrl+"+button.key+"]":button.name||"",key=button.key?'accesskey="'+button.key+'"':"",button.separator)li=$('<li class="markItUpSeparator">'+(button.separator||"")+"</li>").appendTo(ul);else{for(i++,j=levels.length-1;j>=0;j--)t+=levels[j]+"-";li=$('<li class="markItUpButton markItUpButton'+t+i+" "+(button.className||"")+'"><a href="" '+key+' title="'+title+'">'+(button.name||"")+"</a></li>").bind("contextmenu.markItUp",function(){return!1}).bind("click.markItUp",function(){return!1}).bind("focusin.markItUp",function(){var a=/chrom(e|ium)/.test(navigator.userAgent.toLowerCase());a||$$.focus()}).bind("mouseup",function(){return button.call&&eval(button.call)(),setTimeout(function(){markup(button)},1),!1}).bind("mouseenter.markItUp",function(){$("> ul",this).show(),$(document).one("click",function(){$("ul ul",header).hide()})}).bind("mouseleave.markItUp",function(){$("> ul",this).hide()}).appendTo(ul),button.dropMenu&&(levels.push(i),$(li).addClass("markItUpDropMenu").append(dropMenus(button.dropMenu)))
}}),levels.pop(),ul}function magicMarkups(a){return a?(a=a.toString(),a=a.replace(/\(\!\(([\s\S]*?)\)\!\)/g,function(a,b){var c=b.split("|!|");return altKey===!0?void 0!==c[1]?c[1]:c[0]:void 0===c[1]?"":c[0]}),a=a.replace(/\[\!\[([\s\S]*?)\]\!\]/g,function(a,b){var c=b.split(":!:");return abort===!0?!1:(value=prompt(c[0],c[1]?c[1]:""),null===value&&(abort=!0),value)})):""}function prepare(a){return $.isFunction(a)&&(a=a(hash)),magicMarkups(a)}function build(a){var b=prepare(clicked.openWith),c=prepare(clicked.placeHolder),d=prepare(clicked.replaceWith),e=prepare(clicked.closeWith),f=prepare(clicked.openBlockWith),g=prepare(clicked.closeBlockWith),h=clicked.multiline;if(""!==d)block=b+d+e;else if(""===selection&&""!==c)block=b+c+e;else{a=a||selection;var i=[a],j=[];h===!0&&(i=a.split(/\r?\n/));for(var k=0;k<i.length;k++){line=i[k];var l;(l=line.match(/ *$/))?j.push(b+line.replace(/ *$/g,"")+e+l):j.push(b+line+e)}block=j.join("\n")}return block=f+block+g,{block:block,openWith:b,replaceWith:d,placeHolder:c,closeWith:e}}function markup(a){var b,c,d,e;if(hash=clicked=a,get(),$.extend(hash,{line:"",root:options.root,textarea:textarea,selection:selection||"",caretPosition:caretPosition,ctrlKey:ctrlKey,shiftKey:shiftKey,altKey:altKey}),prepare(options.beforeInsert),prepare(clicked.beforeInsert),(ctrlKey===!0&&shiftKey===!0||a.multiline===!0)&&prepare(clicked.beforeMultiInsert),$.extend(hash,{line:1}),ctrlKey===!0&&shiftKey===!0){for(lines=selection.split(/\r?\n/),c=0,d=lines.length,e=0;d>e;e++)""!==$.trim(lines[e])?($.extend(hash,{line:++c,selection:lines[e]}),lines[e]=build(lines[e]).block):lines[e]="";string={block:lines.join("\n")},start=caretPosition,b=string.block.length+($.browser.opera?d-1:0)}else ctrlKey===!0?(string=build(selection),start=caretPosition+string.openWith.length,b=string.block.length-string.openWith.length-string.closeWith.length,b-=string.block.match(/ $/)?1:0,b-=fixIeBug(string.block)):shiftKey===!0?(string=build(selection),start=caretPosition,b=string.block.length,b-=fixIeBug(string.block)):(string=build(selection),start=caretPosition+string.block.length,b=0,start-=fixIeBug(string.block));""===selection&&""===string.replaceWith&&(caretOffset+=fixOperaBug(string.block),start=caretPosition+string.openWith.length,b=string.block.length-string.openWith.length-string.closeWith.length,caretOffset=$$.val().substring(caretPosition,$$.val().length).length,caretOffset-=fixOperaBug($$.val().substring(0,caretPosition))),$.extend(hash,{caretPosition:caretPosition,scrollPosition:scrollPosition}),string.block!==selection&&abort===!1?(insert(string.block),set(start,b)):caretOffset=-1,get(),$.extend(hash,{line:"",selection:selection}),(ctrlKey===!0&&shiftKey===!0||a.multiline===!0)&&prepare(clicked.afterMultiInsert),prepare(clicked.afterInsert),prepare(options.afterInsert),previewWindow&&options.previewAutoRefresh&&refreshPreview(),shiftKey=altKey=ctrlKey=abort=!1}function fixOperaBug(a){return $.browser.opera?a.length-a.replace(/\n*/g,"").length:0}function fixIeBug(a){return $.browser.msie?a.length-a.replace(/\r*/g,"").length:0}function insert(a){if(document.selection){var b=document.selection.createRange();b.text=a}else textarea.value=textarea.value.substring(0,caretPosition)+a+textarea.value.substring(caretPosition+selection.length,textarea.value.length)}function set(a,b){if(textarea.createTextRange){if($.browser.opera&&$.browser.version>=9.5&&0==b)return!1;range=textarea.createTextRange(),range.collapse(!0),range.moveStart("character",a),range.moveEnd("character",b),range.select()}else textarea.setSelectionRange&&textarea.setSelectionRange(a,a+b);textarea.scrollTop=scrollPosition,textarea.focus()}function get(){if(textarea.focus(),scrollPosition=textarea.scrollTop,document.selection)if(selection=document.selection.createRange().text,$.browser.msie){var a=document.selection.createRange(),b=a.duplicate();for(b.moveToElementText(textarea),caretPosition=-1;b.inRange(a);)b.moveStart("character"),caretPosition++}else caretPosition=textarea.selectionStart;else caretPosition=textarea.selectionStart,selection=textarea.value.substring(caretPosition,textarea.selectionEnd);return selection}function preview(){"function"==typeof options.previewHandler?previewWindow=!0:options.previewInElement?previewWindow=$(options.previewInElement):!previewWindow||previewWindow.closed?options.previewInWindow?(previewWindow=window.open("","preview",options.previewInWindow),$(window).unload(function(){previewWindow.close()})):(iFrame=$('<iframe class="markItUpPreviewFrame"></iframe>'),"after"==options.previewPosition?iFrame.insertAfter(footer):iFrame.insertBefore(header),previewWindow=iFrame[iFrame.length-1].contentWindow||frame[iFrame.length-1]):altKey===!0&&(iFrame?iFrame.remove():previewWindow.close(),previewWindow=iFrame=!1),options.previewAutoRefresh||refreshPreview(),options.previewInWindow&&previewWindow.focus()}function refreshPreview(){renderPreview()}function renderPreview(){if(options.previewHandler&&"function"==typeof options.previewHandler)options.previewHandler($$.val());else if(options.previewParser&&"function"==typeof options.previewParser){var b=options.previewParser($$.val());writeInPreview(localize(b,1))}else""!==options.previewParserPath?$.ajax({type:"POST",dataType:"text",global:!1,url:options.previewParserPath,data:options.previewParserVar+"="+encodeURIComponent($$.val()),success:function(a){writeInPreview(localize(a,1))}}):template||$.ajax({url:options.previewTemplatePath,dataType:"text",global:!1,success:function(a){writeInPreview(localize(a,1).replace(/<!-- content -->/g,$$.val()))}});return!1}function writeInPreview(a){if(options.previewInElement)$(options.previewInElement).html(a);else if(previewWindow&&previewWindow.document){try{sp=previewWindow.document.documentElement.scrollTop}catch(b){sp=0}previewWindow.document.open(),previewWindow.document.write(a),previewWindow.document.close(),previewWindow.document.documentElement.scrollTop=sp}}function keyPressed(a){if(shiftKey=a.shiftKey,altKey=a.altKey,ctrlKey=a.altKey&&a.ctrlKey?!1:a.ctrlKey||a.metaKey,"keydown"===a.type){if(ctrlKey===!0&&(li=$('a[accesskey="'+(13==a.keyCode?"\\n":String.fromCharCode(a.keyCode))+'"]',header).parent("li"),0!==li.length))return ctrlKey=!1,setTimeout(function(){li.triggerHandler("mouseup")},1),!1;if(13===a.keyCode||10===a.keyCode)return ctrlKey===!0?(ctrlKey=!1,markup(options.onCtrlEnter),options.onCtrlEnter.keepDefault):shiftKey===!0?(shiftKey=!1,markup(options.onShiftEnter),options.onShiftEnter.keepDefault):(markup(options.onEnter),options.onEnter.keepDefault);if(9===a.keyCode)return 1==shiftKey||1==ctrlKey||1==altKey?!1:-1!==caretOffset?(get(),caretOffset=$$.val().length-caretOffset,set(caretOffset,0),caretOffset=-1,!1):(markup(options.onTab),options.onTab.keepDefault)}}function remove(){$$.unbind(".markItUp").removeClass("markItUpEditor"),$$.parents("div.markItUp").parent("div").replaceWith($$),$$.data("markItUp",null)}var $$,textarea,levels,scrollPosition,caretPosition,caretOffset,clicked,hash,header,footer,previewWindow,template,iFrame,abort;if($$=$(this),textarea=this,levels=[],abort=!1,scrollPosition=caretPosition=0,caretOffset=-1,options.previewParserPath=localize(options.previewParserPath),options.previewTemplatePath=localize(options.previewTemplatePath),method)switch(method){case"remove":remove();break;case"insert":markup(params);break;default:$.error("Method "+method+" does not exist on jQuery.markItUp")}else init()})},$.fn.markItUpRemove=function(){return this.each(function(){$(this).markItUp("remove")})};var sets;"object"==typeof $.markItUp&&(sets=$.markItUp.sets),$.markItUp=function(a){var b={target:!1};return $.extend(b,a),b.target?$(b.target).each(function(){$(this).focus(),$(this).trigger("insertion",[b])}):($("textarea").trigger("insertion",[b]),void 0)},$.markItUp.sets={},sets&&$.extend($.markItUp.sets,sets)}($),$}),ed.define("select2",["edjquery"],function(a){var b=a;return function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof exports?a(require("jquery")):a(b)}(function(b){var c=function(){if(b&&b.fn&&b.fn.select2&&b.fn.select2.amd)var c=b.fn.select2.amd;var c;return function(){if(!c||!c.requirejs){c?b=c:c={};var a,b,d;!function(c){function p(a,b){return m.call(a,b)}function q(a,b){var c,d,e,f,g,h,i,j,l,m,n,p=b&&b.split("/"),q=k.map,r=q&&q["*"]||{};if(a&&"."===a.charAt(0))if(b){for(a=a.split("/"),g=a.length-1,k.nodeIdCompat&&o.test(a[g])&&(a[g]=a[g].replace(o,"")),a=p.slice(0,p.length-1).concat(a),l=0;l<a.length;l+=1)if(n=a[l],"."===n)a.splice(l,1),l-=1;else if(".."===n){if(1===l&&(".."===a[2]||".."===a[0]))break;l>0&&(a.splice(l-1,2),l-=2)}a=a.join("/")}else 0===a.indexOf("./")&&(a=a.substring(2));if((p||r)&&q){for(c=a.split("/"),l=c.length;l>0;l-=1){if(d=c.slice(0,l).join("/"),p)for(m=p.length;m>0;m-=1)if(e=q[p.slice(0,m).join("/")],e&&(e=e[d])){f=e,h=l;break}if(f)break;!i&&r&&r[d]&&(i=r[d],j=l)}!f&&i&&(f=i,h=j),f&&(c.splice(0,h,f),a=c.join("/"))}return a}function r(a,b){return function(){var d=n.call(arguments,0);return"string"!=typeof d[0]&&1===d.length&&d.push(null),f.apply(c,d.concat([a,b]))}}function s(a){return function(b){return q(b,a)}}function t(a){return function(b){i[a]=b}}function u(a){if(p(j,a)){var b=j[a];delete j[a],l[a]=!0,e.apply(c,b)}if(!p(i,a)&&!p(l,a))throw new Error("No "+a);return i[a]}function v(a){var b,c=a?a.indexOf("!"):-1;return c>-1&&(b=a.substring(0,c),a=a.substring(c+1,a.length)),[b,a]}function w(a){return function(){return k&&k.config&&k.config[a]||{}}}var e,f,g,h,i={},j={},k={},l={},m=Object.prototype.hasOwnProperty,n=[].slice,o=/\.js$/;g=function(a,b){var c,d=v(a),e=d[0];return a=d[1],e&&(e=q(e,b),c=u(e)),e?a=c&&c.normalize?c.normalize(a,s(b)):q(a,b):(a=q(a,b),d=v(a),e=d[0],a=d[1],e&&(c=u(e))),{f:e?e+"!"+a:a,n:a,pr:e,p:c}},h={require:function(a){return r(a)},exports:function(a){var b=i[a];return"undefined"!=typeof b?b:i[a]={}},module:function(a){return{id:a,uri:"",exports:i[a],config:w(a)}}},e=function(a,b,d,e){var f,k,m,n,o,v,q=[],s=typeof d;if(e=e||a,"undefined"===s||"function"===s){for(b=!b.length&&d.length?["require","exports","module"]:b,o=0;o<b.length;o+=1)if(n=g(b[o],e),k=n.f,"require"===k)q[o]=h.require(a);else if("exports"===k)q[o]=h.exports(a),v=!0;else if("module"===k)f=q[o]=h.module(a);else if(p(i,k)||p(j,k)||p(l,k))q[o]=u(k);else{if(!n.p)throw new Error(a+" missing "+k);n.p.load(n.n,r(e,!0),t(k),{}),q[o]=i[k]}m=d?d.apply(i[a],q):void 0,a&&(f&&f.exports!==c&&f.exports!==i[a]?i[a]=f.exports:m===c&&v||(i[a]=m))}else a&&(i[a]=d)},a=b=f=function(a,b,d,i,j){if("string"==typeof a)return h[a]?h[a](b):u(g(a,b).f);if(!a.splice){if(k=a,k.deps&&f(k.deps,k.callback),!b)return;b.splice?(a=b,b=d,d=null):a=c}return b=b||function(){},"function"==typeof d&&(d=i,i=j),i?e(c,a,b,d):setTimeout(function(){e(c,a,b,d)},4),f},f.config=function(a){return f(a)},a._defined=i,d=function(a,b,c){if("string"!=typeof a)throw new Error("See almond README: incorrect module build, no module name");b.splice||(c=b,b=[]),p(i,a)||p(j,a)||(j[a]=[a,b,c])},d.amd={jQuery:!0}}(),c.requirejs=a,c.require=b,c.define=d}}(),c.define("almond",function(){}),c.define("jquery",[],function(){var c=b||a;return null==c&&console&&console.error&&console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page."),c}),c.define("select2/utils",["jquery"],function(a){function c(a){var b=a.prototype,c=[];for(var d in b){var e=b[d];"function"==typeof e&&"constructor"!==d&&c.push(d)}return c}var b={};b.Extend=function(a,b){function d(){this.constructor=a}var c={}.hasOwnProperty;for(var e in b)c.call(b,e)&&(a[e]=b[e]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a},b.Decorate=function(a,b){function f(){var c=Array.prototype.unshift,d=b.prototype.constructor.length,e=a.prototype.constructor;d>0&&(c.call(arguments,a.prototype.constructor),e=b.prototype.constructor),e.apply(this,arguments)}function g(){this.constructor=f}var d=c(b),e=c(a);b.displayName=a.displayName,f.prototype=new g;for(var h=0;h<e.length;h++){var i=e[h];f.prototype[i]=a.prototype[i]}for(var j=(function(a){var c=function(){};a in f.prototype&&(c=f.prototype[a]);var d=b.prototype[a];return function(){var a=Array.prototype.unshift;return a.call(arguments,c),d.apply(this,arguments)}}),k=0;k<d.length;k++){var l=d[k];f.prototype[l]=j(l)}return f};var d=function(){this.listeners={}};return d.prototype.on=function(a,b){this.listeners=this.listeners||{},a in this.listeners?this.listeners[a].push(b):this.listeners[a]=[b]},d.prototype.trigger=function(a){var b=Array.prototype.slice;this.listeners=this.listeners||{},a in this.listeners&&this.invoke(this.listeners[a],b.call(arguments,1)),"*"in this.listeners&&this.invoke(this.listeners["*"],arguments)},d.prototype.invoke=function(a,b){for(var c=0,d=a.length;d>c;c++)a[c].apply(this,b)},b.Observable=d,b.generateChars=function(a){for(var b="",c=0;a>c;c++){var d=Math.floor(36*Math.random());b+=d.toString(36)}return b},b.bind=function(a,b){return function(){a.apply(b,arguments)}},b._convertData=function(a){for(var b in a){var c=b.split("-"),d=a;if(1!==c.length){for(var e=0;e<c.length;e++){var f=c[e];f=f.substring(0,1).toLowerCase()+f.substring(1),f in d||(d[f]={}),e==c.length-1&&(d[f]=a[b]),d=d[f]}delete a[b]}}return a},b.hasScroll=function(b,c){var d=a(c),e=c.style.overflowX,f=c.style.overflowY;return e!==f||"hidden"!==f&&"visible"!==f?"scroll"===e||"scroll"===f?!0:d.innerHeight()<c.scrollHeight||d.innerWidth()<c.scrollWidth:!1},b.escapeMarkup=function(a){var b={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return"string"!=typeof a?a:String(a).replace(/[&<>"'\/\\]/g,function(a){return b[a]})},b.appendMany=function(b,c){if("1.7"===a.fn.jquery.substr(0,3)){var d=a();a.map(c,function(a){d=d.add(a)}),c=d}b.append(c)},b}),c.define("select2/results",["jquery","./utils"],function(a,b){function c(a,b,d){this.$element=a,this.data=d,this.options=b,c.__super__.constructor.call(this)}return b.Extend(c,b.Observable),c.prototype.render=function(){var b=a('<ul class="select2-results__options" role="tree"></ul>');return this.options.get("multiple")&&b.attr("aria-multiselectable","true"),this.$results=b,b},c.prototype.clear=function(){this.$results.empty()},c.prototype.displayMessage=function(b){var c=this.options.get("escapeMarkup");this.clear(),this.hideLoading();var d=a('<li role="treeitem" aria-live="assertive" class="select2-results__option"></li>'),e=this.options.get("translations").get(b.message);d.append(c(e(b.args))),d[0].className+=" select2-results__message",this.$results.append(d)},c.prototype.hideMessages=function(){this.$results.find(".select2-results__message").remove()},c.prototype.append=function(a){this.hideLoading();var b=[];if(null==a.results||0===a.results.length)return 0===this.$results.children().length&&this.trigger("results:message",{message:"noResults"}),void 0;a.results=this.sort(a.results);for(var c=0;c<a.results.length;c++){var d=a.results[c],e=this.option(d);b.push(e)}this.$results.append(b)},c.prototype.position=function(a,b){var c=b.find(".select2-results");c.append(a)},c.prototype.sort=function(a){var b=this.options.get("sorter");return b(a)},c.prototype.setClasses=function(){var b=this;this.data.current(function(c){var d=a.map(c,function(a){return a.id.toString()}),e=b.$results.find(".select2-results__option[aria-selected]");e.each(function(){var b=a(this),c=a.data(this,"data"),e=""+c.id;null!=c.element&&c.element.selected||null==c.element&&a.inArray(e,d)>-1?b.attr("aria-selected","true"):b.attr("aria-selected","false")});var f=e.filter("[aria-selected=true]");f.length>0?f.first().trigger("mouseenter"):e.first().trigger("mouseenter")})},c.prototype.showLoading=function(a){this.hideLoading();var b=this.options.get("translations").get("searching"),c={disabled:!0,loading:!0,text:b(a)},d=this.option(c);d.className+=" loading-results",this.$results.prepend(d)},c.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()},c.prototype.option=function(b){var c=document.createElement("li");c.className="select2-results__option";var d={role:"treeitem","aria-selected":"false"};b.disabled&&(delete d["aria-selected"],d["aria-disabled"]="true"),null==b.id&&delete d["aria-selected"],null!=b._resultId&&(c.id=b._resultId),b.title&&(c.title=b.title),b.children&&(d.role="group",d["aria-label"]=b.text,delete d["aria-selected"]);for(var e in d){var f=d[e];c.setAttribute(e,f)}if(b.children){var g=a(c),h=document.createElement("strong");h.className="select2-results__group";{a(h)}this.template(b,h);for(var j=[],k=0;k<b.children.length;k++){var l=b.children[k],m=this.option(l);j.push(m)}var n=a("<ul></ul>",{"class":"select2-results__options select2-results__options--nested"});n.append(j),g.append(h),g.append(n)}else this.template(b,c);return a.data(c,"data",b),c},c.prototype.bind=function(b){var d=this,e=b.id+"-results";this.$results.attr("id",e),b.on("results:all",function(a){d.clear(),d.append(a.data),b.isOpen()&&d.setClasses()}),b.on("results:append",function(a){d.append(a.data),b.isOpen()&&d.setClasses()}),b.on("query",function(a){d.hideMessages(),d.showLoading(a)}),b.on("select",function(){b.isOpen()&&d.setClasses()}),b.on("unselect",function(){b.isOpen()&&d.setClasses()}),b.on("open",function(){d.$results.attr("aria-expanded","true"),d.$results.attr("aria-hidden","false"),d.setClasses(),d.ensureHighlightVisible()}),b.on("close",function(){d.$results.attr("aria-expanded","false"),d.$results.attr("aria-hidden","true"),d.$results.removeAttr("aria-activedescendant")}),b.on("results:toggle",function(){var a=d.getHighlightedResults();0!==a.length&&a.trigger("mouseup")}),b.on("results:select",function(){var a=d.getHighlightedResults();if(0!==a.length){var b=a.data("data");"true"==a.attr("aria-selected")?d.trigger("close",{}):d.trigger("select",{data:b})}}),b.on("results:previous",function(){var a=d.getHighlightedResults(),b=d.$results.find("[aria-selected]"),c=b.index(a);if(0!==c){var e=c-1;0===a.length&&(e=0);var f=b.eq(e);f.trigger("mouseenter");var g=d.$results.offset().top,h=f.offset().top,i=d.$results.scrollTop()+(h-g);0===e?d.$results.scrollTop(0):0>h-g&&d.$results.scrollTop(i)}}),b.on("results:next",function(){var a=d.getHighlightedResults(),b=d.$results.find("[aria-selected]"),c=b.index(a),e=c+1;if(!(e>=b.length)){var f=b.eq(e);f.trigger("mouseenter");var g=d.$results.offset().top+d.$results.outerHeight(!1),h=f.offset().top+f.outerHeight(!1),i=d.$results.scrollTop()+h-g;0===e?d.$results.scrollTop(0):h>g&&d.$results.scrollTop(i)}}),b.on("results:focus",function(a){a.element.addClass("select2-results__option--highlighted")}),b.on("results:message",function(a){d.displayMessage(a)}),a.fn.mousewheel&&this.$results.on("mousewheel",function(a){var b=d.$results.scrollTop(),c=d.$results.get(0).scrollHeight-b+a.deltaY,e=a.deltaY>0&&b-a.deltaY<=0,f=a.deltaY<0&&c<=d.$results.height();e?(d.$results.scrollTop(0),a.preventDefault(),a.stopPropagation()):f&&(d.$results.scrollTop(d.$results.get(0).scrollHeight-d.$results.height()),a.preventDefault(),a.stopPropagation())}),this.$results.on("mouseup",".select2-results__option[aria-selected]",function(b){var c=a(this),e=c.data("data");return"true"===c.attr("aria-selected")?(d.options.get("multiple")?d.trigger("unselect",{originalEvent:b,data:e}):d.trigger("close",{}),void 0):(d.trigger("select",{originalEvent:b,data:e}),void 0)}),this.$results.on("mouseenter",".select2-results__option[aria-selected]",function(){var c=a(this).data("data");d.getHighlightedResults().removeClass("select2-results__option--highlighted"),d.trigger("results:focus",{data:c,element:a(this)})})},c.prototype.getHighlightedResults=function(){var a=this.$results.find(".select2-results__option--highlighted");return a},c.prototype.destroy=function(){this.$results.remove()},c.prototype.ensureHighlightVisible=function(){var a=this.getHighlightedResults();if(0!==a.length){var b=this.$results.find("[aria-selected]"),c=b.index(a),d=this.$results.offset().top,e=a.offset().top,f=this.$results.scrollTop()+(e-d),g=e-d;f-=2*a.outerHeight(!1),2>=c?this.$results.scrollTop(0):(g>this.$results.outerHeight()||0>g)&&this.$results.scrollTop(f)}},c.prototype.template=function(b,c){var d=this.options.get("templateResult"),e=this.options.get("escapeMarkup"),f=d(b,c);null==f?c.style.display="none":"string"==typeof f?c.innerHTML=e(f):a(c).append(f)},c}),c.define("select2/keys",[],function(){var a={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46};return a}),c.define("select2/selection/base",["jquery","../utils","../keys"],function(a,b,c){function d(a,b){this.$element=a,this.options=b,d.__super__.constructor.call(this)}return b.Extend(d,b.Observable),d.prototype.render=function(){var b=a('<span class="select2-selection" role="combobox"  aria-haspopup="true" aria-expanded="false"></span>');return this._tabindex=0,null!=this.$element.data("old-tabindex")?this._tabindex=this.$element.data("old-tabindex"):null!=this.$element.attr("tabindex")&&(this._tabindex=this.$element.attr("tabindex")),b.attr("title",this.$element.attr("title")),b.attr("tabindex",this._tabindex),this.$selection=b,b},d.prototype.bind=function(a){var d=this,f=(a.id+"-container",a.id+"-results");this.container=a,this.$selection.on("focus",function(a){d.trigger("focus",a)}),this.$selection.on("blur",function(a){d._handleBlur(a)}),this.$selection.on("keydown",function(a){d.trigger("keypress",a),a.which===c.SPACE&&a.preventDefault()}),a.on("results:focus",function(a){d.$selection.attr("aria-activedescendant",a.data._resultId)}),a.on("selection:update",function(a){d.update(a.data)}),a.on("open",function(){d.$selection.attr("aria-expanded","true"),d.$selection.attr("aria-owns",f),d._attachCloseHandler(a)}),a.on("close",function(){d.$selection.attr("aria-expanded","false"),d.$selection.removeAttr("aria-activedescendant"),d.$selection.removeAttr("aria-owns"),d.$selection.focus(),d._detachCloseHandler(a)}),a.on("enable",function(){d.$selection.attr("tabindex",d._tabindex)}),a.on("disable",function(){d.$selection.attr("tabindex","-1")})},d.prototype._handleBlur=function(b){var c=this;window.setTimeout(function(){document.activeElement==c.$selection[0]||a.contains(c.$selection[0],document.activeElement)||c.trigger("blur",b)},1)},d.prototype._attachCloseHandler=function(b){a(document.body).on("mousedown.select2."+b.id,function(b){var c=a(b.target),d=c.closest(".select2"),e=a(".select2.select2-container--open");e.each(function(){var b=a(this);if(this!=d[0]){var c=b.data("element");c.select2("close")}})})},d.prototype._detachCloseHandler=function(b){a(document.body).off("mousedown.select2."+b.id)},d.prototype.position=function(a,b){var c=b.find(".selection");c.append(a)},d.prototype.destroy=function(){this._detachCloseHandler(this.container)},d.prototype.update=function(){throw new Error("The `update` method must be defined in child classes.")},d}),c.define("select2/selection/single",["jquery","./base","../utils","../keys"],function(a,b,c){function e(){e.__super__.constructor.apply(this,arguments)}return c.Extend(e,b),e.prototype.render=function(){var a=e.__super__.render.call(this);return a.addClass("select2-selection--single"),a.html('<span class="select2-selection__rendered"></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span>'),a},e.prototype.bind=function(a){var c=this;e.__super__.bind.apply(this,arguments);var d=a.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",d),this.$selection.attr("aria-labelledby",d),this.$selection.on("mousedown",function(a){1===a.which&&c.trigger("toggle",{originalEvent:a})}),this.$selection.on("focus",function(){}),this.$selection.on("blur",function(){}),a.on("selection:update",function(a){c.update(a.data)})},e.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},e.prototype.display=function(a,b){var c=this.options.get("templateSelection"),d=this.options.get("escapeMarkup");return d(c(a,b))},e.prototype.selectionContainer=function(){return a("<span></span>")},e.prototype.update=function(a){if(0===a.length)return this.clear(),void 0;var b=a[0],c=this.$selection.find(".select2-selection__rendered"),d=this.display(b,c);c.empty().append(d),c.prop("title",b.title||b.text)},e}),c.define("select2/selection/multiple",["jquery","./base","../utils"],function(a,b,c){function d(){d.__super__.constructor.apply(this,arguments)}return c.Extend(d,b),d.prototype.render=function(){var a=d.__super__.render.call(this);return a.addClass("select2-selection--multiple"),a.html('<ul class="select2-selection__rendered"></ul>'),a},d.prototype.bind=function(){var e=this;d.__super__.bind.apply(this,arguments),this.$selection.on("click",function(a){e.trigger("toggle",{originalEvent:a})}),this.$selection.on("click",".select2-selection__choice__remove",function(b){if(!e.options.get("disabled")){var c=a(this),d=c.parent(),f=d.data("data");e.trigger("unselect",{originalEvent:b,data:f})}})},d.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},d.prototype.display=function(a,b){var c=this.options.get("templateSelection"),d=this.options.get("escapeMarkup");return d(c(a,b))},d.prototype.selectionContainer=function(){var b=a('<li class="select2-selection__choice"><span class="select2-selection__choice__remove" role="presentation">&times;</span></li>');return b},d.prototype.update=function(a){if(this.clear(),0!==a.length){for(var b=[],d=0;d<a.length;d++){var e=a[d],f=this.selectionContainer(),g=this.display(e,f);f.append(g),f.prop("title",e.title||e.text),f.data("data",e),b.push(f)}var h=this.$selection.find(".select2-selection__rendered");c.appendMany(h,b)}},d}),c.define("select2/selection/placeholder",["../utils"],function(){function b(a,b,c){this.placeholder=this.normalizePlaceholder(c.get("placeholder")),a.call(this,b,c)}return b.prototype.normalizePlaceholder=function(a,b){return"string"==typeof b&&(b={id:"",text:b}),b},b.prototype.createPlaceholder=function(a,b){var c=this.selectionContainer();return c.html(this.display(b)),c.addClass("select2-selection__placeholder").removeClass("select2-selection__choice"),c},b.prototype.update=function(a,b){var c=1==b.length&&b[0].id!=this.placeholder.id,d=b.length>1;if(d||c)return a.call(this,b);this.clear();var e=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection__rendered").append(e)},b}),c.define("select2/selection/allowClear",["jquery","../keys"],function(a,b){function c(){}return c.prototype.bind=function(a,b,c){var d=this;a.call(this,b,c),null==this.placeholder&&this.options.get("debug")&&window.console&&console.error&&console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option."),this.$selection.on("mousedown",".select2-selection__clear",function(a){d._handleClear(a)}),b.on("keypress",function(a){d._handleKeyboardClear(a,b)})},c.prototype._handleClear=function(a,b){if(!this.options.get("disabled")){var c=this.$selection.find(".select2-selection__clear");if(0!==c.length){b.stopPropagation();for(var d=c.data("data"),e=0;e<d.length;e++){var f={data:d[e]};if(this.trigger("unselect",f),f.prevented)return}this.$element.val(this.placeholder.id).trigger("change"),this.trigger("toggle",{})}}},c.prototype._handleKeyboardClear=function(a,c,d){d.isOpen()||(c.which==b.DELETE||c.which==b.BACKSPACE)&&this._handleClear(c)},c.prototype.update=function(b,c){if(b.call(this,c),!(this.$selection.find(".select2-selection__placeholder").length>0||0===c.length)){var d=a('<span class="select2-selection__clear">&times;</span>');d.data("data",c),this.$selection.find(".select2-selection__rendered").prepend(d)}},c}),c.define("select2/selection/search",["jquery","../utils","../keys"],function(a,b,c){function d(a,b,c){a.call(this,b,c)}return d.prototype.render=function(b){var c=a('<li class="select2-search select2-search--inline"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" aria-autocomplete="list" /></li>');this.$searchContainer=c,this.$search=c.find("input");var d=b.call(this);return this._transferTabIndex(),d},d.prototype.bind=function(a,b,d){var e=this;a.call(this,b,d),b.on("open",function(){e.$search.trigger("focus")}),b.on("close",function(){e.$search.val(""),e.$search.removeAttr("aria-activedescendant"),e.$search.trigger("focus")}),b.on("enable",function(){e.$search.prop("disabled",!1),e._transferTabIndex()}),b.on("disable",function(){e.$search.prop("disabled",!0)}),b.on("focus",function(){e.$search.trigger("focus")}),b.on("results:focus",function(a){e.$search.attr("aria-activedescendant",a.id)}),this.$selection.on("focusin",".select2-search--inline",function(a){e.trigger("focus",a)}),this.$selection.on("focusout",".select2-search--inline",function(a){e._handleBlur(a)}),this.$selection.on("keydown",".select2-search--inline",function(a){a.stopPropagation(),e.trigger("keypress",a),e._keyUpPrevented=a.isDefaultPrevented();var b=a.which;if(b===c.BACKSPACE&&""===e.$search.val()){var d=e.$searchContainer.prev(".select2-selection__choice");if(d.length>0){var f=d.data("data");e.searchRemoveChoice(f),a.preventDefault()}}});var f=document.documentMode,g=f&&11>=f;this.$selection.on("input.searchcheck",".select2-search--inline",function(){return g?(e.$selection.off("input.search input.searchcheck"),void 0):(e.$selection.off("keyup.search"),void 0)}),this.$selection.on("keyup.search input.search",".select2-search--inline",function(a){if(g&&"input"===a.type)return e.$selection.off("input.search input.searchcheck"),void 0;var b=a.which;b!=c.SHIFT&&b!=c.CTRL&&b!=c.ALT&&b!=c.TAB&&e.handleSearch(a)})},d.prototype._transferTabIndex=function(){this.$search.attr("tabindex",this.$selection.attr("tabindex")),this.$selection.attr("tabindex","-1")},d.prototype.createPlaceholder=function(a,b){this.$search.attr("placeholder",b.text)},d.prototype.update=function(a,b){var c=this.$search[0]==document.activeElement;this.$search.attr("placeholder",""),a.call(this,b),this.$selection.find(".select2-selection__rendered").append(this.$searchContainer),this.resizeSearch(),c&&this.$search.focus()},d.prototype.handleSearch=function(){if(this.resizeSearch(),!this._keyUpPrevented){var a=this.$search.val();this.trigger("query",{term:a})}this._keyUpPrevented=!1},d.prototype.searchRemoveChoice=function(a,b){this.trigger("unselect",{data:b}),this.$search.val(b.text),this.handleSearch()},d.prototype.resizeSearch=function(){this.$search.css("width","25px");var a="";if(""!==this.$search.attr("placeholder"))a=this.$selection.find(".select2-selection__rendered").innerWidth();else{var b=this.$search.val().length+1;a=.75*b+"em"}this.$search.css("width",a)},d}),c.define("select2/selection/eventRelay",["jquery"],function(a){function b(){}return b.prototype.bind=function(b,c,d){var e=this,f=["open","opening","close","closing","select","selecting","unselect","unselecting"],g=["opening","closing","selecting","unselecting"];b.call(this,c,d),c.on("*",function(b,c){if(-1!==a.inArray(b,f)){c=c||{};var d=a.Event("select2:"+b,{params:c});e.$element.trigger(d),-1!==a.inArray(b,g)&&(c.prevented=d.isDefaultPrevented())}})},b}),c.define("select2/translation",["jquery","require"],function(a,b){function c(a){this.dict=a||{}}return c.prototype.all=function(){return this.dict},c.prototype.get=function(a){return this.dict[a]},c.prototype.extend=function(b){this.dict=a.extend({},b.all(),this.dict)},c._cache={},c.loadPath=function(a){if(!(a in c._cache)){var d=b(a);c._cache[a]=d}return new c(c._cache[a])},c}),c.define("select2/diacritics",[],function(){var a={"\u24b6":"A",\uff21:"A",\u00c0:"A",\u00c1:"A",\u00c2:"A",\u1ea6:"A",\u1ea4:"A",\u1eaa:"A",\u1ea8:"A",\u00c3:"A",\u0100:"A",\u0102:"A",\u1eb0:"A",\u1eae:"A",\u1eb4:"A",\u1eb2:"A",\u0226:"A",\u01e0:"A",\u00c4:"A",\u01de:"A",\u1ea2:"A",\u00c5:"A",\u01fa:"A",\u01cd:"A",\u0200:"A",\u0202:"A",\u1ea0:"A",\u1eac:"A",\u1eb6:"A",\u1e00:"A",\u0104:"A",\u023a:"A",\u2c6f:"A",\ua732:"AA",\u00c6:"AE",\u01fc:"AE",\u01e2:"AE",\ua734:"AO",\ua736:"AU",\ua738:"AV",\ua73a:"AV",\ua73c:"AY","\u24b7":"B",\uff22:"B",\u1e02:"B",\u1e04:"B",\u1e06:"B",\u0243:"B",\u0182:"B",\u0181:"B","\u24b8":"C",\uff23:"C",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u00c7:"C",\u1e08:"C",\u0187:"C",\u023b:"C",\ua73e:"C","\u24b9":"D",\uff24:"D",\u1e0a:"D",\u010e:"D",\u1e0c:"D",\u1e10:"D",\u1e12:"D",\u1e0e:"D",\u0110:"D",\u018b:"D",\u018a:"D",\u0189:"D",\ua779:"D",\u01f1:"DZ",\u01c4:"DZ",\u01f2:"Dz",\u01c5:"Dz","\u24ba":"E",\uff25:"E",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u1ec0:"E",\u1ebe:"E",\u1ec4:"E",\u1ec2:"E",\u1ebc:"E",\u0112:"E",\u1e14:"E",\u1e16:"E",\u0114:"E",\u0116:"E",\u00cb:"E",\u1eba:"E",\u011a:"E",\u0204:"E",\u0206:"E",\u1eb8:"E",\u1ec6:"E",\u0228:"E",\u1e1c:"E",\u0118:"E",\u1e18:"E",\u1e1a:"E",\u0190:"E",\u018e:"E","\u24bb":"F",\uff26:"F",\u1e1e:"F",\u0191:"F",\ua77b:"F","\u24bc":"G",\uff27:"G",\u01f4:"G",\u011c:"G",\u1e20:"G",\u011e:"G",\u0120:"G",\u01e6:"G",\u0122:"G",\u01e4:"G",\u0193:"G","\ua7a0":"G",\ua77d:"G",\ua77e:"G","\u24bd":"H",\uff28:"H",\u0124:"H",\u1e22:"H",\u1e26:"H",\u021e:"H",\u1e24:"H",\u1e28:"H",\u1e2a:"H",\u0126:"H",\u2c67:"H",\u2c75:"H","\ua78d":"H","\u24be":"I",\uff29:"I",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u0128:"I",\u012a:"I",\u012c:"I",\u0130:"I",\u00cf:"I",\u1e2e:"I",\u1ec8:"I",\u01cf:"I",\u0208:"I",\u020a:"I",\u1eca:"I",\u012e:"I",\u1e2c:"I",\u0197:"I","\u24bf":"J",\uff2a:"J",\u0134:"J",\u0248:"J","\u24c0":"K",\uff2b:"K",\u1e30:"K",\u01e8:"K",\u1e32:"K",\u0136:"K",\u1e34:"K",\u0198:"K",\u2c69:"K",\ua740:"K",\ua742:"K",\ua744:"K","\ua7a2":"K","\u24c1":"L",\uff2c:"L",\u013f:"L",\u0139:"L",\u013d:"L",\u1e36:"L",\u1e38:"L",\u013b:"L",\u1e3c:"L",\u1e3a:"L",\u0141:"L",\u023d:"L",\u2c62:"L",\u2c60:"L",\ua748:"L",\ua746:"L",\ua780:"L",\u01c7:"LJ",\u01c8:"Lj","\u24c2":"M",\uff2d:"M",\u1e3e:"M",\u1e40:"M",\u1e42:"M",\u2c6e:"M",\u019c:"M","\u24c3":"N",\uff2e:"N",\u01f8:"N",\u0143:"N",\u00d1:"N",\u1e44:"N",\u0147:"N",\u1e46:"N",\u0145:"N",\u1e4a:"N",\u1e48:"N",\u0220:"N",\u019d:"N","\ua790":"N","\ua7a4":"N",\u01ca:"NJ",\u01cb:"Nj","\u24c4":"O",\uff2f:"O",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u1ed2:"O",\u1ed0:"O",\u1ed6:"O",\u1ed4:"O",\u00d5:"O",\u1e4c:"O",\u022c:"O",\u1e4e:"O",\u014c:"O",\u1e50:"O",\u1e52:"O",\u014e:"O",\u022e:"O",\u0230:"O",\u00d6:"O",\u022a:"O",\u1ece:"O",\u0150:"O",\u01d1:"O",\u020c:"O",\u020e:"O",\u01a0:"O",\u1edc:"O",\u1eda:"O",\u1ee0:"O",\u1ede:"O",\u1ee2:"O",\u1ecc:"O",\u1ed8:"O",\u01ea:"O",\u01ec:"O",\u00d8:"O",\u01fe:"O",\u0186:"O",\u019f:"O",\ua74a:"O",\ua74c:"O",\u01a2:"OI",\ua74e:"OO",\u0222:"OU","\u24c5":"P",\uff30:"P",\u1e54:"P",\u1e56:"P",\u01a4:"P",\u2c63:"P",\ua750:"P",\ua752:"P",\ua754:"P","\u24c6":"Q",\uff31:"Q",\ua756:"Q",\ua758:"Q",\u024a:"Q","\u24c7":"R",\uff32:"R",\u0154:"R",\u1e58:"R",\u0158:"R",\u0210:"R",\u0212:"R",\u1e5a:"R",\u1e5c:"R",\u0156:"R",\u1e5e:"R",\u024c:"R",\u2c64:"R",\ua75a:"R","\ua7a6":"R",\ua782:"R","\u24c8":"S",\uff33:"S",\u1e9e:"S",\u015a:"S",\u1e64:"S",\u015c:"S",\u1e60:"S",\u0160:"S",\u1e66:"S",\u1e62:"S",\u1e68:"S",\u0218:"S",\u015e:"S","\u2c7e":"S","\ua7a8":"S",\ua784:"S","\u24c9":"T",\uff34:"T",\u1e6a:"T",\u0164:"T",\u1e6c:"T",\u021a:"T",\u0162:"T",\u1e70:"T",\u1e6e:"T",\u0166:"T",\u01ac:"T",\u01ae:"T",\u023e:"T",\ua786:"T",\ua728:"TZ","\u24ca":"U",\uff35:"U",\u00d9:"U",\u00da:"U",\u00db:"U",\u0168:"U",\u1e78:"U",\u016a:"U",\u1e7a:"U",\u016c:"U",\u00dc:"U",\u01db:"U",\u01d7:"U",\u01d5:"U",\u01d9:"U",\u1ee6:"U",\u016e:"U",\u0170:"U",\u01d3:"U",\u0214:"U",\u0216:"U",\u01af:"U",\u1eea:"U",\u1ee8:"U",\u1eee:"U",\u1eec:"U",\u1ef0:"U",\u1ee4:"U",\u1e72:"U",\u0172:"U",\u1e76:"U",\u1e74:"U",\u0244:"U","\u24cb":"V",\uff36:"V",\u1e7c:"V",\u1e7e:"V",\u01b2:"V",\ua75e:"V",\u0245:"V",\ua760:"VY","\u24cc":"W",\uff37:"W",\u1e80:"W",\u1e82:"W",\u0174:"W",\u1e86:"W",\u1e84:"W",\u1e88:"W",\u2c72:"W","\u24cd":"X",\uff38:"X",\u1e8a:"X",\u1e8c:"X","\u24ce":"Y",\uff39:"Y",\u1ef2:"Y",\u00dd:"Y",\u0176:"Y",\u1ef8:"Y",\u0232:"Y",\u1e8e:"Y",\u0178:"Y",\u1ef6:"Y",\u1ef4:"Y",\u01b3:"Y",\u024e:"Y",\u1efe:"Y","\u24cf":"Z",\uff3a:"Z",\u0179:"Z",\u1e90:"Z",\u017b:"Z",\u017d:"Z",\u1e92:"Z",\u1e94:"Z",\u01b5:"Z",\u0224:"Z","\u2c7f":"Z",\u2c6b:"Z",\ua762:"Z","\u24d0":"a",\uff41:"a",\u1e9a:"a",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u1ea7:"a",\u1ea5:"a",\u1eab:"a",\u1ea9:"a",\u00e3:"a",\u0101:"a",\u0103:"a",\u1eb1:"a",\u1eaf:"a",\u1eb5:"a",\u1eb3:"a",\u0227:"a",\u01e1:"a",\u00e4:"a",\u01df:"a",\u1ea3:"a",\u00e5:"a",\u01fb:"a",\u01ce:"a",\u0201:"a",\u0203:"a",\u1ea1:"a",\u1ead:"a",\u1eb7:"a",\u1e01:"a",\u0105:"a",\u2c65:"a",\u0250:"a",\ua733:"aa",\u00e6:"ae",\u01fd:"ae",\u01e3:"ae",\ua735:"ao",\ua737:"au",\ua739:"av",\ua73b:"av",\ua73d:"ay","\u24d1":"b",\uff42:"b",\u1e03:"b",\u1e05:"b",\u1e07:"b",\u0180:"b",\u0183:"b",\u0253:"b","\u24d2":"c",\uff43:"c",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u00e7:"c",\u1e09:"c",\u0188:"c",\u023c:"c",\ua73f:"c",\u2184:"c","\u24d3":"d",\uff44:"d",\u1e0b:"d",\u010f:"d",\u1e0d:"d",\u1e11:"d",\u1e13:"d",\u1e0f:"d",\u0111:"d",\u018c:"d",\u0256:"d",\u0257:"d",\ua77a:"d",\u01f3:"dz",\u01c6:"dz","\u24d4":"e",\uff45:"e",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u1ec1:"e",\u1ebf:"e",\u1ec5:"e",\u1ec3:"e",\u1ebd:"e",\u0113:"e",\u1e15:"e",\u1e17:"e",\u0115:"e",\u0117:"e",\u00eb:"e",\u1ebb:"e",\u011b:"e",\u0205:"e",\u0207:"e",\u1eb9:"e",\u1ec7:"e",\u0229:"e",\u1e1d:"e",\u0119:"e",\u1e19:"e",\u1e1b:"e",\u0247:"e",\u025b:"e",\u01dd:"e","\u24d5":"f",\uff46:"f",\u1e1f:"f",\u0192:"f",\ua77c:"f","\u24d6":"g",\uff47:"g",\u01f5:"g",\u011d:"g",\u1e21:"g",\u011f:"g",\u0121:"g",\u01e7:"g",\u0123:"g",\u01e5:"g",\u0260:"g","\ua7a1":"g",\u1d79:"g",\ua77f:"g","\u24d7":"h",\uff48:"h",\u0125:"h",\u1e23:"h",\u1e27:"h",\u021f:"h",\u1e25:"h",\u1e29:"h",\u1e2b:"h",\u1e96:"h",\u0127:"h",\u2c68:"h",\u2c76:"h",\u0265:"h",\u0195:"hv","\u24d8":"i",\uff49:"i",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u0129:"i",\u012b:"i",\u012d:"i",\u00ef:"i",\u1e2f:"i",\u1ec9:"i",\u01d0:"i",\u0209:"i",\u020b:"i",\u1ecb:"i",\u012f:"i",\u1e2d:"i",\u0268:"i",\u0131:"i","\u24d9":"j",\uff4a:"j",\u0135:"j",\u01f0:"j",\u0249:"j","\u24da":"k",\uff4b:"k",\u1e31:"k",\u01e9:"k",\u1e33:"k",\u0137:"k",\u1e35:"k",\u0199:"k",\u2c6a:"k",\ua741:"k",\ua743:"k",\ua745:"k","\ua7a3":"k","\u24db":"l",\uff4c:"l",\u0140:"l",\u013a:"l",\u013e:"l",\u1e37:"l",\u1e39:"l",\u013c:"l",\u1e3d:"l",\u1e3b:"l",\u017f:"l",\u0142:"l",\u019a:"l",\u026b:"l",\u2c61:"l",\ua749:"l",\ua781:"l",\ua747:"l",\u01c9:"lj","\u24dc":"m",\uff4d:"m",\u1e3f:"m",\u1e41:"m",\u1e43:"m",\u0271:"m",\u026f:"m","\u24dd":"n",\uff4e:"n",\u01f9:"n",\u0144:"n",\u00f1:"n",\u1e45:"n",\u0148:"n",\u1e47:"n",\u0146:"n",\u1e4b:"n",\u1e49:"n",\u019e:"n",\u0272:"n",\u0149:"n","\ua791":"n","\ua7a5":"n",\u01cc:"nj","\u24de":"o",\uff4f:"o",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u1ed3:"o",\u1ed1:"o",\u1ed7:"o",\u1ed5:"o",\u00f5:"o",\u1e4d:"o",\u022d:"o",\u1e4f:"o",\u014d:"o",\u1e51:"o",\u1e53:"o",\u014f:"o",\u022f:"o",\u0231:"o",\u00f6:"o",\u022b:"o",\u1ecf:"o",\u0151:"o",\u01d2:"o",\u020d:"o",\u020f:"o",\u01a1:"o",\u1edd:"o",\u1edb:"o",\u1ee1:"o",\u1edf:"o",\u1ee3:"o",\u1ecd:"o",\u1ed9:"o",\u01eb:"o",\u01ed:"o",\u00f8:"o",\u01ff:"o",\u0254:"o",\ua74b:"o",\ua74d:"o",\u0275:"o",\u01a3:"oi",\u0223:"ou",\ua74f:"oo","\u24df":"p",\uff50:"p",\u1e55:"p",\u1e57:"p",\u01a5:"p",\u1d7d:"p",\ua751:"p",\ua753:"p",\ua755:"p","\u24e0":"q",\uff51:"q",\u024b:"q",\ua757:"q",\ua759:"q","\u24e1":"r",\uff52:"r",\u0155:"r",\u1e59:"r",\u0159:"r",\u0211:"r",\u0213:"r",\u1e5b:"r",\u1e5d:"r",\u0157:"r",\u1e5f:"r",\u024d:"r",\u027d:"r",\ua75b:"r","\ua7a7":"r",\ua783:"r","\u24e2":"s",\uff53:"s",\u00df:"s",\u015b:"s",\u1e65:"s",\u015d:"s",\u1e61:"s",\u0161:"s",\u1e67:"s",\u1e63:"s",\u1e69:"s",\u0219:"s",\u015f:"s",\u023f:"s","\ua7a9":"s",\ua785:"s",\u1e9b:"s","\u24e3":"t",\uff54:"t",\u1e6b:"t",\u1e97:"t",\u0165:"t",\u1e6d:"t",\u021b:"t",\u0163:"t",\u1e71:"t",\u1e6f:"t",\u0167:"t",\u01ad:"t",\u0288:"t",\u2c66:"t",\ua787:"t",\ua729:"tz","\u24e4":"u",\uff55:"u",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u0169:"u",\u1e79:"u",\u016b:"u",\u1e7b:"u",\u016d:"u",\u00fc:"u",\u01dc:"u",\u01d8:"u",\u01d6:"u",\u01da:"u",\u1ee7:"u",\u016f:"u",\u0171:"u",\u01d4:"u",\u0215:"u",\u0217:"u",\u01b0:"u",\u1eeb:"u",\u1ee9:"u",\u1eef:"u",\u1eed:"u",\u1ef1:"u",\u1ee5:"u",\u1e73:"u",\u0173:"u",\u1e77:"u",\u1e75:"u",\u0289:"u","\u24e5":"v",\uff56:"v",\u1e7d:"v",\u1e7f:"v",\u028b:"v",\ua75f:"v",\u028c:"v",\ua761:"vy","\u24e6":"w",\uff57:"w",\u1e81:"w",\u1e83:"w",\u0175:"w",\u1e87:"w",\u1e85:"w",\u1e98:"w",\u1e89:"w",\u2c73:"w","\u24e7":"x",\uff58:"x",\u1e8b:"x",\u1e8d:"x","\u24e8":"y",\uff59:"y",\u1ef3:"y",\u00fd:"y",\u0177:"y",\u1ef9:"y",\u0233:"y",\u1e8f:"y",\u00ff:"y",\u1ef7:"y",\u1e99:"y",\u1ef5:"y",\u01b4:"y",\u024f:"y",\u1eff:"y","\u24e9":"z",\uff5a:"z",\u017a:"z",\u1e91:"z",\u017c:"z",\u017e:"z",\u1e93:"z",\u1e95:"z",\u01b6:"z",\u0225:"z",\u0240:"z",\u2c6c:"z",\ua763:"z",\u0386:"\u0391",\u0388:"\u0395",\u0389:"\u0397",\u038a:"\u0399",\u03aa:"\u0399",\u038c:"\u039f",\u038e:"\u03a5",\u03ab:"\u03a5",\u038f:"\u03a9",\u03ac:"\u03b1",\u03ad:"\u03b5",\u03ae:"\u03b7",\u03af:"\u03b9",\u03ca:"\u03b9",\u0390:"\u03b9",\u03cc:"\u03bf",\u03cd:"\u03c5",\u03cb:"\u03c5",\u03b0:"\u03c5",\u03c9:"\u03c9",\u03c2:"\u03c3"};
return a}),c.define("select2/data/base",["../utils"],function(a){function b(){b.__super__.constructor.call(this)}return a.Extend(b,a.Observable),b.prototype.current=function(){throw new Error("The `current` method must be defined in child classes.")},b.prototype.query=function(){throw new Error("The `query` method must be defined in child classes.")},b.prototype.bind=function(){},b.prototype.destroy=function(){},b.prototype.generateResultId=function(b,c){var d=b.id+"-result-";return d+=a.generateChars(4),d+=null!=c.id?"-"+c.id.toString():"-"+a.generateChars(4)},b}),c.define("select2/data/select",["./base","../utils","jquery"],function(a,b,c){function d(a,b){this.$element=a,this.options=b,d.__super__.constructor.call(this)}return b.Extend(d,a),d.prototype.current=function(a){var b=[],d=this;this.$element.find(":selected").each(function(){var a=c(this),e=d.item(a);b.push(e)}),a(b)},d.prototype.select=function(a){var b=this;if(a.selected=!0,c(a.element).is("option"))return a.element.selected=!0,this.$element.trigger("change"),void 0;if(this.$element.prop("multiple"))this.current(function(d){var e=[];a=[a],a.push.apply(a,d);for(var f=0;f<a.length;f++){var g=a[f].id;-1===c.inArray(g,e)&&e.push(g)}b.$element.val(e),b.$element.trigger("change")});else{var d=a.id;this.$element.val(d),this.$element.trigger("change")}},d.prototype.unselect=function(a){var b=this;if(this.$element.prop("multiple"))return a.selected=!1,c(a.element).is("option")?(a.element.selected=!1,this.$element.trigger("change"),void 0):(this.current(function(d){for(var e=[],f=0;f<d.length;f++){var g=d[f].id;g!==a.id&&-1===c.inArray(g,e)&&e.push(g)}b.$element.val(e),b.$element.trigger("change")}),void 0)},d.prototype.bind=function(a){var c=this;this.container=a,a.on("select",function(a){c.select(a.data)}),a.on("unselect",function(a){c.unselect(a.data)})},d.prototype.destroy=function(){this.$element.find("*").each(function(){c.removeData(this,"data")})},d.prototype.query=function(a,b){var d=[],e=this,f=this.$element.children();f.each(function(){var b=c(this);if(b.is("option")||b.is("optgroup")){var f=e.item(b),g=e.matches(a,f);null!==g&&d.push(g)}}),b({results:d})},d.prototype.addOptions=function(a){b.appendMany(this.$element,a)},d.prototype.option=function(a){var b;a.children?(b=document.createElement("optgroup"),b.label=a.text):(b=document.createElement("option"),void 0!==b.textContent?b.textContent=a.text:b.innerText=a.text),a.id&&(b.value=a.id),a.disabled&&(b.disabled=!0),a.selected&&(b.selected=!0),a.title&&(b.title=a.title);var d=c(b),e=this._normalizeItem(a);return e.element=b,c.data(b,"data",e),d},d.prototype.item=function(a){var b={};if(b=c.data(a[0],"data"),null!=b)return b;if(a.is("option"))b={id:a.val(),text:a.text(),disabled:a.prop("disabled"),selected:a.prop("selected"),title:a.prop("title")};else if(a.is("optgroup")){b={text:a.prop("label"),children:[],title:a.prop("title")};for(var d=a.children("option"),e=[],f=0;f<d.length;f++){var g=c(d[f]),h=this.item(g);e.push(h)}b.children=e}return b=this._normalizeItem(b),b.element=a[0],c.data(a[0],"data",b),b},d.prototype._normalizeItem=function(a){c.isPlainObject(a)||(a={id:a,text:a}),a=c.extend({},{text:""},a);var b={selected:!1,disabled:!1};return null!=a.id&&(a.id=a.id.toString()),null!=a.text&&(a.text=a.text.toString()),null==a._resultId&&a.id&&null!=this.container&&(a._resultId=this.generateResultId(this.container,a)),c.extend({},b,a)},d.prototype.matches=function(a,b){var c=this.options.get("matcher");return c(a,b)},d}),c.define("select2/data/array",["./select","../utils","jquery"],function(a,b,c){function d(a,b){var c=b.get("data")||[];d.__super__.constructor.call(this,a,b),this.addOptions(this.convertToOptions(c))}return b.Extend(d,a),d.prototype.select=function(a){var b=this.$element.find("option").filter(function(b,c){return c.value==a.id.toString()});0===b.length&&(b=this.option(a),this.addOptions(b)),d.__super__.select.call(this,a)},d.prototype.convertToOptions=function(a){function h(a){return function(){return c(this).val()==a.id}}for(var d=this,e=this.$element.find("option"),f=e.map(function(){return d.item(c(this)).id}).get(),g=[],i=0;i<a.length;i++){var j=this._normalizeItem(a[i]);if(c.inArray(j.id,f)>=0){var k=e.filter(h(j)),l=this.item(k),m=c.extend(!0,{},j,l),n=this.option(m);k.replaceWith(n)}else{var o=this.option(j);if(j.children){var p=this.convertToOptions(j.children);b.appendMany(o,p)}g.push(o)}}return g},d}),c.define("select2/data/ajax",["./array","../utils","jquery"],function(a,b,c){function d(a,b){this.ajaxOptions=this._applyDefaults(b.get("ajax")),null!=this.ajaxOptions.processResults&&(this.processResults=this.ajaxOptions.processResults),d.__super__.constructor.call(this,a,b)}return b.Extend(d,a),d.prototype._applyDefaults=function(a){var b={data:function(a){return c.extend({},a,{q:a.term})},transport:function(a,b,d){var e=c.ajax(a);return e.then(b),e.fail(d),e}};return c.extend({},b,a,!0)},d.prototype.processResults=function(a){return a},d.prototype.query=function(a,b){function g(){var d=f.transport(f,function(d){var f=e.processResults(d,a);e.options.get("debug")&&window.console&&console.error&&(f&&f.results&&c.isArray(f.results)||console.error("Select2: The AJAX results did not return an array in the `results` key of the response.")),b(f)},function(){e.trigger("results:message",{message:"errorLoading"})});e._request=d}var e=this;null!=this._request&&(c.isFunction(this._request.abort)&&this._request.abort(),this._request=null);var f=c.extend({type:"GET"},this.ajaxOptions);"function"==typeof f.url&&(f.url=f.url.call(this.$element,a)),"function"==typeof f.data&&(f.data=f.data.call(this.$element,a)),this.ajaxOptions.delay&&""!==a.term?(this._queryTimeout&&window.clearTimeout(this._queryTimeout),this._queryTimeout=window.setTimeout(g,this.ajaxOptions.delay)):g()},d}),c.define("select2/data/tags",["jquery"],function(a){function b(b,c,d){var e=d.get("tags"),f=d.get("createTag");void 0!==f&&(this.createTag=f);var g=d.get("insertTag");if(void 0!==g&&(this.insertTag=g),b.call(this,c,d),a.isArray(e))for(var h=0;h<e.length;h++){var i=e[h],j=this._normalizeItem(i),k=this.option(j);this.$element.append(k)}}return b.prototype.query=function(a,b,c){function e(a,f){for(var g=a.results,h=0;h<g.length;h++){var i=g[h],j=null!=i.children&&!e({results:i.children},!0),k=i.text===b.term;if(k||j)return f?!1:(a.data=g,c(a),void 0)}if(f)return!0;var l=d.createTag(b);if(null!=l){var m=d.option(l);m.attr("data-select2-tag",!0),d.addOptions([m]),d.insertTag(g,l)}a.results=g,c(a)}var d=this;return this._removeOldTags(),null==b.term||null!=b.page?(a.call(this,b,c),void 0):(a.call(this,b,e),void 0)},b.prototype.createTag=function(b,c){var d=a.trim(c.term);return""===d?null:{id:d,text:d}},b.prototype.insertTag=function(a,b,c){b.unshift(c)},b.prototype._removeOldTags=function(){var d=(this._lastTag,this.$element.find("option[data-select2-tag]"));d.each(function(){this.selected||a(this).remove()})},b}),c.define("select2/data/tokenizer",["jquery"],function(a){function b(a,b,c){var d=c.get("tokenizer");void 0!==d&&(this.tokenizer=d),a.call(this,b,c)}return b.prototype.bind=function(a,b,c){a.call(this,b,c),this.$search=b.dropdown.$search||b.selection.$search||c.find(".select2-search__field")},b.prototype.query=function(a,b,c){function e(a){d.trigger("select",{data:a})}var d=this;b.term=b.term||"";var f=this.tokenizer(b,this.options,e);f.term!==b.term&&(this.$search.length&&(this.$search.val(f.term),this.$search.focus()),b.term=f.term),a.call(this,b,c)},b.prototype.tokenizer=function(b,c,d,e){for(var f=d.get("tokenSeparators")||[],g=c.term,h=0,i=this.createTag||function(a){return{id:a.term,text:a.term}};h<g.length;){var j=g[h];if(-1!==a.inArray(j,f)){var k=g.substr(0,h),l=a.extend({},c,{term:k}),m=i(l);null!=m?(e(m),g=g.substr(h+1)||"",h=0):h++}else h++}return{term:g}},b}),c.define("select2/data/minimumInputLength",[],function(){function a(a,b,c){this.minimumInputLength=c.get("minimumInputLength"),a.call(this,b,c)}return a.prototype.query=function(a,b,c){return b.term=b.term||"",b.term.length<this.minimumInputLength?(this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:b.term,params:b}}),void 0):(a.call(this,b,c),void 0)},a}),c.define("select2/data/maximumInputLength",[],function(){function a(a,b,c){this.maximumInputLength=c.get("maximumInputLength"),a.call(this,b,c)}return a.prototype.query=function(a,b,c){return b.term=b.term||"",this.maximumInputLength>0&&b.term.length>this.maximumInputLength?(this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:b.term,params:b}}),void 0):(a.call(this,b,c),void 0)},a}),c.define("select2/data/maximumSelectionLength",[],function(){function a(a,b,c){this.maximumSelectionLength=c.get("maximumSelectionLength"),a.call(this,b,c)}return a.prototype.query=function(a,b,c){var d=this;this.current(function(e){var f=null!=e?e.length:0;return d.maximumSelectionLength>0&&f>=d.maximumSelectionLength?(d.trigger("results:message",{message:"maximumSelected",args:{maximum:d.maximumSelectionLength}}),void 0):(a.call(d,b,c),void 0)})},a}),c.define("select2/dropdown",["jquery","./utils"],function(a,b){function c(a,b){this.$element=a,this.options=b,c.__super__.constructor.call(this)}return b.Extend(c,b.Observable),c.prototype.render=function(){var b=a('<span class="select2-dropdown"><span class="select2-results"></span></span>');return b.attr("dir",this.options.get("dir")),this.$dropdown=b,b},c.prototype.bind=function(){},c.prototype.position=function(){},c.prototype.destroy=function(){this.$dropdown.remove()},c}),c.define("select2/dropdown/search",["jquery","../utils"],function(a){function c(){}return c.prototype.render=function(b){var c=b.call(this),d=a('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" /></span>');return this.$searchContainer=d,this.$search=d.find("input"),c.prepend(d),c},c.prototype.bind=function(b,c,d){var e=this;b.call(this,c,d),this.$search.on("keydown",function(a){e.trigger("keypress",a),e._keyUpPrevented=a.isDefaultPrevented()}),this.$search.on("input",function(){a(this).off("keyup")}),this.$search.on("keyup input",function(a){e.handleSearch(a)}),c.on("open",function(){e.$search.attr("tabindex",0),e.$search.focus(),window.setTimeout(function(){e.$search.focus()},0)}),c.on("close",function(){e.$search.attr("tabindex",-1),e.$search.val("")}),c.on("results:all",function(a){if(null==a.query.term||""===a.query.term){var b=e.showSearch(a);b?e.$searchContainer.removeClass("select2-search--hide"):e.$searchContainer.addClass("select2-search--hide")}})},c.prototype.handleSearch=function(){if(!this._keyUpPrevented){var b=this.$search.val();this.trigger("query",{term:b})}this._keyUpPrevented=!1},c.prototype.showSearch=function(){return!0},c}),c.define("select2/dropdown/hidePlaceholder",[],function(){function a(a,b,c,d){this.placeholder=this.normalizePlaceholder(c.get("placeholder")),a.call(this,b,c,d)}return a.prototype.append=function(a,b){b.results=this.removePlaceholder(b.results),a.call(this,b)},a.prototype.normalizePlaceholder=function(a,b){return"string"==typeof b&&(b={id:"",text:b}),b},a.prototype.removePlaceholder=function(a,b){for(var c=b.slice(0),d=b.length-1;d>=0;d--){var e=b[d];this.placeholder.id===e.id&&c.splice(d,1)}return c},a}),c.define("select2/dropdown/infiniteScroll",["jquery"],function(a){function b(a,b,c,d){this.lastParams={},a.call(this,b,c,d),this.$loadingMore=this.createLoadingMore(),this.loading=!1}return b.prototype.append=function(a,b){this.$loadingMore.remove(),this.loading=!1,a.call(this,b),this.showLoadingMore(b)&&this.$results.append(this.$loadingMore)},b.prototype.bind=function(b,c,d){var e=this;b.call(this,c,d),c.on("query",function(a){e.lastParams=a,e.loading=!0}),c.on("query:append",function(a){e.lastParams=a,e.loading=!0}),this.$results.on("scroll",function(){var b=a.contains(document.documentElement,e.$loadingMore[0]);if(!e.loading&&b){var c=e.$results.offset().top+e.$results.outerHeight(!1),d=e.$loadingMore.offset().top+e.$loadingMore.outerHeight(!1);c+50>=d&&e.loadMore()}})},b.prototype.loadMore=function(){this.loading=!0;var b=a.extend({},{page:1},this.lastParams);b.page++,this.trigger("query:append",b)},b.prototype.showLoadingMore=function(a,b){return b.pagination&&b.pagination.more},b.prototype.createLoadingMore=function(){var b=a('<li class="select2-results__option select2-results__option--load-more"role="treeitem" aria-disabled="true"></li>'),c=this.options.get("translations").get("loadingMore");return b.html(c(this.lastParams)),b},b}),c.define("select2/dropdown/attachBody",["jquery","../utils"],function(a,b){function c(b,c,d){this.$dropdownParent=d.get("dropdownParent")||a(document.body),b.call(this,c,d)}return c.prototype.bind=function(a,b,c){var d=this,e=!1;a.call(this,b,c),b.on("open",function(){d._showDropdown(),d._attachPositioningHandler(b),e||(e=!0,b.on("results:all",function(){d._positionDropdown(),d._resizeDropdown()}),b.on("results:append",function(){d._positionDropdown(),d._resizeDropdown()}))}),b.on("close",function(){d._hideDropdown(),d._detachPositioningHandler(b)}),this.$dropdownContainer.on("mousedown",function(a){a.stopPropagation()})},c.prototype.destroy=function(a){a.call(this),this.$dropdownContainer.remove()},c.prototype.position=function(a,b,c){b.attr("class",c.attr("class")),b.removeClass("select2"),b.addClass("select2-container--open"),b.css({position:"absolute",top:-999999}),this.$container=c},c.prototype.render=function(b){var c=a("<span></span>"),d=b.call(this);return c.append(d),this.$dropdownContainer=c,c},c.prototype._hideDropdown=function(){this.$dropdownContainer.detach()},c.prototype._attachPositioningHandler=function(c,d){var e=this,f="scroll.select2."+d.id,g="resize.select2."+d.id,h="orientationchange.select2."+d.id,i=this.$container.parents().filter(b.hasScroll);i.each(function(){a(this).data("select2-scroll-position",{x:a(this).scrollLeft(),y:a(this).scrollTop()})}),i.on(f,function(){var c=a(this).data("select2-scroll-position");a(this).scrollTop(c.y)}),a(window).on(f+" "+g+" "+h,function(){e._positionDropdown(),e._resizeDropdown()})},c.prototype._detachPositioningHandler=function(c,d){var e="scroll.select2."+d.id,f="resize.select2."+d.id,g="orientationchange.select2."+d.id,h=this.$container.parents().filter(b.hasScroll);h.off(e),a(window).off(e+" "+f+" "+g)},c.prototype._positionDropdown=function(){var b=a(window),c=this.$dropdown.hasClass("select2-dropdown--above"),d=this.$dropdown.hasClass("select2-dropdown--below"),e=null,f=this.$container.offset();f.bottom=f.top+this.$container.outerHeight(!1);var g={height:this.$container.outerHeight(!1)};g.top=f.top,g.bottom=f.top+g.height;var h={height:this.$dropdown.outerHeight(!1)},i={top:b.scrollTop(),bottom:b.scrollTop()+b.height()},j=i.top<f.top-h.height,k=i.bottom>f.bottom+h.height,l={left:f.left,top:g.bottom},m=this.$dropdownParent;"static"===m.css("position")&&(m=m.offsetParent());var n=m.offset();l.top-=n.top,l.left-=n.left,c||d||(e="below"),k||!j||c?!j&&k&&c&&(e="below"):e="above",("above"==e||c&&"below"!==e)&&(l.top=g.top-h.height),null!=e&&(this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--"+e),this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--"+e)),this.$dropdownContainer.css(l)},c.prototype._resizeDropdown=function(){var a={width:this.$container.outerWidth(!1)+"px"};this.options.get("dropdownAutoWidth")&&(a.minWidth=a.width,a.width="auto"),this.$dropdown.css(a)},c.prototype._showDropdown=function(){this.$dropdownContainer.appendTo(this.$dropdownParent),this._positionDropdown(),this._resizeDropdown()},c}),c.define("select2/dropdown/minimumResultsForSearch",[],function(){function a(b){for(var c=0,d=0;d<b.length;d++){var e=b[d];e.children?c+=a(e.children):c++}return c}function b(a,b,c,d){this.minimumResultsForSearch=c.get("minimumResultsForSearch"),this.minimumResultsForSearch<0&&(this.minimumResultsForSearch=1/0),a.call(this,b,c,d)}return b.prototype.showSearch=function(b,c){return a(c.data.results)<this.minimumResultsForSearch?!1:b.call(this,c)},b}),c.define("select2/dropdown/selectOnClose",[],function(){function a(){}return a.prototype.bind=function(a,b,c){var d=this;a.call(this,b,c),b.on("close",function(){d._handleSelectOnClose()})},a.prototype._handleSelectOnClose=function(){var a=this.getHighlightedResults();if(!(a.length<1)){var b=a.data("data");null!=b.element&&b.element.selected||null==b.element&&b.selected||this.trigger("select",{data:b})}},a}),c.define("select2/dropdown/closeOnSelect",[],function(){function a(){}return a.prototype.bind=function(a,b,c){var d=this;a.call(this,b,c),b.on("select",function(a){d._selectTriggered(a)}),b.on("unselect",function(a){d._selectTriggered(a)})},a.prototype._selectTriggered=function(a,b){var c=b.originalEvent;c&&c.ctrlKey||this.trigger("close",{})},a}),c.define("select2/i18n/en",[],function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(a){var b=a.input.length-a.maximum,c="Please delete "+b+" character";return 1!=b&&(c+="s"),c},inputTooShort:function(a){var b=a.minimum-a.input.length,c="Please enter "+b+" or more characters";return c},loadingMore:function(){return"Loading more results\u2026"},maximumSelected:function(a){var b="You can only select "+a.maximum+" item";return 1!=a.maximum&&(b+="s"),b},noResults:function(){return"No results found"},searching:function(){return"Searching\u2026"}}}),c.define("select2/defaults",["jquery","require","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./i18n/en"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C){function D(){this.reset()}D.prototype.apply=function(l){if(l=a.extend(!0,{},this.defaults,l),null==l.dataAdapter){if(l.dataAdapter=null!=l.ajax?o:null!=l.data?n:m,l.minimumInputLength>0&&(l.dataAdapter=j.Decorate(l.dataAdapter,r)),l.maximumInputLength>0&&(l.dataAdapter=j.Decorate(l.dataAdapter,s)),l.maximumSelectionLength>0&&(l.dataAdapter=j.Decorate(l.dataAdapter,t)),l.tags&&(l.dataAdapter=j.Decorate(l.dataAdapter,p)),(null!=l.tokenSeparators||null!=l.tokenizer)&&(l.dataAdapter=j.Decorate(l.dataAdapter,q)),null!=l.query){var C=b(l.amdBase+"compat/query");l.dataAdapter=j.Decorate(l.dataAdapter,C)}if(null!=l.initSelection){var D=b(l.amdBase+"compat/initSelection");l.dataAdapter=j.Decorate(l.dataAdapter,D)}}if(null==l.resultsAdapter&&(l.resultsAdapter=c,null!=l.ajax&&(l.resultsAdapter=j.Decorate(l.resultsAdapter,x)),null!=l.placeholder&&(l.resultsAdapter=j.Decorate(l.resultsAdapter,w)),l.selectOnClose&&(l.resultsAdapter=j.Decorate(l.resultsAdapter,A))),null==l.dropdownAdapter){if(l.multiple)l.dropdownAdapter=u;else{var E=j.Decorate(u,v);l.dropdownAdapter=E}if(0!==l.minimumResultsForSearch&&(l.dropdownAdapter=j.Decorate(l.dropdownAdapter,z)),l.closeOnSelect&&(l.dropdownAdapter=j.Decorate(l.dropdownAdapter,B)),null!=l.dropdownCssClass||null!=l.dropdownCss||null!=l.adaptDropdownCssClass){var F=b(l.amdBase+"compat/dropdownCss");l.dropdownAdapter=j.Decorate(l.dropdownAdapter,F)}l.dropdownAdapter=j.Decorate(l.dropdownAdapter,y)}if(null==l.selectionAdapter){if(l.selectionAdapter=l.multiple?e:d,null!=l.placeholder&&(l.selectionAdapter=j.Decorate(l.selectionAdapter,f)),l.allowClear&&(l.selectionAdapter=j.Decorate(l.selectionAdapter,g)),l.multiple&&(l.selectionAdapter=j.Decorate(l.selectionAdapter,h)),null!=l.containerCssClass||null!=l.containerCss||null!=l.adaptContainerCssClass){var G=b(l.amdBase+"compat/containerCss");l.selectionAdapter=j.Decorate(l.selectionAdapter,G)}l.selectionAdapter=j.Decorate(l.selectionAdapter,i)}if("string"==typeof l.language)if(l.language.indexOf("-")>0){var H=l.language.split("-"),I=H[0];l.language=[l.language,I]}else l.language=[l.language];if(a.isArray(l.language)){var J=new k;l.language.push("en");for(var K=l.language,L=0;L<K.length;L++){var M=K[L],N={};try{N=k.loadPath(M)}catch(O){try{M=this.defaults.amdLanguageBase+M,N=k.loadPath(M)}catch(P){l.debug&&window.console&&console.warn&&console.warn('Select2: The language file for "'+M+'" could not be automatically loaded. A fallback will be used instead.');continue}}J.extend(N)}l.translations=J}else{var Q=k.loadPath(this.defaults.amdLanguageBase+"en"),R=new k(l.language);R.extend(Q),l.translations=R}return l},D.prototype.reset=function(){function b(a){function b(a){return l[a]||a}return a.replace(/[^\u0000-\u007E]/g,b)}function c(d,e){if(""===a.trim(d.term))return e;if(e.children&&e.children.length>0){for(var f=a.extend(!0,{},e),g=e.children.length-1;g>=0;g--){var h=e.children[g],i=c(d,h);null==i&&f.children.splice(g,1)}return f.children.length>0?f:c(d,f)}var j=b(e.text).toUpperCase(),k=b(d.term).toUpperCase();return j.indexOf(k)>-1?e:null}this.defaults={amdBase:"./",amdLanguageBase:"./i18n/",closeOnSelect:!0,debug:!1,dropdownAutoWidth:!1,escapeMarkup:j.escapeMarkup,language:C,matcher:c,minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,sorter:function(a){return a},templateResult:function(a){return a.text},templateSelection:function(a){return a.text},theme:"default",width:"resolve"}},D.prototype.set=function(b,c){var d=a.camelCase(b),e={};e[d]=c;var f=j._convertData(e);a.extend(this.defaults,f)};var E=new D;return E}),c.define("select2/options",["require","jquery","./defaults","./utils"],function(a,b,c,d){function e(b,e){if(this.options=b,null!=e&&this.fromElement(e),this.options=c.apply(this.options),e&&e.is("input")){var f=a(this.get("amdBase")+"compat/inputData");this.options.dataAdapter=d.Decorate(this.options.dataAdapter,f)}}return e.prototype.fromElement=function(a){var c=["select2"];null==this.options.multiple&&(this.options.multiple=a.prop("multiple")),null==this.options.disabled&&(this.options.disabled=a.prop("disabled")),null==this.options.language&&(a.prop("lang")?this.options.language=a.prop("lang").toLowerCase():a.closest("[lang]").prop("lang")&&(this.options.language=a.closest("[lang]").prop("lang"))),null==this.options.dir&&(this.options.dir=a.prop("dir")?a.prop("dir"):a.closest("[dir]").prop("dir")?a.closest("[dir]").prop("dir"):"ltr"),a.prop("disabled",this.options.disabled),a.prop("multiple",this.options.multiple),a.data("select2Tags")&&(this.options.debug&&window.console&&console.warn&&console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.'),a.data("data",a.data("select2Tags")),a.data("tags",!0)),a.data("ajaxUrl")&&(this.options.debug&&window.console&&console.warn&&console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."),a.attr("ajax--url",a.data("ajaxUrl")),a.data("ajax--url",a.data("ajaxUrl")));var e={};e=b.fn.jquery&&"1."==b.fn.jquery.substr(0,2)&&a[0].dataset?b.extend(!0,{},a[0].dataset,a.data()):a.data();var f=b.extend(!0,{},e);f=d._convertData(f);for(var g in f)b.inArray(g,c)>-1||(b.isPlainObject(this.options[g])?b.extend(this.options[g],f[g]):this.options[g]=f[g]);return this},e.prototype.get=function(a){return this.options[a]},e.prototype.set=function(a,b){this.options[a]=b},e}),c.define("select2/core",["jquery","./options","./utils","./keys"],function(a,b,c,d){var e=function(a,c){null!=a.data("select2")&&a.data("select2").destroy(),this.$element=a,this.id=this._generateId(a),c=c||{},this.options=new b(c,a),e.__super__.constructor.call(this);var d=a.attr("tabindex")||0;a.data("old-tabindex",d),a.attr("tabindex","-1");var f=this.options.get("dataAdapter");this.dataAdapter=new f(a,this.options);var g=this.render();this._placeContainer(g);var h=this.options.get("selectionAdapter");this.selection=new h(a,this.options),this.$selection=this.selection.render(),this.selection.position(this.$selection,g);var i=this.options.get("dropdownAdapter");this.dropdown=new i(a,this.options),this.$dropdown=this.dropdown.render(),this.dropdown.position(this.$dropdown,g);var j=this.options.get("resultsAdapter");this.results=new j(a,this.options,this.dataAdapter),this.$results=this.results.render(),this.results.position(this.$results,this.$dropdown);var k=this;this._bindAdapters(),this._registerDomEvents(),this._registerDataEvents(),this._registerSelectionEvents(),this._registerDropdownEvents(),this._registerResultsEvents(),this._registerEvents(),this.dataAdapter.current(function(a){k.trigger("selection:update",{data:a})}),a.addClass("select2-hidden-accessible"),a.attr("aria-hidden","true"),this._syncAttributes(),a.data("select2",this)};return c.Extend(e,c.Observable),e.prototype._generateId=function(a){var b="";return b=null!=a.attr("id")?a.attr("id"):null!=a.attr("name")?a.attr("name")+"-"+c.generateChars(2):c.generateChars(4),b=b.replace(/(:|\.|\[|\]|,)/g,""),b="select2-"+b},e.prototype._placeContainer=function(a){a.insertAfter(this.$element);var b=this._resolveWidth(this.$element,this.options.get("width"));null!=b&&a.css("width",b)},e.prototype._resolveWidth=function(a,b){var c=/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if("resolve"==b){var d=this._resolveWidth(a,"style");return null!=d?d:this._resolveWidth(a,"element")}if("element"==b){var e=a.outerWidth(!1);return 0>=e?"auto":e+"px"}if("style"==b){var f=a.attr("style");if("string"!=typeof f)return null;for(var g=f.split(";"),h=0,i=g.length;i>h;h+=1){var j=g[h].replace(/\s/g,""),k=j.match(c);if(null!==k&&k.length>=1)return k[1]}return null}return b},e.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container),this.selection.bind(this,this.$container),this.dropdown.bind(this,this.$container),this.results.bind(this,this.$container)},e.prototype._registerDomEvents=function(){var b=this;this.$element.on("change.select2",function(){b.dataAdapter.current(function(a){b.trigger("selection:update",{data:a})})}),this._sync=c.bind(this._syncAttributes,this),this.$element[0].attachEvent&&this.$element[0].attachEvent("onpropertychange",this._sync);var d=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;null!=d?(this._observer=new d(function(c){a.each(c,b._sync)}),this._observer.observe(this.$element[0],{attributes:!0,subtree:!1})):this.$element[0].addEventListener&&this.$element[0].addEventListener("DOMAttrModified",b._sync,!1)},e.prototype._registerDataEvents=function(){var a=this;this.dataAdapter.on("*",function(b,c){a.trigger(b,c)})},e.prototype._registerSelectionEvents=function(){var b=this,c=["toggle","focus"];this.selection.on("toggle",function(){b.toggleDropdown()}),this.selection.on("focus",function(a){b.focus(a)}),this.selection.on("*",function(d,e){-1===a.inArray(d,c)&&b.trigger(d,e)})},e.prototype._registerDropdownEvents=function(){var a=this;this.dropdown.on("*",function(b,c){a.trigger(b,c)})},e.prototype._registerResultsEvents=function(){var a=this;this.results.on("*",function(b,c){a.trigger(b,c)})},e.prototype._registerEvents=function(){var a=this;this.on("open",function(){a.$container.addClass("select2-container--open")}),this.on("close",function(){a.$container.removeClass("select2-container--open")}),this.on("enable",function(){a.$container.removeClass("select2-container--disabled")}),this.on("disable",function(){a.$container.addClass("select2-container--disabled")}),this.on("blur",function(){a.$container.removeClass("select2-container--focus")}),this.on("query",function(b){a.isOpen()||a.trigger("open",{}),this.dataAdapter.query(b,function(c){a.trigger("results:all",{data:c,query:b})})}),this.on("query:append",function(b){this.dataAdapter.query(b,function(c){a.trigger("results:append",{data:c,query:b})})}),this.on("keypress",function(b){var c=b.which;a.isOpen()?c===d.ESC||c===d.TAB||c===d.UP&&b.altKey?(a.close(),b.preventDefault()):c===d.ENTER?(a.trigger("results:select",{}),b.preventDefault()):c===d.SPACE&&b.ctrlKey?(a.trigger("results:toggle",{}),b.preventDefault()):c===d.UP?(a.trigger("results:previous",{}),b.preventDefault()):c===d.DOWN&&(a.trigger("results:next",{}),b.preventDefault()):(c===d.ENTER||c===d.SPACE||c===d.DOWN&&b.altKey)&&(a.open(),b.preventDefault())})},e.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled")),this.options.get("disabled")?(this.isOpen()&&this.close(),this.trigger("disable",{})):this.trigger("enable",{})},e.prototype.trigger=function(a,b){var c=e.__super__.trigger,d={open:"opening",close:"closing",select:"selecting",unselect:"unselecting"};if(void 0===b&&(b={}),a in d){var f=d[a],g={prevented:!1,name:a,args:b};if(c.call(this,f,g),g.prevented)return b.prevented=!0,void 0}c.call(this,a,b)},e.prototype.toggleDropdown=function(){this.options.get("disabled")||(this.isOpen()?this.close():this.open())},e.prototype.open=function(){this.isOpen()||this.trigger("query",{})},e.prototype.close=function(){this.isOpen()&&this.trigger("close",{})},e.prototype.isOpen=function(){return this.$container.hasClass("select2-container--open")},e.prototype.hasFocus=function(){return this.$container.hasClass("select2-container--focus")},e.prototype.focus=function(){this.hasFocus()||(this.$container.addClass("select2-container--focus"),this.trigger("focus",{}))},e.prototype.enable=function(a){this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.'),(null==a||0===a.length)&&(a=[!0]);var b=!a[0];this.$element.prop("disabled",b)},e.prototype.data=function(){this.options.get("debug")&&arguments.length>0&&window.console&&console.warn&&console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.');var a=[];return this.dataAdapter.current(function(b){a=b}),a},e.prototype.val=function(b){if(this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.'),null==b||0===b.length)return this.$element.val();var c=b[0];a.isArray(c)&&(c=a.map(c,function(a){return a.toString()})),this.$element.val(c).trigger("change")},e.prototype.destroy=function(){this.$container.remove(),this.$element[0].detachEvent&&this.$element[0].detachEvent("onpropertychange",this._sync),null!=this._observer?(this._observer.disconnect(),this._observer=null):this.$element[0].removeEventListener&&this.$element[0].removeEventListener("DOMAttrModified",this._sync,!1),this._sync=null,this.$element.off(".select2"),this.$element.attr("tabindex",this.$element.data("old-tabindex")),this.$element.removeClass("select2-hidden-accessible"),this.$element.attr("aria-hidden","false"),this.$element.removeData("select2"),this.dataAdapter.destroy(),this.selection.destroy(),this.dropdown.destroy(),this.results.destroy(),this.dataAdapter=null,this.selection=null,this.dropdown=null,this.results=null},e.prototype.render=function(){var b=a('<span class="select2 select2-container"><span class="selection"></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>');return b.attr("dir",this.options.get("dir")),this.$container=b,this.$container.addClass("select2-container--"+this.options.get("theme")),b.data("element",this.$element),b
},e}),c.define("jquery-mousewheel",["jquery"],function(a){return a}),c.define("jquery.select2",["jquery","jquery-mousewheel","./select2/core","./select2/defaults"],function(a,b,c,d){if(null==a.fn.select2){var e=["open","close","destroy"];a.fn.select2=function(b){if(b=b||{},"object"==typeof b)return this.each(function(){{var d=a.extend(!0,{},b);new c(a(this),d)}}),this;if("string"==typeof b){var d;return this.each(function(){var c=a(this).data("select2");null==c&&window.console&&console.error&&console.error("The select2('"+b+"') method was called on an element that is not using Select2.");var e=Array.prototype.slice.call(arguments,1);d=c[b].apply(c,e)}),a.inArray(b,e)>-1?this:d}throw new Error("Invalid arguments for Select2: "+b)}}return null==a.fn.select2.defaults&&(a.fn.select2.defaults=d),c}),{define:c.define,require:c.require}}(),d=c.require("jquery.select2");return b.fn.select2.amd=c,d}),b}),ed.define("eventsource",["edjquery"],function(){!function(a){"use strict";function p(){this.bitsNeeded=0,this.codePoint=0}function s(a){this.withCredentials=!1,this.readyState=0,this.status=0,this.statusText="",this.responseText="",this.onprogress=r,this.onload=r,this.onerror=r,this.onreadystatechange=r,this._contentType="",this._xhr=a,this._sendTimeout=0,this._abort=r}function t(a){return a.replace(/[A-Z]/g,function(a){return String.fromCharCode(a.charCodeAt(0)+32)})}function u(a){for(var b=Object.create(null),c=a.split("\r\n"),d=0;d<c.length;d+=1){var e=c[d],f=e.split(": "),g=f.shift(),h=f.join(": ");b[t(g)]=h}this._map=b}function v(){}function w(a){this._headers=a}function x(){}function y(){this._listeners=Object.create(null)}function z(a){b(function(){throw a},0)}function A(a){this.type=a,this.target=void 0}function B(a,b){A.call(this,a),this.data=b.data,this.lastEventId=b.lastEventId}function C(a,b){A.call(this,a),this.status=b.status,this.statusText=b.statusText,this.headers=b.headers}function D(a,b){A.call(this,a),this.error=b.error}function T(a,b){y.call(this),b=b||{},this.onopen=void 0,this.onmessage=void 0,this.onerror=void 0,this.url=void 0,this.readyState=void 0,this.withCredentials=void 0,this.headers=void 0,this._close=void 0,W(this,a,b)}function U(){return void 0!=d&&"withCredentials"in d.prototype||void 0==e?new d:new e}function W(a,d,e){d=String(d);var f=Boolean(e.withCredentials),g=R(1e3),h=Q(e.heartbeatTimeout,45e3),i="",j=g,k=!1,l=0,m=e.headers||{},n=e.Transport,o=V&&void 0==n?void 0:new s(void 0!=n?new n:U()),p=null!=n&&"string"!=typeof n?new n:void 0==o?new x:new v,q=void 0,r=0,t=E,u="",w="",y="",z="",A=J,O=0,P=0,T=function(b,c,d,e){if(t===F)if(200===b&&void 0!=d&&N.test(d)){t=G,k=Date.now(),j=g,a.readyState=G;var f=new C("open",{status:b,statusText:c,headers:e});a.dispatchEvent(f),S(a,a.onopen,f)}else{var h="";200!==b?(c&&(c=c.replace(/\s+/g," ")),h="EventSource's response has a status "+b+" "+c+" that is not 200. Aborting the connection."):h="EventSource's response has a Content-Type specifying an unsupported type: "+(void 0==d?"-":d.replace(/\s+/g," "))+". Aborting the connection.",Y();var f=new C("error",{status:b,statusText:c,headers:e});a.dispatchEvent(f),S(a,a.onerror,f),console.error(h)}},W=function(d){if(t===G){for(var e=-1,f=0;f<d.length;f+=1){var m=d.charCodeAt(f);(m==="\n".charCodeAt(0)||m==="\r".charCodeAt(0))&&(e=f)}var n=(-1!==e?z:"")+d.slice(0,e+1);z=(-1===e?z:"")+d.slice(e+1),""!==d&&(k=Date.now(),l+=d.length);for(var o=0;o<n.length;o+=1){var m=n.charCodeAt(o);if(A===I&&m==="\n".charCodeAt(0))A=J;else if(A===I&&(A=J),m==="\r".charCodeAt(0)||m==="\n".charCodeAt(0)){if(A!==J){A===K&&(P=o+1);var p=n.slice(O,P-1),q=n.slice(P+(o>P&&n.charCodeAt(P)===" ".charCodeAt(0)?1:0),o);"data"===p?(u+="\n",u+=q):"id"===p?w=q:"event"===p?y=q:"retry"===p?(g=Q(q,g),j=g):"heartbeatTimeout"===p&&(h=Q(q,h),0!==r&&(c(r),r=b(function(){Z()},h)))}if(A===J){if(""!==u){i=w,""===y&&(y="message");var s=new B(y,{data:u.slice(1),lastEventId:w});if(a.dispatchEvent(s),"open"===y?S(a,a.onopen,s):"message"===y?S(a,a.onmessage,s):"error"===y&&S(a,a.onerror,s),t===H)return}u="",y=""}A=m==="\r".charCodeAt(0)?I:J}else A===J&&(O=o,A=K),A===K?m===":".charCodeAt(0)&&(P=o+1,A=L):A===L&&(A=M)}}},X=function(d){if(t===G||t===F){t=E,0!==r&&(c(r),r=0),r=b(function(){Z()},j),j=R(Math.min(16*g,2*j)),a.readyState=F;var e=new D("error",{error:d});a.dispatchEvent(e),S(a,a.onerror,e)}},Y=function(){t=H,void 0!=q&&(q.abort(),q=void 0),0!==r&&(c(r),r=0),a.readyState=H},Z=function(){if(r=0,t===E){k=!1,l=0,r=b(function(){Z()},h),t=F,u="",y="",w=i,z="",O=0,P=0,A=J;var e=d;"data:"!==d.slice(0,5)&&"blob:"!==d.slice(0,5)&&""!==i&&(e+=(-1===d.indexOf("?")?"?":"&")+"lastEventId="+encodeURIComponent(i));var f=a.withCredentials,g={};g.Accept="text/event-stream";var j=a.headers;if(void 0!=j)for(var m in j)Object.prototype.hasOwnProperty.call(j,m)&&(g[m]=j[m]);try{q=p.open(o,T,W,X,e,f,g)}catch(n){throw Y(),n}}else if(k||void 0==q){var c=Math.max((k||Date.now())+h-Date.now(),1);k=!1,r=b(function(){Z()},c)}else X(new Error("No activity within "+h+" milliseconds. "+(t===F?"No response received.":l+" chars received.")+" Reconnecting.")),void 0!=q&&(q.abort(),q=void 0)};a.url=d,a.readyState=F,a.withCredentials=f,a.headers=m,a._close=Y,Z()}var b=a.setTimeout,c=a.clearTimeout,d=a.XMLHttpRequest,e=a.XDomainRequest,f=a.ActiveXObject,g=a.EventSource,h=a.document,i=a.Promise,j=a.fetch,k=a.Response,l=a.TextDecoder,m=a.TextEncoder,n=a.AbortController;if("undefined"==typeof window||"readyState"in h||null!=h.body||(h.readyState="loading",window.addEventListener("load",function(){h.readyState="complete"},!1)),null==d&&(d=function(){return new f("Microsoft.XMLHTTP")}),void 0==Object.create&&(Object.create=function(a){function b(){}return b.prototype=a,new b}),Date.now||(Date.now=function(){return(new Date).getTime()}),void 0==n){var o=j;j=function(a,b){var c=b.signal;return o(a,{headers:b.headers,credentials:b.credentials,cache:b.cache}).then(function(a){var b=a.body.getReader();return c._reader=b,c._aborted&&c._reader.cancel(),{status:a.status,statusText:a.statusText,headers:a.headers,body:{getReader:function(){return b}}}})},n=function(){this.signal={_reader:null,_aborted:!1},this.abort=function(){null!=this.signal._reader&&this.signal._reader.cancel(),this.signal._aborted=!0}}}p.prototype.decode=function(a){function b(a,b,c){if(1===c)return a>=128>>b&&2047>=a<<b;if(2===c)return a>=2048>>b&&55295>=a<<b||a>=57344>>b&&65535>=a<<b;if(3===c)return a>=65536>>b&&1114111>=a<<b;throw new Error}function c(a,b){if(6===a)return b>>6>15?3:b>31?2:1;if(12===a)return b>15?3:2;if(18===a)return 3;throw new Error}for(var d=65533,e="",f=this.bitsNeeded,g=this.codePoint,h=0;h<a.length;h+=1){var i=a[h];0!==f&&(128>i||i>191||!b(g<<6|63&i,f-6,c(f,g)))&&(f=0,g=d,e+=String.fromCharCode(g)),0===f?(i>=0&&127>=i?(f=0,g=i):i>=192&&223>=i?(f=6,g=31&i):i>=224&&239>=i?(f=12,g=15&i):i>=240&&247>=i?(f=18,g=7&i):(f=0,g=d),0===f||b(g,f,c(f,g))||(f=0,g=d)):(f-=6,g=g<<6|63&i),0===f&&(65535>=g?e+=String.fromCharCode(g):(e+=String.fromCharCode(55296+(g-65535-1>>10)),e+=String.fromCharCode(56320+(g-65535-1&1023))))}return this.bitsNeeded=f,this.codePoint=g,e};var q=function(){try{return"test"===(new l).decode((new m).encode("test"),{stream:!0})}catch(a){console.debug("TextDecoder does not support streaming option. Using polyfill instead: "+a)}return!1};void 0!=l&&void 0!=m&&q()||(l=p);var r=function(){};s.prototype.open=function(a,e){this._abort(!0);var f=this,g=this._xhr,h=1,i=0;this._abort=function(a){0!==f._sendTimeout&&(c(f._sendTimeout),f._sendTimeout=0),(1===h||2===h||3===h)&&(h=4,g.onload=r,g.onerror=r,g.onabort=r,g.onprogress=r,g.onreadystatechange=r,g.abort(),0!==i&&(c(i),i=0),a||(f.readyState=4,f.onabort(null),f.onreadystatechange())),h=0};var j=function(){if(1===h){var a=0,b="",c=void 0;if("contentType"in g)a=200,b="OK",c=g.contentType;else try{a=g.status,b=g.statusText,c=g.getResponseHeader("Content-Type")}catch(d){a=0,b="",c=void 0}0!==a&&(h=2,f.readyState=2,f.status=a,f.statusText=b,f._contentType=c,f.onreadystatechange())}},k=function(){if(j(),2===h||3===h){h=3;var a="";try{a=g.responseText}catch(b){}f.readyState=3,f.responseText=a,f.onprogress()}},l=function(a,b){if((null==b||null==b.preventDefault)&&(b={preventDefault:r}),k(),1===h||2===h||3===h){if(h=4,0!==i&&(c(i),i=0),f.readyState=4,"load"===a)f.onload(b);else if("error"===a)f.onerror(b);else{if("abort"!==a)throw new TypeError;f.onabort(b)}f.onreadystatechange()}},m=function(a){void 0!=g&&(4===g.readyState?"onload"in g&&"onerror"in g&&"onabort"in g||l(""===g.responseText?"error":"load",a):3===g.readyState?"onprogress"in g||k():2===g.readyState&&j())},n=function(){i=b(function(){n()},500),3===g.readyState&&k()};"onload"in g&&(g.onload=function(a){l("load",a)}),"onerror"in g&&(g.onerror=function(a){l("error",a)}),"onabort"in g&&(g.onabort=function(a){l("abort",a)}),"onprogress"in g&&(g.onprogress=k),"onreadystatechange"in g&&(g.onreadystatechange=function(a){m(a)}),("contentType"in g||!("ontimeout"in d.prototype))&&(e+=(-1===e.indexOf("?")?"?":"&")+"padding=true"),g.open(a,e,!0),"readyState"in g&&(i=b(function(){n()},0))},s.prototype.abort=function(){this._abort(!1)},s.prototype.getResponseHeader=function(){return this._contentType},s.prototype.setRequestHeader=function(a,b){var c=this._xhr;"setRequestHeader"in c&&c.setRequestHeader(a,b)},s.prototype.getAllResponseHeaders=function(){return void 0!=this._xhr.getAllResponseHeaders?this._xhr.getAllResponseHeaders()||"":""},s.prototype.send=function(){if(!("ontimeout"in d.prototype&&("sendAsBinary"in d.prototype||"mozAnon"in d.prototype)||void 0==h||void 0==h.readyState||"complete"===h.readyState)){var a=this;return a._sendTimeout=b(function(){a._sendTimeout=0,a.send()},4),void 0}var c=this._xhr;"withCredentials"in c&&(c.withCredentials=this.withCredentials);try{c.send(void 0)}catch(e){throw e}},u.prototype.get=function(a){return this._map[t(a)]},null!=d&&null==d.HEADERS_RECEIVED&&(d.HEADERS_RECEIVED=2),v.prototype.open=function(a,b,c,e,f,g,h){a.open("GET",f);var i=0;a.onprogress=function(){var b=a.responseText,d=b.slice(i);i+=d.length,c(d)},a.onerror=function(a){a.preventDefault(),e(new Error("NetworkError"))},a.onload=function(){e(null)},a.onabort=function(){e(null)},a.onreadystatechange=function(){if(a.readyState===d.HEADERS_RECEIVED){var c=a.status,e=a.statusText,f=a.getResponseHeader("Content-Type"),g=a.getAllResponseHeaders();b(c,e,f,new u(g))}},a.withCredentials=g;for(var j in h)Object.prototype.hasOwnProperty.call(h,j)&&a.setRequestHeader(j,h[j]);return a.send(),a},w.prototype.get=function(a){return this._headers.get(a)},x.prototype.open=function(a,b,c,d,e,f,g){var h=null,k=new n,m=k.signal,o=new l;return j(e,{headers:g,credentials:f?"include":"same-origin",signal:m,cache:"no-store"}).then(function(a){return h=a.body.getReader(),b(a.status,a.statusText,a.headers.get("Content-Type"),new w(a.headers)),new i(function(a,b){var d=function(){h.read().then(function(b){if(b.done)a(void 0);else{var e=o.decode(b.value,{stream:!0});c(e),d()}})["catch"](function(a){b(a)})};d()})})["catch"](function(a){return"AbortError"===a.name?void 0:a}).then(function(a){d(a)}),{abort:function(){null!=h&&h.cancel(),k.abort()}}},y.prototype.dispatchEvent=function(a){a.target=this;var b=this._listeners[a.type];if(void 0!=b)for(var c=b.length,d=0;c>d;d+=1){var e=b[d];try{"function"==typeof e.handleEvent?e.handleEvent(a):e.call(this,a)}catch(f){z(f)}}},y.prototype.addEventListener=function(a,b){a=String(a);var c=this._listeners,d=c[a];void 0==d&&(d=[],c[a]=d);for(var e=!1,f=0;f<d.length;f+=1)d[f]===b&&(e=!0);e||d.push(b)},y.prototype.removeEventListener=function(a,b){a=String(a);var c=this._listeners,d=c[a];if(void 0!=d){for(var e=[],f=0;f<d.length;f+=1)d[f]!==b&&e.push(d[f]);0===e.length?delete c[a]:c[a]=e}},B.prototype=Object.create(A.prototype),C.prototype=Object.create(A.prototype),D.prototype=Object.create(A.prototype);var E=-1,F=0,G=1,H=2,I=-1,J=0,K=1,L=2,M=3,N=/^text\/event\-stream(;.*)?$/i,O=1e3,P=18e6,Q=function(a,b){var c=null==a?b:parseInt(a,10);return c!==c&&(c=b),R(c)},R=function(a){return Math.min(Math.max(a,O),P)},S=function(a,b,c){try{"function"==typeof b&&b.call(a,c)}catch(d){z(d)}},V=void 0!=j&&void 0!=k&&"body"in k.prototype;T.prototype=Object.create(y.prototype),T.prototype.CONNECTING=F,T.prototype.OPEN=G,T.prototype.CLOSED=H,T.prototype.close=function(){this._close()},T.CONNECTING=F,T.OPEN=G,T.CLOSED=H,T.prototype.withCredentials=void 0;var X=g;void 0==d||void 0!=g&&"withCredentials"in g.prototype||(X=T),function(b){if("object"==typeof module&&"object"==typeof module.exports){var c=b(exports);void 0!==c&&(module.exports=c)}else"function"==typeof define&&define.amd?define(["exports"],b):b(a)}(function(a){a.EventSourcePolyfill=T,a.NativeEventSource=g,a.EventSource=X})}("undefined"!=typeof window?window:"undefined"!=typeof self?self:this)}),ed.define("site/vendors/gmaps",["edjquery"],function(a){"use strict";var b=function(a,b){var c;if(a===b)return a;for(c in b)void 0!==b[c]&&(a[c]=b[c]);return a},d=function(a,b){var f,c=Array.prototype.slice.call(arguments,2),d=[],e=a.length;if(Array.prototype.map&&a.map===Array.prototype.map)d=Array.prototype.map.call(a,function(a){var d=c.slice(0);return d.splice(0,0,a),b.apply(this,d)});else for(f=0;e>f;f++)callback_params=c,callback_params.splice(0,0,a[f]),d.push(b.apply(this,callback_params));return d},f=function(a){var c,b=[];for(c=0;c<a.length;c++)b=b.concat(a[c]);return b},g=function(a,b){var c=a[0],d=a[1];return b&&(c=a[1],d=a[0]),new google.maps.LatLng(c,d)},h=function(a,b){var c;for(c=0;c<a.length;c++)a[c]instanceof google.maps.LatLng||(a[c]=a[c].length>0&&"object"==typeof a[c][0]?h(a[c],b):g(a[c],b));return a},i=function(b,c){var d,e=b.replace(".","");return d="jQuery"in this&&c?a("."+e,c)[0]:document.getElementsByClassName(e)[0]},j=function(b,c){var d,b=b.replace("#","");return d="jQuery"in window&&c?a("#"+b,c)[0]:document.getElementById(b)},k=function(a){var b=0,c=0;if(a.offsetParent)do b+=a.offsetLeft,c+=a.offsetTop;while(a=a.offsetParent);return[b,c]},l=function(){var c=document,d=function(a){if("object"!=typeof window.google||!window.google.maps)return"object"==typeof window.console&&window.console.error&&console.error("Google Maps API is required. Please register the following JavaScript library https://maps.googleapis.com/maps/api/js."),function(){};if(!this)return new d(a);a.zoom=a.zoom||15,a.mapType=a.mapType||"roadmap";var g,e=function(a,b){return void 0===a?b:a},f=this,h=["bounds_changed","center_changed","click","dblclick","drag","dragend","dragstart","idle","maptypeid_changed","projection_changed","resize","tilesloaded","zoom_changed"],l=["mousemove","mouseout","mouseover"],m=["el","lat","lng","mapType","width","height","markerClusterer","enableNewStyle"],n=a.el||a.div,o=a.markerClusterer,p=google.maps.MapTypeId[a.mapType.toUpperCase()],q=new google.maps.LatLng(a.lat,a.lng),r=e(a.zoomControl,!0),s=a.zoomControlOpt||{style:"DEFAULT",position:"TOP_LEFT"},t=s.style||"DEFAULT",u=s.position||"TOP_LEFT",v=e(a.panControl,!0),w=e(a.mapTypeControl,!0),x=e(a.scaleControl,!0),y=e(a.streetViewControl,!0),z=e(z,!0),A={},B={zoom:this.zoom,center:q,mapTypeId:p},C={panControl:v,zoomControl:r,zoomControlOptions:{style:google.maps.ZoomControlStyle[t],position:google.maps.ControlPosition[u]},mapTypeControl:w,scaleControl:x,streetViewControl:y,overviewMapControl:z};if(this.el="string"==typeof a.el||"string"==typeof a.div?n.indexOf("#")>-1?j(n,a.context):i.apply(this,[n,a.context]):n,"undefined"==typeof this.el||null===this.el)throw"No element defined.";for(window.context_menu=window.context_menu||{},window.context_menu[f.el.id]={},this.controls=[],this.overlays=[],this.layers=[],this.singleLayers={},this.markers=[],this.polylines=[],this.routes=[],this.polygons=[],this.infoWindow=null,this.overlay_el=null,this.zoom=a.zoom,this.registered_events={},this.el.style.width=a.width||this.el.scrollWidth||this.el.offsetWidth,this.el.style.height=a.height||this.el.scrollHeight||this.el.offsetHeight,google.maps.visualRefresh=a.enableNewStyle,g=0;g<m.length;g++)delete a[m[g]];for(1!=a.disableDefaultUI&&(B=b(B,C)),A=b(B,a),g=0;g<h.length;g++)delete A[h[g]];for(g=0;g<l.length;g++)delete A[l[g]];this.map=new google.maps.Map(this.el,A),o&&(this.markerClusterer=o.apply(this,[this.map]));var D=function(a,b){var c="",d=window.context_menu[f.el.id][a];for(var e in d)if(d.hasOwnProperty(e)){var g=d[e];c+='<li><a id="'+a+"_"+e+'" href="#">'+g.title+"</a></li>"}if(j("gmaps_context_menu")){var h=j("gmaps_context_menu");h.innerHTML=c;var e,i=h.getElementsByTagName("a"),l=i.length;for(e=0;l>e;e++){var m=i[e],n=function(c){c.preventDefault(),d[this.id.replace(a+"_","")].action.apply(f,[b]),f.hideContextMenu()};google.maps.event.clearListeners(m,"click"),google.maps.event.addDomListenerOnce(m,"click",n,!1)}var o=k.apply(this,[f.el]),p=o[0]+b.pixel.x-15,q=o[1]+b.pixel.y-15;h.style.left=p+"px",h.style.top=q+"px"}};this.buildContextMenu=function(a,b){if("marker"===a){b.pixel={};var c=new google.maps.OverlayView;c.setMap(f.map),c.draw=function(){var d=c.getProjection(),e=b.marker.getPosition();b.pixel=d.fromLatLngToContainerPixel(e),D(a,b)}}else D(a,b);var d=j("gmaps_context_menu");setTimeout(function(){d.style.display="block"},0)},this.setContextMenu=function(a){window.context_menu[f.el.id][a.control]={};var b,d=c.createElement("ul");for(b in a.options)if(a.options.hasOwnProperty(b)){var e=a.options[b];window.context_menu[f.el.id][a.control][e.name]={title:e.title,action:e.action}}d.id="gmaps_context_menu",d.style.display="none",d.style.position="absolute",d.style.minWidth="100px",d.style.background="white",d.style.listStyle="none",d.style.padding="8px",d.style.boxShadow="2px 2px 6px #ccc",j("gmaps_context_menu")||c.body.appendChild(d);var g=j("gmaps_context_menu");google.maps.event.addDomListener(g,"mouseout",function(a){a.relatedTarget&&this.contains(a.relatedTarget)||window.setTimeout(function(){g.style.display="none"},400)},!1)},this.hideContextMenu=function(){var a=j("gmaps_context_menu");a&&(a.style.display="none")};var E=function(b,c){google.maps.event.addListener(b,c,function(b){void 0==b&&(b=this),a[c].apply(this,[b]),f.hideContextMenu()})};google.maps.event.addListener(this.map,"zoom_changed",this.hideContextMenu);for(var F=0;F<h.length;F++){var G=h[F];G in a&&E(this.map,G)}for(var F=0;F<l.length;F++){var G=l[F];G in a&&E(this.map,G)}google.maps.event.addListener(this.map,"rightclick",function(b){a.rightclick&&a.rightclick.apply(this,[b]),void 0!=window.context_menu[f.el.id].map&&f.buildContextMenu("map",b)}),this.refresh=function(){google.maps.event.trigger(this.map,"resize")},this.fitZoom=function(){var c,a=[],b=this.markers.length;for(c=0;b>c;c++)"boolean"==typeof this.markers[c].visible&&this.markers[c].visible&&a.push(this.markers[c].getPosition());this.fitLatLngBounds(a)},this.fitLatLngBounds=function(a){var d,b=a.length,c=new google.maps.LatLngBounds;for(d=0;b>d;d++)c.extend(a[d]);this.map.fitBounds(c)},this.setCenter=function(a,b,c){this.map.panTo(new google.maps.LatLng(a,b)),c&&c()},this.getElement=function(){return this.el},this.zoomIn=function(a){a=a||1,this.zoom=this.map.getZoom()+a,this.map.setZoom(this.zoom)},this.zoomOut=function(a){a=a||1,this.zoom=this.map.getZoom()-a,this.map.setZoom(this.zoom)};var I,H=[];for(I in this.map)"function"!=typeof this.map[I]||this[I]||H.push(I);for(g=0;g<H.length;g++)!function(a,b,c){a[c]=function(){return b[c].apply(b,arguments)}}(this,this.map,H[g])};return d}(this);l.prototype.createControl=function(a){var b=document.createElement("div");b.style.cursor="pointer",a.disableDefaultStyles!==!0&&(b.style.fontFamily="Roboto, Arial, sans-serif",b.style.fontSize="11px",b.style.boxShadow="rgba(0, 0, 0, 0.298039) 0px 1px 4px -1px");for(var c in a.style)b.style[c]=a.style[c];a.id&&(b.id=a.id),a.title&&(b.title=a.title),a.classes&&(b.className=a.classes),a.content&&("string"==typeof a.content?b.innerHTML=a.content:a.content instanceof HTMLElement&&b.appendChild(a.content)),a.position&&(b.position=google.maps.ControlPosition[a.position.toUpperCase()]);for(var d in a.events)!function(b,c){google.maps.event.addDomListener(b,c,function(){a.events[c].apply(this,[this])})}(b,d);return b.index=1,b},l.prototype.addControl=function(a){var b=this.createControl(a);return this.controls.push(b),this.map.controls[b.position].push(b),b},l.prototype.removeControl=function(a){var c,b=null;for(c=0;c<this.controls.length;c++)this.controls[c]==a&&(b=this.controls[c].position,this.controls.splice(c,1));if(b)for(c=0;c<this.map.controls.length;c++){var d=this.map.controls[a.position];if(d.getAt(c)==a){d.removeAt(c);break}}return a},l.prototype.createMarker=function(a){if(void 0==a.lat&&void 0==a.lng&&void 0==a.position)throw"No latitude or longitude defined.";var c=this,d=a.details,e=a.fences,f=a.outside,g={position:new google.maps.LatLng(a.lat,a.lng),map:null},h=b(g,a);delete h.lat,delete h.lng,delete h.fences,delete h.outside;var i=new google.maps.Marker(h);if(i.fences=e,a.infoWindow){i.infoWindow=new google.maps.InfoWindow(a.infoWindow);for(var j=["closeclick","content_changed","domready","position_changed","zindex_changed"],k=0;k<j.length;k++)!function(b,c){a.infoWindow[c]&&google.maps.event.addListener(b,c,function(b){a.infoWindow[c].apply(this,[b])})}(i.infoWindow,j[k])}for(var l=["animation_changed","clickable_changed","cursor_changed","draggable_changed","flat_changed","icon_changed","position_changed","shadow_changed","shape_changed","title_changed","visible_changed","zindex_changed"],m=["dblclick","drag","dragend","dragstart","mousedown","mouseout","mouseover","mouseup"],k=0;k<l.length;k++)!function(b,c){a[c]&&google.maps.event.addListener(b,c,function(){a[c].apply(this,[this])})}(i,l[k]);for(var k=0;k<m.length;k++)!function(b,c,d){a[d]&&google.maps.event.addListener(c,d,function(c){c.pixel||(c.pixel=b.getProjection().fromLatLngToPoint(c.latLng)),a[d].apply(this,[c])})}(this.map,i,m[k]);return google.maps.event.addListener(i,"click",function(){this.details=d,a.click&&a.click.apply(this,[this]),i.infoWindow&&(c.hideInfoWindows(),i.infoWindow.open(c.map,i))}),google.maps.event.addListener(i,"rightclick",function(b){b.marker=this,a.rightclick&&a.rightclick.apply(this,[b]),void 0!=window.context_menu[c.el.id].marker&&c.buildContextMenu("marker",b)}),i.fences&&google.maps.event.addListener(i,"dragend",function(){c.checkMarkerGeofence(i,function(a,b){f(a,b)})}),i},l.prototype.addMarker=function(a){var b;if(a.hasOwnProperty("gm_accessors_"))b=a;else{if(!(a.hasOwnProperty("lat")&&a.hasOwnProperty("lng")||a.position))throw"No latitude or longitude defined.";b=this.createMarker(a)}return b.setMap(this.map),this.markerClusterer&&this.markerClusterer.addMarker(b),this.markers.push(b),l.fire("marker_added",b,this),b},l.prototype.addMarkers=function(a){for(var c,b=0;c=a[b];b++)this.addMarker(c);return this.markers},l.prototype.hideInfoWindows=function(){for(var b,a=0;b=this.markers[a];a++)b.infoWindow&&b.infoWindow.close()},l.prototype.removeMarker=function(a){for(var b=0;b<this.markers.length;b++)if(this.markers[b]===a){this.markers[b].setMap(null),this.markers.splice(b,1),this.markerClusterer&&this.markerClusterer.removeMarker(a),l.fire("marker_removed",a,this);break}return a},l.prototype.removeMarkers=function(a){var b=[];if("undefined"==typeof a){for(var c=0;c<this.markers.length;c++){var d=this.markers[c];d.setMap(null),this.markerClusterer&&this.markerClusterer.removeMarker(d),l.fire("marker_removed",d,this)}this.markers=b}else{for(var c=0;c<a.length;c++){var e=this.markers.indexOf(a[c]);if(e>-1){var d=this.markers[e];d.setMap(null),this.markerClusterer&&this.markerClusterer.removeMarker(d),l.fire("marker_removed",d,this)}}for(var c=0;c<this.markers.length;c++){var d=this.markers[c];null!=d.getMap()&&b.push(d)}this.markers=b}},l.prototype.drawOverlay=function(a){var b=new google.maps.OverlayView,c=!0;return b.setMap(this.map),null!=a.auto_show&&(c=a.auto_show),b.onAdd=function(){var c=document.createElement("div");c.style.borderStyle="none",c.style.borderWidth="0px",c.style.position="absolute",c.style.zIndex=100,c.innerHTML=a.content,b.el=c,a.layer||(a.layer="overlayLayer");var d=this.getPanes(),e=d[a.layer],f=["contextmenu","DOMMouseScroll","dblclick","mousedown"];e.appendChild(c);for(var g=0;g<f.length;g++)!function(a,b){google.maps.event.addDomListener(a,b,function(a){-1!=navigator.userAgent.toLowerCase().indexOf("msie")&&document.all?(a.cancelBubble=!0,a.returnValue=!1):a.stopPropagation()})}(c,f[g]);a.click&&(d.overlayMouseTarget.appendChild(b.el),google.maps.event.addDomListener(b.el,"click",function(){a.click.apply(b,[b])})),google.maps.event.trigger(this,"ready")},b.draw=function(){var d=this.getProjection(),e=d.fromLatLngToDivPixel(new google.maps.LatLng(a.lat,a.lng));a.horizontalOffset=a.horizontalOffset||0,a.verticalOffset=a.verticalOffset||0;var f=b.el,g=f.children[0],h=g.clientHeight,i=g.clientWidth;switch(a.verticalAlign){case"top":f.style.top=e.y-h+a.verticalOffset+"px";break;default:case"middle":f.style.top=e.y-h/2+a.verticalOffset+"px";break;case"bottom":f.style.top=e.y+a.verticalOffset+"px"}switch(a.horizontalAlign){case"left":f.style.left=e.x-i+a.horizontalOffset+"px";break;default:case"center":f.style.left=e.x-i/2+a.horizontalOffset+"px";break;case"right":f.style.left=e.x+a.horizontalOffset+"px"}f.style.display=c?"block":"none",c||a.show.apply(this,[f])},b.onRemove=function(){var c=b.el;a.remove?a.remove.apply(this,[c]):(b.el.parentNode.removeChild(b.el),b.el=null)},this.overlays.push(b),b},l.prototype.removeOverlay=function(a){for(var b=0;b<this.overlays.length;b++)if(this.overlays[b]===a){this.overlays[b].setMap(null),this.overlays.splice(b,1);break}},l.prototype.removeOverlays=function(){for(var b,a=0;b=this.overlays[a];a++)b.setMap(null);this.overlays=[]},l.prototype.drawPolyline=function(a){var b=[],c=a.path;if(c.length)if(void 0===c[0][0])b=c;else for(var e,d=0;e=c[d];d++)b.push(new google.maps.LatLng(e[0],e[1]));var f={map:this.map,path:b,strokeColor:a.strokeColor,strokeOpacity:a.strokeOpacity,strokeWeight:a.strokeWeight,geodesic:a.geodesic,clickable:!0,editable:!1,visible:!0};a.hasOwnProperty("clickable")&&(f.clickable=a.clickable),a.hasOwnProperty("editable")&&(f.editable=a.editable),a.hasOwnProperty("icons")&&(f.icons=a.icons),a.hasOwnProperty("zIndex")&&(f.zIndex=a.zIndex);for(var g=new google.maps.Polyline(f),h=["click","dblclick","mousedown","mousemove","mouseout","mouseover","mouseup","rightclick"],i=0;i<h.length;i++)!function(b,c){a[c]&&google.maps.event.addListener(b,c,function(b){a[c].apply(this,[b])})}(g,h[i]);return this.polylines.push(g),l.fire("polyline_added",g,this),g},l.prototype.removePolyline=function(a){for(var b=0;b<this.polylines.length;b++)if(this.polylines[b]===a){this.polylines[b].setMap(null),this.polylines.splice(b,1),l.fire("polyline_removed",a,this);break}},l.prototype.removePolylines=function(){for(var b,a=0;b=this.polylines[a];a++)b.setMap(null);this.polylines=[]},l.prototype.drawCircle=function(a){a=b({map:this.map,center:new google.maps.LatLng(a.lat,a.lng)},a),delete a.lat,delete a.lng;for(var c=new google.maps.Circle(a),d=["click","dblclick","mousedown","mousemove","mouseout","mouseover","mouseup","rightclick"],e=0;e<d.length;e++)!function(b,c){a[c]&&google.maps.event.addListener(b,c,function(b){a[c].apply(this,[b])})}(c,d[e]);return this.polygons.push(c),c},l.prototype.drawRectangle=function(a){a=b({map:this.map},a);var c=new google.maps.LatLngBounds(new google.maps.LatLng(a.bounds[0][0],a.bounds[0][1]),new google.maps.LatLng(a.bounds[1][0],a.bounds[1][1]));a.bounds=c;for(var d=new google.maps.Rectangle(a),e=["click","dblclick","mousedown","mousemove","mouseout","mouseover","mouseup","rightclick"],f=0;f<e.length;f++)!function(b,c){a[c]&&google.maps.event.addListener(b,c,function(b){a[c].apply(this,[b])})}(d,e[f]);return this.polygons.push(d),d},l.prototype.drawPolygon=function(a){var c=!1;a.hasOwnProperty("useGeoJSON")&&(c=a.useGeoJSON),delete a.useGeoJSON,a=b({map:this.map},a),0==c&&(a.paths=[a.paths.slice(0)]),a.paths.length>0&&a.paths[0].length>0&&(a.paths=f(d(a.paths,h,c)));for(var e=new google.maps.Polygon(a),g=["click","dblclick","mousedown","mousemove","mouseout","mouseover","mouseup","rightclick"],i=0;i<g.length;i++)!function(b,c){a[c]&&google.maps.event.addListener(b,c,function(b){a[c].apply(this,[b])})}(e,g[i]);return this.polygons.push(e),l.fire("polygon_added",e,this),e},l.prototype.removePolygon=function(a){for(var b=0;b<this.polygons.length;b++)if(this.polygons[b]===a){this.polygons[b].setMap(null),this.polygons.splice(b,1),l.fire("polygon_removed",a,this);break}},l.prototype.removePolygons=function(){for(var b,a=0;b=this.polygons[a];a++)b.setMap(null);this.polygons=[]},l.prototype.getFromFusionTables=function(a){var b=a.events;delete a.events;var c=a,d=new google.maps.FusionTablesLayer(c);for(var e in b)!function(a,c){google.maps.event.addListener(a,c,function(a){b[c].apply(this,[a])})}(d,e);return this.layers.push(d),d},l.prototype.loadFromFusionTables=function(a){var b=this.getFromFusionTables(a);return b.setMap(this.map),b},l.prototype.getFromKML=function(a){var b=a.url,c=a.events;delete a.url,delete a.events;var d=a,e=new google.maps.KmlLayer(b,d);for(var f in c)!function(a,b){google.maps.event.addListener(a,b,function(a){c[b].apply(this,[a])})}(e,f);return this.layers.push(e),e},l.prototype.loadFromKML=function(a){var b=this.getFromKML(a);return b.setMap(this.map),b},l.prototype.addLayer=function(a,b){b=b||{};var c;switch(a){case"weather":this.singleLayers.weather=c=new google.maps.weather.WeatherLayer;break;case"clouds":this.singleLayers.clouds=c=new google.maps.weather.CloudLayer;break;case"traffic":this.singleLayers.traffic=c=new google.maps.TrafficLayer;break;case"transit":this.singleLayers.transit=c=new google.maps.TransitLayer;break;case"bicycling":this.singleLayers.bicycling=c=new google.maps.BicyclingLayer;break;case"panoramio":this.singleLayers.panoramio=c=new google.maps.panoramio.PanoramioLayer,c.setTag(b.filter),delete b.filter,b.click&&google.maps.event.addListener(c,"click",function(a){b.click(a),delete b.click});break;case"places":if(this.singleLayers.places=c=new google.maps.places.PlacesService(this.map),b.search||b.nearbySearch||b.radarSearch){var d={bounds:b.bounds||null,keyword:b.keyword||null,location:b.location||null,name:b.name||null,radius:b.radius||null,rankBy:b.rankBy||null,types:b.types||null};b.radarSearch&&c.radarSearch(d,b.radarSearch),b.search&&c.search(d,b.search),b.nearbySearch&&c.nearbySearch(d,b.nearbySearch)}if(b.textSearch){var e={bounds:b.bounds||null,location:b.location||null,query:b.query||null,radius:b.radius||null};c.textSearch(e,b.textSearch)}}return void 0!==c?("function"==typeof c.setOptions&&c.setOptions(b),"function"==typeof c.setMap&&c.setMap(this.map),c):void 0},l.prototype.removeLayer=function(a){if("string"==typeof a&&void 0!==this.singleLayers[a])this.singleLayers[a].setMap(null),delete this.singleLayers[a];else for(var b=0;b<this.layers.length;b++)if(this.layers[b]===a){this.layers[b].setMap(null),this.layers.splice(b,1);break}};var m,n;return l.prototype.getRoutes=function(a){switch(a.travelMode){case"bicycling":m=google.maps.TravelMode.BICYCLING;break;case"transit":m=google.maps.TravelMode.TRANSIT;break;case"driving":m=google.maps.TravelMode.DRIVING;break;default:m=google.maps.TravelMode.WALKING}n="imperial"===a.unitSystem?google.maps.UnitSystem.IMPERIAL:google.maps.UnitSystem.METRIC;var c={avoidHighways:!1,avoidTolls:!1,optimizeWaypoints:!1,waypoints:[]},d=b(c,a);d.origin=/string/.test(typeof a.origin)?a.origin:new google.maps.LatLng(a.origin[0],a.origin[1]),d.destination=/string/.test(typeof a.destination)?a.destination:new google.maps.LatLng(a.destination[0],a.destination[1]),d.travelMode=m,d.unitSystem=n,delete d.callback,delete d.error;var e=this,f=new google.maps.DirectionsService;f.route(d,function(b,c){if(c===google.maps.DirectionsStatus.OK){for(var d in b.routes)b.routes.hasOwnProperty(d)&&e.routes.push(b.routes[d]);a.callback&&a.callback(e.routes,b,c)}else a.error&&a.error(b,c)})},l.prototype.removeRoutes=function(){this.routes.length=0
},l.prototype.getElevations=function(a){a=b({locations:[],path:!1,samples:256},a),a.locations.length>0&&a.locations[0].length>0&&(a.locations=f(d([a.locations],h,!1)));var c=a.callback;delete a.callback;var e=new google.maps.ElevationService;if(a.path){var g={path:a.locations,samples:a.samples};e.getElevationAlongPath(g,function(a,b){c&&"function"==typeof c&&c(a,b)})}else delete a.path,delete a.samples,e.getElevationForLocations(a,function(a,b){c&&"function"==typeof c&&c(a,b)})},l.prototype.cleanRoute=l.prototype.removePolylines,l.prototype.renderRoute=function(a,c){var f,e="string"==typeof c.panel?document.getElementById(c.panel.replace("#","")):c.panel;c.panel=e,c=b({map:this.map},c),f=new google.maps.DirectionsRenderer(c),this.getRoutes({origin:a.origin,destination:a.destination,travelMode:a.travelMode,waypoints:a.waypoints,unitSystem:a.unitSystem,error:a.error,avoidHighways:a.avoidHighways,avoidTolls:a.avoidTolls,optimizeWaypoints:a.optimizeWaypoints,callback:function(a,b,c){c===google.maps.DirectionsStatus.OK&&f.setDirections(b)}})},l.prototype.drawRoute=function(a){var b=this;this.getRoutes({origin:a.origin,destination:a.destination,travelMode:a.travelMode,waypoints:a.waypoints,unitSystem:a.unitSystem,error:a.error,avoidHighways:a.avoidHighways,avoidTolls:a.avoidTolls,optimizeWaypoints:a.optimizeWaypoints,callback:function(c){if(c.length>0){var d={path:c[c.length-1].overview_path,strokeColor:a.strokeColor,strokeOpacity:a.strokeOpacity,strokeWeight:a.strokeWeight};a.hasOwnProperty("icons")&&(d.icons=a.icons),b.drawPolyline(d),a.callback&&a.callback(c[c.length-1])}}})},l.prototype.travelRoute=function(a){if(a.origin&&a.destination)this.getRoutes({origin:a.origin,destination:a.destination,travelMode:a.travelMode,waypoints:a.waypoints,unitSystem:a.unitSystem,error:a.error,callback:function(b){if(b.length>0&&a.start&&a.start(b[b.length-1]),b.length>0&&a.step){var c=b[b.length-1];if(c.legs.length>0)for(var f,d=c.legs[0].steps,e=0;f=d[e];e++)f.step_number=e,a.step(f,c.legs[0].steps.length-1)}b.length>0&&a.end&&a.end(b[b.length-1])}});else if(a.route&&a.route.legs.length>0)for(var d,b=a.route.legs[0].steps,c=0;d=b[c];c++)d.step_number=c,a.step(d)},l.prototype.drawSteppedRoute=function(a){var b=this;if(a.origin&&a.destination)this.getRoutes({origin:a.origin,destination:a.destination,travelMode:a.travelMode,waypoints:a.waypoints,error:a.error,callback:function(c){if(c.length>0&&a.start&&a.start(c[c.length-1]),c.length>0&&a.step){var d=c[c.length-1];if(d.legs.length>0)for(var g,e=d.legs[0].steps,f=0;g=e[f];f++){g.step_number=f;var h={path:g.path,strokeColor:a.strokeColor,strokeOpacity:a.strokeOpacity,strokeWeight:a.strokeWeight};a.hasOwnProperty("icons")&&(h.icons=a.icons),b.drawPolyline(h),a.step(g,d.legs[0].steps.length-1)}}c.length>0&&a.end&&a.end(c[c.length-1])}});else if(a.route&&a.route.legs.length>0)for(var e,c=a.route.legs[0].steps,d=0;e=c[d];d++){e.step_number=d;var f={path:e.path,strokeColor:a.strokeColor,strokeOpacity:a.strokeOpacity,strokeWeight:a.strokeWeight};a.hasOwnProperty("icons")&&(f.icons=a.icons),b.drawPolyline(f),a.step(e)}},l.Route=function(a){this.origin=a.origin,this.destination=a.destination,this.waypoints=a.waypoints,this.map=a.map,this.route=a.route,this.step_count=0,this.steps=this.route.legs[0].steps,this.steps_length=this.steps.length;var b={path:new google.maps.MVCArray,strokeColor:a.strokeColor,strokeOpacity:a.strokeOpacity,strokeWeight:a.strokeWeight};a.hasOwnProperty("icons")&&(b.icons=a.icons),this.polyline=this.map.drawPolyline(b).getPath()},l.Route.prototype.getRoute=function(a){var b=this;this.map.getRoutes({origin:this.origin,destination:this.destination,travelMode:a.travelMode,waypoints:this.waypoints||[],error:a.error,callback:function(){b.route=e[0],a.callback&&a.callback.call(b)}})},l.Route.prototype.back=function(){if(this.step_count>0){this.step_count--;var a=this.route.legs[0].steps[this.step_count].path;for(var b in a)a.hasOwnProperty(b)&&this.polyline.pop()}},l.Route.prototype.forward=function(){if(this.step_count<this.steps_length){var a=this.route.legs[0].steps[this.step_count].path;for(var b in a)a.hasOwnProperty(b)&&this.polyline.push(a[b]);this.step_count++}},l.prototype.checkGeofence=function(a,b,c){return c.containsLatLng(new google.maps.LatLng(a,b))},l.prototype.checkMarkerGeofence=function(a,b){if(a.fences)for(var d,c=0;d=a.fences[c];c++){var e=a.getPosition();this.checkGeofence(e.lat(),e.lng(),d)||b(a,d)}},l.prototype.toImage=function(a){var a=a||{},b={};if(b.size=a.size||[this.el.clientWidth,this.el.clientHeight],b.lat=this.getCenter().lat(),b.lng=this.getCenter().lng(),this.markers.length>0){b.markers=[];for(var c=0;c<this.markers.length;c++)b.markers.push({lat:this.markers[c].getPosition().lat(),lng:this.markers[c].getPosition().lng()})}if(this.polylines.length>0){var d=this.polylines[0];b.polyline={},b.polyline.path=google.maps.geometry.encoding.encodePath(d.getPath()),b.polyline.strokeColor=d.strokeColor,b.polyline.strokeOpacity=d.strokeOpacity,b.polyline.strokeWeight=d.strokeWeight}return l.staticMapURL(b)},l.staticMapURL=function(a){function t(a,b){if("#"===a[0]&&(a=a.replace("#","0x"),b)){if(b=parseFloat(b),b=Math.min(1,Math.max(b,0)),0===b)return"0x00000000";b=(255*b).toString(16),1===b.length&&(b+=b),a=a.slice(0,8)+b}return a}var c,b=[],d=("file:"===location.protocol?"http:":location.protocol)+"//maps.googleapis.com/maps/api/staticmap";a.url&&(d=a.url,delete a.url),d+="?";var e=a.markers;delete a.markers,!e&&a.marker&&(e=[a.marker],delete a.marker);var f=a.styles;delete a.styles;var g=a.polyline;if(delete a.polyline,a.center)b.push("center="+a.center),delete a.center;else if(a.address)b.push("center="+a.address),delete a.address;else if(a.lat)b.push(["center=",a.lat,",",a.lng].join("")),delete a.lat,delete a.lng;else if(a.visible){var h=encodeURI(a.visible.join("|"));b.push("visible="+h)}var i=a.size;i?(i.join&&(i=i.join("x")),delete a.size):i="630x300",b.push("size="+i),a.zoom||a.zoom===!1||(a.zoom=15);var j=a.hasOwnProperty("sensor")?!!a.sensor:!0;delete a.sensor,b.push("sensor="+j);for(var k in a)a.hasOwnProperty(k)&&b.push(k+"="+a[k]);if(e)for(var l,m,n=0;c=e[n];n++){l=[],c.size&&"normal"!==c.size?(l.push("size:"+c.size),delete c.size):c.icon&&(l.push("icon:"+encodeURI(c.icon)),delete c.icon),c.color&&(l.push("color:"+c.color.replace("#","0x")),delete c.color),c.label&&(l.push("label:"+c.label[0].toUpperCase()),delete c.label),m=c.address?c.address:c.lat+","+c.lng,delete c.address,delete c.lat,delete c.lng;for(var k in c)c.hasOwnProperty(k)&&l.push(k+":"+c[k]);l.length||0===n?(l.push(m),l=l.join("|"),b.push("markers="+encodeURI(l))):(l=b.pop()+encodeURI("|"+m),b.push(l))}if(f)for(var n=0;n<f.length;n++){var o=[];f[n].featureType&&o.push("feature:"+f[n].featureType.toLowerCase()),f[n].elementType&&o.push("element:"+f[n].elementType.toLowerCase());for(var p=0;p<f[n].stylers.length;p++)for(var q in f[n].stylers[p]){var r=f[n].stylers[p][q];("hue"==q||"color"==q)&&(r="0x"+r.substring(1)),o.push(q+":"+r)}var s=o.join("|");""!=s&&b.push("style="+s)}if(g){if(c=g,g=[],c.strokeWeight&&g.push("weight:"+parseInt(c.strokeWeight,10)),c.strokeColor){var u=t(c.strokeColor,c.strokeOpacity);g.push("color:"+u)}if(c.fillColor){var v=t(c.fillColor,c.fillOpacity);g.push("fillcolor:"+v)}var w=c.path;if(w.join)for(var x,p=0;x=w[p];p++)g.push(x.join(","));else g.push("enc:"+w);g=g.join("|"),b.push("path="+encodeURI(g))}var y=window.devicePixelRatio||1;return b.push("scale="+y),b=b.join("&"),d+b},l.prototype.addMapType=function(a,b){if(!b.hasOwnProperty("getTileUrl")||"function"!=typeof b.getTileUrl)throw"'getTileUrl' function required.";b.tileSize=b.tileSize||new google.maps.Size(256,256);var c=new google.maps.ImageMapType(b);this.map.mapTypes.set(a,c)},l.prototype.addOverlayMapType=function(a){if(!a.hasOwnProperty("getTile")||"function"!=typeof a.getTile)throw"'getTile' function required.";var b=a.index;delete a.index,this.map.overlayMapTypes.insertAt(b,a)},l.prototype.removeOverlayMapType=function(a){this.map.overlayMapTypes.removeAt(a)},l.prototype.addStyle=function(a){var b=new google.maps.StyledMapType(a.styles,{name:a.styledMapName});this.map.mapTypes.set(a.mapTypeId,b)},l.prototype.setStyle=function(a){this.map.setMapTypeId(a)},l.prototype.createPanorama=function(a){return a.hasOwnProperty("lat")&&a.hasOwnProperty("lng")||(a.lat=this.getCenter().lat(),a.lng=this.getCenter().lng()),this.panorama=l.createPanorama(a),this.map.setStreetView(this.panorama),this.panorama},l.createPanorama=function(a){var c=j(a.el,a.context);a.position=new google.maps.LatLng(a.lat,a.lng),delete a.el,delete a.context,delete a.lat,delete a.lng;for(var d=["closeclick","links_changed","pano_changed","position_changed","pov_changed","resize","visible_changed"],e=b({visible:!0},a),f=0;f<d.length;f++)delete e[d[f]];for(var g=new google.maps.StreetViewPanorama(c,e),f=0;f<d.length;f++)!function(b,c){a[c]&&google.maps.event.addListener(b,c,function(){a[c].apply(this)})}(g,d[f]);return g},l.prototype.on=function(a,b){return l.on(a,this,b)},l.prototype.off=function(a){l.off(a,this)},l.prototype.once=function(a,b){return l.once(a,this,b)},l.custom_events=["marker_added","marker_removed","polyline_added","polyline_removed","polygon_added","polygon_removed","geolocated","geolocation_failed"],l.on=function(a,b,c){if(-1==l.custom_events.indexOf(a))return b instanceof l&&(b=b.map),google.maps.event.addListener(b,a,c);var d={handler:c,eventName:a};return b.registered_events[a]=b.registered_events[a]||[],b.registered_events[a].push(d),d},l.off=function(a,b){-1==l.custom_events.indexOf(a)?(b instanceof l&&(b=b.map),google.maps.event.clearListeners(b,a)):b.registered_events[a]=[]},l.once=function(a,b,c){return-1==l.custom_events.indexOf(a)?(b instanceof l&&(b=b.map),google.maps.event.addListenerOnce(b,a,c)):void 0},l.fire=function(a,b,c){if(-1==l.custom_events.indexOf(a))google.maps.event.trigger(b,a,Array.prototype.slice.apply(arguments).slice(2));else if(a in c.registered_events)for(var d=c.registered_events[a],e=0;e<d.length;e++)!function(a,b,c){a.apply(b,[c])}(d[e].handler,c,b)},l.geolocate=function(a){var b=a.always||a.complete;navigator.geolocation?navigator.geolocation.getCurrentPosition(function(c){a.success(c),b&&b()},function(c){a.error(c),b&&b()},a.options):(a.not_supported(),b&&b())},l.geocode=function(a){this.geocoder=new google.maps.Geocoder;var b=a.callback;a.hasOwnProperty("lat")&&a.hasOwnProperty("lng")&&(a.latLng=new google.maps.LatLng(a.lat,a.lng)),delete a.lat,delete a.lng,delete a.callback,this.geocoder.geocode(a,function(a,c){b(a,c)})},"object"==typeof window.google&&window.google.maps&&(google.maps.Polygon.prototype.getBounds||(google.maps.Polygon.prototype.getBounds=function(){for(var d,b=new google.maps.LatLngBounds,c=this.getPaths(),e=0;e<c.getLength();e++){d=c.getAt(e);for(var f=0;f<d.getLength();f++)b.extend(d.getAt(f))}return b}),google.maps.Polygon.prototype.containsLatLng||(google.maps.Polygon.prototype.containsLatLng=function(a){var b=this.getBounds();if(null!==b&&!b.contains(a))return!1;for(var c=!1,d=this.getPaths().getLength(),e=0;d>e;e++)for(var f=this.getPaths().getAt(e),g=f.getLength(),h=g-1,i=0;g>i;i++){var j=f.getAt(i),k=f.getAt(h);(j.lng()<a.lng()&&k.lng()>=a.lng()||k.lng()<a.lng()&&j.lng()>=a.lng())&&j.lat()+(a.lng()-j.lng())/(k.lng()-j.lng())*(k.lat()-j.lat())<a.lat()&&(c=!c),h=i}return c}),google.maps.Circle.prototype.containsLatLng||(google.maps.Circle.prototype.containsLatLng=function(a){return google.maps.geometry?google.maps.geometry.spherical.computeDistanceBetween(this.getCenter(),a)<=this.getRadius():!0}),google.maps.LatLngBounds.prototype.containsLatLng=function(a){return this.contains(a)},google.maps.Marker.prototype.setFences=function(a){this.fences=a},google.maps.Marker.prototype.addFence=function(a){this.fences.push(a)},google.maps.Marker.prototype.getId=function(){return this.__gm_id}),Array.prototype.indexOf||(Array.prototype.indexOf=function(a){if(null==this)throw new TypeError;var b=Object(this),c=b.length>>>0;if(0===c)return-1;var d=0;if(arguments.length>1&&(d=Number(arguments[1]),d!=d?d=0:0!=d&&1/0!=d&&d!=-1/0&&(d=(d>0||-1)*Math.floor(Math.abs(d)))),d>=c)return-1;for(var e=d>=0?d:Math.max(c-Math.abs(d),0);c>e;e++)if(e in b&&b[e]===a)return e;return-1}),l}),ed.define("jquery.atwho",["edjquery","jquery.caret"],function(a){var b,c;c={DOWN:40,UP:38,ESC:27,TAB:9,ENTER:13,CTRL:17,A:65,P:80,N:78,LEFT:37,UP:38,RIGHT:39,DOWN:40,BACKSPACE:8,SPACE:32},b={beforeSave:function(a){return e.arrayToDefaultHash(a)},matcher:function(a,b,c,d){var e,f,g,h,i,j="\xc0-\xff\u0100-\u017f\u0180-\u024f";return a=a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),c&&(a="(?:^|\\s)"+a),e=decodeURI("%C3%80"),f=decodeURI("%C3%BF"),i=d?" ":"",h=new RegExp(a+"([A-Za-z"+e+"-"+f+"0-9_"+i+"'.+-"+j+"]*)$|"+a+"([^\\x00-\\xff]*)$","gi"),g=h.exec(b),g?g[2]||g[1]:null},filter:function(a,b,c){var d,e,f,g;for(d=[],e=0,g=b.length;g>e;e++)f=b[e],~new String(f[c]).toLowerCase().indexOf(a.toLowerCase())&&d.push(f);return d},remoteFilter:null,sorter:function(a,b,c){var d,e,f,g;if(!a)return b;for(d=[],e=0,g=b.length;g>e;e++)f=b[e],f.atwho_order=new String(f[c]).toLowerCase().indexOf(a.toLowerCase()),f.atwho_order>-1&&d.push(f);return d.sort(function(a,b){return a.atwho_order-b.atwho_order})},tplEval:function(a,b){var c,d,e;e=a;try{return"string"!=typeof a&&(e=a(b)),e.replace(/\$\{([^\}]*)\}/g,function(a,c){return b[c]})}catch(d){return c=d,""}},highlighter:function(a,b){var c;return b?(c=new RegExp(">\\s*(\\w*?)("+b.replace("+","\\+")+")(\\w*)\\s*<","ig"),a.replace(c,function(a,b,c,d){return"> "+b+"<strong>"+c+"</strong>"+d+" <"})):a},beforeInsert:function(a){return a},beforeReposition:function(a){return a},afterMatchFailed:function(){}};var d;d=function(){function b(b){this.currentFlag=null,this.controllers={},this.aliasMaps={},this.$inputor=a(b),this.setupRootElement(),this.listen()}return b.prototype.createContainer=function(b){var c;return null!=(c=this.$el)&&c.remove(),a(b.body).append(this.$el=a("<div class='atwho-container'></div>"))},b.prototype.setupRootElement=function(b,c){var d,e;if(null==c&&(c=!1),b)this.window=b.contentWindow,this.document=b.contentDocument||this.window.document,this.iframe=b;else{this.document=this.$inputor[0].ownerDocument,this.window=this.document.defaultView||this.document.parentWindow;try{this.iframe=this.window.frameElement}catch(e){if(d=e,this.iframe=null,a.fn.atwho.debug)throw new Error("iframe auto-discovery is failed.\nPlease use `setIframe` to set the target iframe manually.\n"+d)}}return this.createContainer((this.iframeAsRoot=c)?this.document:document)},b.prototype.controller=function(a){var b,c,d,e;if(this.aliasMaps[a])c=this.controllers[this.aliasMaps[a]];else{e=this.controllers;for(d in e)if(b=e[d],d===a){c=b;break}}return c?c:this.controllers[this.currentFlag]},b.prototype.setContextFor=function(a){return this.currentFlag=a,this},b.prototype.reg=function(a,b){var c,d;return d=(c=this.controllers)[a]||(c[a]=this.$inputor.is("[contentEditable]")?new j(this,a):new g(this,a)),b.alias&&(this.aliasMaps[b.alias]=a),d.init(b),this},b.prototype.listen=function(){return this.$inputor.on("compositionstart",function(a){return function(){var c;return null!=(c=a.controller())&&c.view.hide(),a.isComposing=!0,null}}(this)).on("compositionend",function(a){return function(){return a.isComposing=!1,null}}(this)).on("keyup.atwhoInner",function(a){return function(b){return a.onKeyup(b)}}(this)).on("keydown.atwhoInner",function(a){return function(b){return a.onKeydown(b)}}(this)).on("blur.atwhoInner",function(a){return function(b){var c;return(c=a.controller())?(c.expectedQueryCBId=null,c.view.hide(b,c.getOpt("displayTimeout"))):void 0}}(this)).on("click.atwhoInner",function(a){return function(b){return a.dispatch(b)}}(this)).on("scroll.atwhoInner",function(a){return function(){var b;return b=a.$inputor.scrollTop(),function(c){var d,e;return d=c.target.scrollTop,b!==d&&null!=(e=a.controller())&&e.view.hide(c),b=d,!0}}}(this)())},b.prototype.shutdown=function(){var a,b,c;c=this.controllers;for(a in c)b=c[a],b.destroy(),delete this.controllers[a];return this.$inputor.off(".atwhoInner"),this.$el.remove()},b.prototype.dispatch=function(a){var b,c,d,e;d=this.controllers,e=[];for(b in d)c=d[b],e.push(c.lookUp(a));return e},b.prototype.onKeyup=function(b){var d;switch(b.keyCode){case c.ESC:b.preventDefault(),null!=(d=this.controller())&&d.view.hide();break;case c.DOWN:case c.UP:case c.CTRL:case c.ENTER:a.noop();break;case c.P:case c.N:b.ctrlKey||this.dispatch(b);break;default:this.dispatch(b)}},b.prototype.onKeydown=function(b){var d,e;if(e=null!=(d=this.controller())?d.view:void 0,e&&e.visible())switch(b.keyCode){case c.ESC:b.preventDefault(),e.hide(b);break;case c.UP:b.preventDefault(),e.prev();break;case c.DOWN:b.preventDefault(),e.next();break;case c.P:if(!b.ctrlKey)return;b.preventDefault(),e.prev();break;case c.N:if(!b.ctrlKey)return;b.preventDefault(),e.next();break;case c.TAB:case c.ENTER:case c.SPACE:if(!e.visible())return;if(!this.controller().getOpt("spaceSelectsMatch")&&b.keyCode===c.SPACE)return;if(!this.controller().getOpt("tabSelectsMatch")&&b.keyCode===c.TAB)return;e.highlighted()?(b.preventDefault(),e.choose(b)):e.hide(b);break;default:a.noop()}},b}();var e,f=[].slice;e=function(){function c(b,c){this.app=b,this.at=c,this.$inputor=this.app.$inputor,this.id=this.$inputor[0].id||this.uid(),this.expectedQueryCBId=null,this.setting=null,this.query=null,this.pos=0,this.range=null,0===(this.$el=a("#atwho-ground-"+this.id,this.app.$el)).length&&this.app.$el.append(this.$el=a("<div id='atwho-ground-"+this.id+"'></div>")),this.model=new k(this),this.view=new l(this)}return c.prototype.uid=function(){return(Math.random().toString(16)+"000000000").substr(2,8)+(new Date).getTime()},c.prototype.init=function(b){return this.setting=a.extend({},this.setting||a.fn.atwho["default"],b),this.view.init(),this.model.reload(this.setting.data)},c.prototype.destroy=function(){return this.trigger("beforeDestroy"),this.model.destroy(),this.view.destroy(),this.$el.remove()},c.prototype.callDefault=function(){var c,d,e,g;g=arguments[0],c=2<=arguments.length?f.call(arguments,1):[];try{return b[g].apply(this,c)}catch(e){return d=e,a.error(d+" Or maybe At.js doesn't have function "+g)}},c.prototype.trigger=function(a,b){var c,d;return null==b&&(b=[]),b.push(this),c=this.getOpt("alias"),d=c?a+"-"+c+".atwho":a+".atwho",this.$inputor.trigger(d,b)},c.prototype.callbacks=function(a){return this.getOpt("callbacks")[a]||b[a]},c.prototype.getOpt=function(a){var c,d;try{return this.setting[a]}catch(d){return c=d,null}},c.prototype.insertContentFor=function(b){var c,d;return d=this.getOpt("insertTpl"),c=a.extend({},b.data("item-data"),{"atwho-at":this.at}),this.callbacks("tplEval").call(this,d,c,"onInsert")},c.prototype.renderView=function(a){var b;return b=this.getOpt("searchKey"),a=this.callbacks("sorter").call(this,this.query.text,a.slice(0,1001),b),this.view.render(a.slice(0,this.getOpt("limit")))},c.arrayToDefaultHash=function(b){var c,d,e,f;if(!a.isArray(b))return b;for(f=[],c=0,e=b.length;e>c;c++)d=b[c],a.isPlainObject(d)?f.push(d):f.push({name:d});return f},c.prototype.lookUp=function(a){var b,c;if(!(a&&"click"===a.type&&!this.getOpt("lookUpOnClick")||this.getOpt("suspendOnComposing")&&this.app.isComposing))return(b=this.catchQuery(a))?(this.app.setContextFor(this.at),(c=this.getOpt("delay"))?this._delayLookUp(b,c):this._lookUp(b),b):(this.expectedQueryCBId=null,b)},c.prototype._delayLookUp=function(a,b){var c,d;return c=Date.now?Date.now():(new Date).getTime(),this.previousCallTime||(this.previousCallTime=c),d=b-(c-this.previousCallTime),d>0&&b>d?(this.previousCallTime=c,this._stopDelayedCall(),this.delayedCallTimeout=setTimeout(function(b){return function(){return b.previousCallTime=0,b.delayedCallTimeout=null,b._lookUp(a)}}(this),b)):(this._stopDelayedCall(),this.previousCallTime!==c&&(this.previousCallTime=0),this._lookUp(a))},c.prototype._stopDelayedCall=function(){return this.delayedCallTimeout?(clearTimeout(this.delayedCallTimeout),this.delayedCallTimeout=null):void 0},c.prototype._generateQueryCBId=function(){return{}},c.prototype._lookUp=function(b){var c;return c=function(a,b){return a===this.expectedQueryCBId?b&&b.length>0?this.renderView(this.constructor.arrayToDefaultHash(b)):this.view.hide():void 0},this.expectedQueryCBId=this._generateQueryCBId(),this.model.query(b.text,a.proxy(c,this,this.expectedQueryCBId))},c}();var g,h=function(a,b){function d(){this.constructor=a}for(var c in b)i.call(b,c)&&(a[c]=b[c]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a},i={}.hasOwnProperty;g=function(b){function c(){return c.__super__.constructor.apply(this,arguments)}return h(c,b),c.prototype.catchQuery=function(){var a,b,c,d,e,f,g;return b=this.$inputor.val(),a=this.$inputor.caret("pos",{iframe:this.app.iframe}),g=b.slice(0,a),e=this.callbacks("matcher").call(this,this.at,g,this.getOpt("startWithSpace")),d="string"==typeof e,d&&e.length<this.getOpt("minLen",0)?void 0:(d&&e.length<=this.getOpt("maxLen",20)?(f=a-e.length,c=f+e.length,this.pos=f,e={text:e,headPos:f,endPos:c},this.trigger("matched",[this.at,e.text])):(e=null,this.view.hide()),this.query=e)},c.prototype.rect=function(){var b,c,d;if(b=this.$inputor.caret("offset",this.pos-1,{iframe:this.app.iframe}))return this.app.iframe&&!this.app.iframeAsRoot&&(c=a(this.app.iframe).offset(),b.left+=c.left,b.top+=c.top),d=this.app.document.selection?0:2,{left:b.left,top:b.top,bottom:b.top+b.height+d}},c.prototype.insert=function(a){var c,d,e,f,g;return c=this.$inputor,d=c.val(),e=d.slice(0,Math.max(this.query.headPos-this.at.length,0)),f=""===(f=this.getOpt("suffix"))?f:f||" ",a+=f,g=""+e+a+d.slice(this.query.endPos||0),c.val(g),carpos=e.length+a.length,"/label ~ "==a&&(carpos-=1),c.caret("pos",carpos,{iframe:this.app.iframe}),c.is(":focus")||c.focus(),c.change()},c}(e);var j,h=function(a,b){function d(){this.constructor=a}for(var c in b)i.call(b,c)&&(a[c]=b[c]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a},i={}.hasOwnProperty;j=function(b){function d(){return d.__super__.constructor.apply(this,arguments)}return h(d,b),d.prototype._getRange=function(){var a;return a=this.app.window.getSelection(),a.rangeCount>0?a.getRangeAt(0):void 0},d.prototype._setRange=function(b,c,d){return null==d&&(d=this._getRange()),d?(c=a(c)[0],"after"===b?(d.setEndAfter(c),d.setStartAfter(c)):(d.setEndBefore(c),d.setStartBefore(c)),d.collapse(!1),this._clearRange(d)):void 0},d.prototype._clearRange=function(a){var b;return null==a&&(a=this._getRange()),b=this.app.window.getSelection(),null==this.ctrl_a_pressed?(b.removeAllRanges(),b.addRange(a)):void 0},d.prototype._movingEvent=function(a){var b;return"click"===a.type||(b=a.which)===c.RIGHT||b===c.LEFT||b===c.UP||b===c.DOWN},d.prototype._unwrap=function(b){var c;return b=a(b).unwrap().get(0),(c=b.nextSibling)&&c.nodeValue&&(b.nodeValue+=c.nodeValue,a(c).remove()),b},d.prototype.catchQuery=function(b){var d,e,f,g,h,i,j,k,l,m,n,o;if((o=this._getRange())&&o.collapsed){if(b.which===c.ENTER)return(e=a(o.startContainer).closest(".atwho-query")).contents().unwrap(),e.is(":empty")&&e.remove(),(e=a(".atwho-query",this.app.document)).text(e.text()).contents().last().unwrap(),this._clearRange(),void 0;if(/firefox/i.test(navigator.userAgent)){if(a(o.startContainer).is(this.$inputor))return this._clearRange(),void 0;b.which===c.BACKSPACE&&o.startContainer.nodeType===document.ELEMENT_NODE&&(l=o.startOffset-1)>=0?(f=o.cloneRange(),f.setStart(o.startContainer,l),a(f.cloneContents()).contents().last().is(".atwho-inserted")&&(h=a(o.startContainer).contents().get(l),this._setRange("after",a(h).contents().last()))):b.which===c.LEFT&&o.startContainer.nodeType===document.TEXT_NODE&&(d=a(o.startContainer.previousSibling),d.is(".atwho-inserted")&&0===o.startOffset&&this._setRange("after",d.contents().last()))}if(a(o.startContainer).closest(".atwho-inserted").addClass("atwho-query").siblings().removeClass("atwho-query"),(e=a(".atwho-query",this.app.document)).length>0&&e.is(":empty")&&0===e.text().length&&e.remove(),this._movingEvent(b)||e.removeClass("atwho-inserted"),e.length>0)switch(b.which){case c.LEFT:return this._setRange("before",e.get(0),o),e.removeClass("atwho-query"),void 0;case c.RIGHT:return this._setRange("after",e.get(0).nextSibling,o),e.removeClass("atwho-query"),void 0}if(e.length>0&&(n=e.attr("data-atwho-at-query"))&&(e.empty().html(n).attr("data-atwho-at-query",null),this._setRange("after",e.get(0),o)),f=o.cloneRange(),f.setStart(o.startContainer,0),k=this.callbacks("matcher").call(this,this.at,f.toString(),this.getOpt("startWithSpace")),i="string"==typeof k,0===e.length&&i&&(g=o.startOffset-this.at.length-k.length)>=0&&(o.setStart(o.startContainer,g),e=a("<span/>",this.app.document).attr(this.getOpt("editableAtwhoQueryAttrs")).addClass("atwho-query"),o.surroundContents(e.get(0)),j=e.contents().last().get(0),/firefox/i.test(navigator.userAgent)?(o.setStart(j,j.length),o.setEnd(j,j.length),this._clearRange(o)):this._setRange("after",j,o)),!(i&&k.length<this.getOpt("minLen",0)))return i&&k.length<=this.getOpt("maxLen",20)?(m={text:k,el:e},this.trigger("matched",[this.at,m.text]),this.query=m):(this.view.hide(),this.query={el:e},e.text().indexOf(this.at)>=0&&(this._movingEvent(b)&&e.hasClass("atwho-inserted")?e.removeClass("atwho-query"):!1!==this.callbacks("afterMatchFailed").call(this,this.at,e)&&this._setRange("after",this._unwrap(e.text(e.text()).contents().first()))),null)}},d.prototype.rect=function(){var b,c,d;return d=this.query.el.offset(),this.app.iframe&&!this.app.iframeAsRoot&&(c=(b=a(this.app.iframe)).offset(),d.left+=c.left-this.$inputor.scrollLeft(),d.top+=c.top-this.$inputor.scrollTop()),d.bottom=d.top+this.query.el.height(),d},d.prototype.insert=function(a,b){var c,d,e,f;return e=""===(e=this.getOpt("suffix"))?e:e||"\xa0",c=b.data("item-data"),this.query.el.removeClass("atwho-query").addClass("atwho-inserted").html(a).attr("data-atwho-at-query",""+c["atwho-at"]+this.query.text),(d=this._getRange())&&(d.setEndAfter(this.query.el[0]),d.collapse(!1),d.insertNode(f=this.app.document.createTextNode("\u200d"+e)),this._setRange("after",f,d)),this.$inputor.is(":focus")||this.$inputor.focus(),this.$inputor.change()},d}(e);var k;k=function(){function b(a){this.context=a,this.at=this.context.at,this.storage=this.context.$inputor}return b.prototype.destroy=function(){return this.storage.data(this.at,null)},b.prototype.saved=function(){return this.fetch()>0},b.prototype.query=function(a,b){var c,d,e;return d=this.fetch(),e=this.context.getOpt("searchKey"),d=this.context.callbacks("filter").call(this.context,a,d,e)||[],c=this.context.callbacks("remoteFilter"),d.length>0||!c&&0===d.length?b(d):c.call(this.context,a,b)},b.prototype.fetch=function(){return this.storage.data(this.at)||[]},b.prototype.save=function(a){return this.storage.data(this.at,this.context.callbacks("beforeSave").call(this.context,a||[]))},b.prototype.load=function(a){return!this.saved()&&a?this._load(a):void 0},b.prototype.reload=function(a){return this._load(a)},b.prototype._load=function(b){return"string"==typeof b?a.ajax(b,{dataType:"json"}).done(function(a){return function(b){return a.save(b)}}(this)):this.save(b)},b}();var l;l=function(){function b(b){this.context=b,this.$el=a("<div class='atwho-view'><ul class='atwho-view-ul'></ul></div>"),this.$elUl=this.$el.children(),this.timeoutID=null,this.context.$el.append(this.$el),this.bindEvent()}return b.prototype.init=function(){var a,b;return b=this.context.getOpt("alias")||this.context.at.charCodeAt(0),a=this.context.getOpt("headerTpl"),a&&1===this.$el.children().length&&this.$el.prepend(a),this.$el.attr({id:"at-view-"+b})},b.prototype.destroy=function(){return this.$el.remove()},b.prototype.bindEvent=function(){var b,c,d;return b=this.$el.find("ul"),c=0,d=0,b.on("mousemove.atwho-view","li",function(){return function(e){var f;if((c!==e.clientX||d!==e.clientY)&&(c=e.clientX,d=e.clientY,f=a(e.currentTarget),!f.hasClass("cur")))return b.find(".cur").removeClass("cur"),f.addClass("cur")}}(this)).on("click.atwho-view","li",function(c){return function(d){return b.find(".cur").removeClass("cur"),a(d.currentTarget).addClass("cur"),c.choose(d),d.preventDefault()}}(this))},b.prototype.visible=function(){return this.$el.is(":visible")},b.prototype.highlighted=function(){return this.$el.find(".cur").length>0},b.prototype.choose=function(a){var b,c;return(b=this.$el.find(".cur")).length&&(c=this.context.insertContentFor(b),this.context._stopDelayedCall(),this.context.insert(this.context.callbacks("beforeInsert").call(this.context,c,b),b),this.context.trigger("inserted",[b,a]),this.hide(a)),this.context.getOpt("hideWithoutSuffix")?this.stopShowing=!0:void 0},b.prototype.reposition=function(b){var c,d,e,f;return c=this.context.app.iframeAsRoot?this.context.app.window:window,b.bottom+this.$el.height()-a(c).scrollTop()>a(c).height()&&(b.bottom=b.top-this.$el.height()),b.left>(e=a(c).width()-this.$el.width()-5)&&(b.left=e),d={left:b.left,top:b.bottom},null!=(f=this.context.callbacks("beforeReposition"))&&f.call(this.context,d),this.$el.offset(d),this.context.trigger("reposition",[d])},b.prototype.next=function(){var a,b,c,d;return a=this.$el.find(".cur").removeClass("cur"),b=a.next(),b.length||(b=this.$el.find("li:first")),b.addClass("cur"),c=b[0],d=c.offsetTop+c.offsetHeight+(c.nextSibling?c.nextSibling.offsetHeight:0),this.scrollTop(Math.max(0,d-this.$el.height()))},b.prototype.prev=function(){var a,b,c,d;return a=this.$el.find(".cur").removeClass("cur"),c=a.prev(),c.length||(c=this.$el.find("li:last")),c.addClass("cur"),d=c[0],b=d.offsetTop+d.offsetHeight+(d.nextSibling?d.nextSibling.offsetHeight:0),this.scrollTop(Math.max(0,b-this.$el.height()))},b.prototype.scrollTop=function(a){var b;return b=this.context.getOpt("scrollDuration"),b?this.$elUl.animate({scrollTop:a},b):this.$elUl.scrollTop(a)},b.prototype.show=function(){var a;return this.stopShowing?(this.stopShowing=!1,void 0):(this.visible()||(this.$el.show(),this.$el.scrollTop(0),this.context.trigger("shown")),(a=this.context.rect())?this.reposition(a):void 0)},b.prototype.hide=function(a,b){var c;if(this.visible())return isNaN(b)?(this.$el.hide(),this.context.trigger("hidden",[a])):(c=function(a){return function(){return a.hide()}}(this),clearTimeout(this.timeoutID),this.timeoutID=setTimeout(c,b))},b.prototype.render=function(b){var c,d,e,f,g,h,i;if(!(a.isArray(b)&&b.length>0))return this.hide(),void 0;for(this.$el.find("ul").empty(),d=this.$el.find("ul"),i=this.context.getOpt("displayTpl"),e=0,g=b.length;g>e;e++)f=b[e],f=a.extend({},f,{"atwho-at":this.context.at}),h=this.context.callbacks("tplEval").call(this.context,i,f,"onDisplay"),c=a(this.context.callbacks("highlighter").call(this.context,h,this.context.query.text)),c.data("item-data",f),d.append(c);return this.show(),this.context.getOpt("highlightFirst")?d.find("li:first").addClass("cur"):void 0},b}();var m;m={load:function(a,b){var c;return(c=this.controller(a))?c.model.load(b):void 0},isSelecting:function(){var a;return!!(null!=(a=this.controller())?a.view.visible():void 0)},hide:function(){var a;return null!=(a=this.controller())?a.view.hide():void 0},reposition:function(){var a;return(a=this.controller())?a.view.reposition(a.rect()):void 0},setIframe:function(a,b){return this.setupRootElement(a,b),null},run:function(){return this.dispatch()},destroy:function(){return this.shutdown(),this.$inputor.data("atwho",null)}},a.fn.atwho=function(b){var c,e;return c=arguments,e=null,this.filter('textarea, input, [contenteditable=""], [contenteditable=true]').each(function(){var f,g;return(g=(f=a(this)).data("atwho"))||f.data("atwho",g=new d(this)),"object"!=typeof b&&b?m[b]&&g?e=m[b].apply(g,Array.prototype.slice.call(c,1)):a.error("Method "+b+" does not exist on jQuery.atwho"):g.reg(b.at,b)}),null!=e?e:this},a.fn.atwho["default"]={at:void 0,alias:void 0,data:null,displayTpl:"<li>${name}</li>",insertTpl:"${atwho-at}${name}",callbacks:b,searchKey:"name",suffix:void 0,hideWithoutSuffix:!1,startWithSpace:!0,highlightFirst:!0,limit:5,maxLen:20,minLen:0,displayTimeout:300,delay:null,spaceSelectsMatch:!1,tabSelectsMatch:!0,editableAtwhoQueryAttrs:{},scrollDuration:150,suspendOnComposing:!0,lookUpOnClick:!0},a.fn.atwho.debug=!1
}),ed.define("jquery.caret",["edjquery"],function(a){"use strict";var b,c,d,e,f,g,h,i,j,k,l;k="caret",b=function(){function b(a){this.$inputor=a,this.domInputor=this.$inputor[0]}return b.prototype.setPos=function(a){var b,c,d,e;return(e=j.getSelection())&&(d=0,c=!1,(b=function(a,f){var g,i,j,k,l,m;for(l=f.childNodes,m=[],j=0,k=l.length;k>j&&(g=l[j],!c);j++)if(3===g.nodeType){if(d+g.length>=a){c=!0,i=h.createRange(),i.setStart(g,a-d),e.removeAllRanges(),e.addRange(i);break}m.push(d+=g.length)}else m.push(b(a,g));return m})(a,this.domInputor)),this.domInputor},b.prototype.getIEPosition=function(){return this.getPosition()},b.prototype.getPosition=function(){var a,b;return b=this.getOffset(),a=this.$inputor.offset(),b.left-=a.left,b.top-=a.top,b},b.prototype.getOldIEPos=function(){var a,b;return b=h.selection.createRange(),a=h.body.createTextRange(),a.moveToElementText(this.domInputor),a.setEndPoint("EndToEnd",b),a.text.length},b.prototype.getPos=function(){var a,b,c;return(c=this.range())?(a=c.cloneRange(),a.selectNodeContents(this.domInputor),a.setEnd(c.endContainer,c.endOffset),b=a.toString().length,a.detach(),b):h.selection?this.getOldIEPos():void 0},b.prototype.getOldIEOffset=function(){var a,b;return a=h.selection.createRange().duplicate(),a.moveStart("character",-1),b=a.getBoundingClientRect(),{height:b.bottom-b.top,left:b.left,top:b.top}},b.prototype.getOffset=function(){var c,d,e,f,g;return j.getSelection&&(e=this.range())?(e.endOffset-1>0&&e.endContainer===!this.domInputor&&(c=e.cloneRange(),c.setStart(e.endContainer,e.endOffset-1),c.setEnd(e.endContainer,e.endOffset),f=c.getBoundingClientRect(),d={height:f.height,left:f.left+f.width,top:f.top},c.detach()),d&&0!==(null!=d?d.height:void 0)||(c=e.cloneRange(),g=a(h.createTextNode("|")),c.insertNode(g[0]),c.selectNode(g[0]),f=c.getBoundingClientRect(),d={height:f.height,left:f.left,top:f.top},g.remove(),c.detach())):h.selection&&(d=this.getOldIEOffset()),d&&(d.top+=a(j).scrollTop(),d.left+=a(j).scrollLeft()),d},b.prototype.range=function(){var a;if(j.getSelection)return a=j.getSelection(),a.rangeCount>0?a.getRangeAt(0):null},b}(),c=function(){function b(a){this.$inputor=a,this.domInputor=this.$inputor[0]}return b.prototype.getIEPos=function(){var a,b,c,d,e,f,g;return b=this.domInputor,f=h.selection.createRange(),e=0,f&&f.parentElement()===b&&(d=b.value.replace(/\r\n/g,"\n"),c=d.length,g=b.createTextRange(),g.moveToBookmark(f.getBookmark()),a=b.createTextRange(),a.collapse(!1),e=g.compareEndPoints("StartToEnd",a)>-1?c:-g.moveStart("character",-c)),e},b.prototype.getPos=function(){return h.selection?this.getIEPos():this.domInputor.selectionStart},b.prototype.setPos=function(a){var b,c;return b=this.domInputor,h.selection?(c=b.createTextRange(),c.move("character",a),c.select()):b.setSelectionRange&&b.setSelectionRange(a,a),b},b.prototype.getIEOffset=function(a){var b,c,d,e;return c=this.domInputor.createTextRange(),a||(a=this.getPos()),c.move("character",a),d=c.boundingLeft,e=c.boundingTop,b=c.boundingHeight,{left:d,top:e,height:b}},b.prototype.getOffset=function(b){var c,d,e;return c=this.$inputor,h.selection?(d=this.getIEOffset(b),d.top+=a(j).scrollTop()+c.scrollTop(),d.left+=a(j).scrollLeft()+c.scrollLeft(),d):(d=c.offset(),e=this.getPosition(b),d={left:d.left+e.left-c.scrollLeft(),top:d.top+e.top-c.scrollTop(),height:e.height})},b.prototype.getPosition=function(a){var b,c,e,f,g,h,i;return b=this.$inputor,f=function(a){return a=a.replace(/<|>|`|"|&/g,"?").replace(/\r\n|\r|\n/g,"<br/>"),/firefox/i.test(navigator.userAgent)&&(a=a.replace(/\s/g,"&nbsp;")),a},void 0===a&&(a=this.getPos()),i=b.val().slice(0,a),e=b.val().slice(a),g="<span style='position: relative; display: inline;'>"+f(i)+"</span>",g+="<span id='caret' style='position: relative; display: inline;'>|</span>",g+="<span style='position: relative; display: inline;'>"+f(e)+"</span>",h=new d(b),c=h.create(g).rect()},b.prototype.getIEPosition=function(a){var b,c,d,e,f;return d=this.getIEOffset(a),c=this.$inputor.offset(),e=d.left-c.left,f=d.top-c.top,b=d.height,{left:e,top:f,height:b}},b}(),d=function(){function b(a){this.$inputor=a}return b.prototype.css_attr=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopStyle","borderRightStyle","borderBottomStyle","borderLeftStyle","borderTopWidth","boxSizing","fontFamily","fontSize","fontWeight","height","letterSpacing","lineHeight","marginBottom","marginLeft","marginRight","marginTop","outlineWidth","overflow","overflowX","overflowY","paddingBottom","paddingLeft","paddingRight","paddingTop","textAlign","textOverflow","textTransform","whiteSpace","wordBreak","wordWrap"],b.prototype.mirrorCss=function(){var b,c=this;return b={position:"absolute",left:-9999,top:0,zIndex:-2e4},"TEXTAREA"===this.$inputor.prop("tagName")&&this.css_attr.push("width"),a.each(this.css_attr,function(a,d){return b[d]=c.$inputor.css(d)}),b},b.prototype.create=function(b){return this.$mirror=a("<div></div>"),this.$mirror.css(this.mirrorCss()),this.$mirror.html(b),this.$inputor.after(this.$mirror),this},b.prototype.rect=function(){var a,b,c;return a=this.$mirror.find("#caret"),b=a.position(),c={left:b.left,top:b.top,height:a.height()},this.$mirror.remove(),c},b}(),e={contentEditable:function(a){return!(!a[0].contentEditable||"true"!==a[0].contentEditable)}},g={pos:function(a){return a||0===a?this.setPos(a):this.getPos()},position:function(a){return h.selection?this.getIEPosition(a):this.getPosition(a)},offset:function(a){var b;return b=this.getOffset(a)}},h=null,j=null,i=null,l=function(a){var b;return(b=null!=a?a.iframe:void 0)?(i=b,j=b.contentWindow,h=b.contentDocument||j.document):(i=void 0,j=window,h=document)},f=function(a){var b;h=a[0].ownerDocument,j=h.defaultView||h.parentWindow;try{return i=j.frameElement}catch(c){b=c}},a.fn.caret=function(d,f,h){var i;return g[d]?(a.isPlainObject(f)?(l(f),f=void 0):l(h),i=e.contentEditable(this)?new b(this):new c(this),g[d].apply(i,[f])):a.error("Method "+d+" does not exist on jQuery.caret")},a.fn.caret.EditableCaret=b,a.fn.caret.InputCaret=c,a.fn.caret.Utils=e,a.fn.caret.apis=g}),ed.define("jquery.fancybox",["edjquery"],function(a){var b=a;!function(a,b,c,d){"use strict";function q(a,b){var f,g,h,d=[],e=0;a&&a.isDefaultPrevented()||(a.preventDefault(),b=b||{},a&&a.data&&(b=n(a.data.options,b)),f=b.$target||c(a.currentTarget).trigger("blur"),h=c.fancybox.getInstance(),h&&h.$trigger&&h.$trigger.is(f)||(b.selector?d=c(b.selector):(g=f.attr("data-fancybox")||"",g?(d=a.data?a.data.items:[],d=d.length?d.filter('[data-fancybox="'+g+'"]'):c('[data-fancybox="'+g+'"]')):d=[f]),e=c(d).index(f),0>e&&(e=0),h=c.fancybox.open(d,b,e),h.$trigger=f))}if(a.console=a.console||{info:function(){}},c){if(c.fn.fancybox)return console.info("fancyBox already initialized"),void 0;var e={closeExisting:!1,loop:!1,gutter:50,keyboard:!0,preventCaptionOverlap:!0,arrows:!0,infobar:!0,smallBtn:"auto",toolbar:"auto",buttons:["zoom","slideShow","thumbs","close"],idleTime:3,protect:!1,modal:!1,image:{preload:!1},ajax:{settings:{data:{fancybox:!0}}},iframe:{tpl:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" allowfullscreen="allowfullscreen" allow="autoplay; fullscreen" src=""></iframe>',preload:!0,css:{},attr:{scrolling:"auto"}},video:{tpl:'<video class="fancybox-video" controls controlsList="nodownload" poster="{{poster}}"><source src="{{src}}" type="{{format}}" />Sorry, your browser doesn\'t support embedded videos, <a href="{{src}}">download</a> and watch with your favorite video player!</video>',format:"",autoStart:!0},defaultType:"image",animationEffect:"zoom",animationDuration:366,zoomOpacity:"auto",transitionEffect:"fade",transitionDuration:366,slideClass:"",baseClass:"",baseTpl:'<div class="fancybox-container" role="dialog" tabindex="-1"><div class="fancybox-bg"></div><div class="fancybox-inner"><div class="fancybox-infobar"><span data-fancybox-index></span>&nbsp;/&nbsp;<span data-fancybox-count></span></div><div class="fancybox-toolbar">{{buttons}}</div><div class="fancybox-navigation">{{arrows}}</div><div class="fancybox-stage"></div><div class="fancybox-caption"><div class="fancybox-caption__body"></div></div></div></div>',spinnerTpl:'<div class="fancybox-loading"></div>',errorTpl:'<div class="fancybox-error"><p>{{ERROR}}</p></div>',btnTpl:{download:'<a download data-fancybox-download class="fancybox-button fancybox-button--download" title="{{DOWNLOAD}}" href="javascript:;"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18.62 17.09V19H5.38v-1.91zm-2.97-6.96L17 11.45l-5 4.87-5-4.87 1.36-1.32 2.68 2.64V5h1.92v7.77z"/></svg></a>',zoom:'<button data-fancybox-zoom class="fancybox-button fancybox-button--zoom" title="{{ZOOM}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18.7 17.3l-3-3a5.9 5.9 0 0 0-.6-7.6 5.9 5.9 0 0 0-8.4 0 5.9 5.9 0 0 0 0 8.4 5.9 5.9 0 0 0 7.7.7l3 3a1 1 0 0 0 1.3 0c.4-.5.4-1 0-1.5zM8.1 13.8a4 4 0 0 1 0-5.7 4 4 0 0 1 5.7 0 4 4 0 0 1 0 5.7 4 4 0 0 1-5.7 0z"/></svg></button>',close:'<button data-fancybox-close class="fancybox-button fancybox-button--close" title="{{CLOSE}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 10.6L6.6 5.2 5.2 6.6l5.4 5.4-5.4 5.4 1.4 1.4 5.4-5.4 5.4 5.4 1.4-1.4-5.4-5.4 5.4-5.4-1.4-1.4-5.4 5.4z"/></svg></button>',arrowLeft:'<button data-fancybox-prev class="fancybox-button fancybox-button--arrow_left" title="{{PREV}}"><div><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M11.28 15.7l-1.34 1.37L5 12l4.94-5.07 1.34 1.38-2.68 2.72H19v1.94H8.6z"/></svg></div></button>',arrowRight:'<button data-fancybox-next class="fancybox-button fancybox-button--arrow_right" title="{{NEXT}}"><div><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M15.4 12.97l-2.68 2.72 1.34 1.38L19 12l-4.94-5.07-1.34 1.38 2.68 2.72H5v1.94z"/></svg></div></button>',smallBtn:'<button type="button" data-fancybox-close class="fancybox-button fancybox-close-small" title="{{CLOSE}}"><svg xmlns="http://www.w3.org/2000/svg" version="1" viewBox="0 0 24 24"><path d="M13 12l5-5-1-1-5 5-5-5-1 1 5 5-5 5 1 1 5-5 5 5 1-1z"/></svg></button>'},parentEl:"body",hideScrollbar:!0,autoFocus:!0,backFocus:!0,trapFocus:!0,fullScreen:{autoStart:!1},touch:{vertical:!0,momentum:!0},hash:null,media:{},slideShow:{autoStart:!1,speed:3e3},thumbs:{autoStart:!1,hideOnClose:!0,parentEl:".fancybox-container",axis:"y"},wheel:"auto",onInit:c.noop,beforeLoad:c.noop,afterLoad:c.noop,beforeShow:c.noop,afterShow:c.noop,beforeClose:c.noop,afterClose:c.noop,onActivate:c.noop,onDeactivate:c.noop,clickContent:function(a){return"image"===a.type?"zoom":!1},clickSlide:"close",clickOutside:"close",dblclickContent:!1,dblclickSlide:!1,dblclickOutside:!1,mobile:{preventCaptionOverlap:!1,idleTime:!1,clickContent:function(a){return"image"===a.type?"toggleControls":!1},clickSlide:function(a){return"image"===a.type?"toggleControls":"close"},dblclickContent:function(a){return"image"===a.type?"zoom":!1},dblclickSlide:function(a){return"image"===a.type?"zoom":!1}},lang:"en",i18n:{en:{CLOSE:"Close",NEXT:"Next",PREV:"Previous",ERROR:"The requested content cannot be loaded. <br/> Please try again later.",PLAY_START:"Start slideshow",PLAY_STOP:"Pause slideshow",FULL_SCREEN:"Full screen",THUMBS:"Thumbnails",DOWNLOAD:"Download",SHARE:"Share",ZOOM:"Zoom"},de:{CLOSE:"Schlie&szlig;en",NEXT:"Weiter",PREV:"Zur&uuml;ck",ERROR:"Die angeforderten Daten konnten nicht geladen werden. <br/> Bitte versuchen Sie es sp&auml;ter nochmal.",PLAY_START:"Diaschau starten",PLAY_STOP:"Diaschau beenden",FULL_SCREEN:"Vollbild",THUMBS:"Vorschaubilder",DOWNLOAD:"Herunterladen",SHARE:"Teilen",ZOOM:"Vergr&ouml;&szlig;ern"}}},f=c(a),g=c(b),h=0,i=function(a){return a&&a.hasOwnProperty&&a instanceof c},j=function(){return a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame||a.oRequestAnimationFrame||function(b){return a.setTimeout(b,1e3/60)}}(),k=function(){return a.cancelAnimationFrame||a.webkitCancelAnimationFrame||a.mozCancelAnimationFrame||a.oCancelAnimationFrame||function(b){a.clearTimeout(b)}}(),l=function(){var c,a=b.createElement("fakeelement"),e={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(c in e)if(a.style[c]!==d)return e[c];return"transitionend"}(),m=function(a){return a&&a.length&&a[0].offsetHeight},n=function(a,b){var d=c.extend(!0,{},a,b);return c.each(b,function(a,b){c.isArray(b)&&(d[a]=b)}),d},o=function(a){var d,e;return a&&a.ownerDocument===b?(c(".fancybox-container").css("pointer-events","none"),d={x:a.getBoundingClientRect().left+a.offsetWidth/2,y:a.getBoundingClientRect().top+a.offsetHeight/2},e=b.elementFromPoint(d.x,d.y)===a,c(".fancybox-container").css("pointer-events",""),e):!1},p=function(a,b,d){var e=this;e.opts=n({index:d},c.fancybox.defaults),c.isPlainObject(b)&&(e.opts=n(e.opts,b)),c.fancybox.isMobile&&(e.opts=n(e.opts,e.opts.mobile)),e.id=e.opts.id||++h,e.currIndex=parseInt(e.opts.index,10)||0,e.prevIndex=null,e.prevPos=null,e.currPos=0,e.firstRun=!0,e.group=[],e.slides={},e.addContent(a),e.group.length&&e.init()};c.extend(p.prototype,{init:function(){var g,h,d=this,e=d.group[d.currIndex],f=e.opts;f.closeExisting&&c.fancybox.close(!0),c("body").addClass("fancybox-active"),!c.fancybox.getInstance()&&f.hideScrollbar!==!1&&!c.fancybox.isMobile&&b.body.scrollHeight>a.innerHeight&&(c("head").append('<style id="fancybox-style-noscroll" type="text/css">.compensate-for-scrollbar{margin-right:'+(a.innerWidth-b.documentElement.clientWidth)+"px;}</style>"),c("body").addClass("compensate-for-scrollbar")),h="",c.each(f.buttons,function(a,b){h+=f.btnTpl[b]||""}),g=c(d.translate(d,f.baseTpl.replace("{{buttons}}",h).replace("{{arrows}}",f.btnTpl.arrowLeft+f.btnTpl.arrowRight))).attr("id","fancybox-container-"+d.id).addClass(f.baseClass).data("FancyBox",d).appendTo(f.parentEl),d.$refs={container:g},["bg","inner","infobar","toolbar","stage","caption","navigation"].forEach(function(a){d.$refs[a]=g.find(".fancybox-"+a)}),d.trigger("onInit"),d.activate(),d.jumpTo(d.currIndex)},translate:function(a,b){var c=a.opts.i18n[a.opts.lang]||a.opts.i18n.en;return b.replace(/\{\{(\w+)\}\}/g,function(a,b){return c[b]===d?a:c[b]})},addContent:function(a){var f,b=this,e=c.makeArray(a);c.each(e,function(a,e){var h,i,j,k,l,f={},g={};c.isPlainObject(e)?(f=e,g=e.opts||e):"object"===c.type(e)&&c(e).length?(h=c(e),g=h.data()||{},g=c.extend(!0,{},g,g.options),g.$orig=h,f.src=b.opts.src||g.src||h.attr("href"),f.type||f.src||(f.type="inline",f.src=e)):f={type:"html",src:e+""},f.opts=c.extend(!0,{},b.opts,g),c.isArray(g.buttons)&&(f.opts.buttons=g.buttons),c.fancybox.isMobile&&f.opts.mobile&&(f.opts=n(f.opts,f.opts.mobile)),i=f.type||f.opts.type,k=f.src||"",!i&&k&&((j=k.match(/\.(mp4|mov|ogv|webm)((\?|#).*)?$/i))?(i="video",f.opts.video.format||(f.opts.video.format="video/"+("ogv"===j[1]?"ogg":j[1]))):k.match(/(^data:image\/[a-z0-9+\/=]*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg|ico)((\?|#).*)?$)/i)?i="image":k.match(/\.(pdf)((\?|#).*)?$/i)?(i="iframe",f=c.extend(!0,f,{contentType:"pdf",opts:{iframe:{preload:!1}}})):"#"===k.charAt(0)&&(i="inline")),i?f.type=i:b.trigger("objectNeedsType",f),f.contentType||(f.contentType=c.inArray(f.type,["html","inline","ajax"])>-1?"html":f.type),f.index=b.group.length,"auto"==f.opts.smallBtn&&(f.opts.smallBtn=c.inArray(f.type,["html","inline","ajax"])>-1),"auto"===f.opts.toolbar&&(f.opts.toolbar=!f.opts.smallBtn),f.$thumb=f.opts.$thumb||null,f.opts.$trigger&&f.index===b.opts.index&&(f.$thumb=f.opts.$trigger.find("img:first"),f.$thumb.length&&(f.opts.$orig=f.opts.$trigger)),f.$thumb&&f.$thumb.length||!f.opts.$orig||(f.$thumb=f.opts.$orig.find("img:first")),f.$thumb&&!f.$thumb.length&&(f.$thumb=null),f.thumb=f.opts.thumb||(f.$thumb?f.$thumb[0].src:null),"function"===c.type(f.opts.caption)&&(f.opts.caption=f.opts.caption.apply(e,[b,f])),"function"===c.type(b.opts.caption)&&(f.opts.caption=b.opts.caption.apply(e,[b,f])),f.opts.caption instanceof c||(f.opts.caption=f.opts.caption===d?"":f.opts.caption+""),"ajax"===f.type&&(l=k.split(/\s+/,2),l.length>1&&(f.src=l.shift(),f.opts.filter=l.shift())),f.opts.modal&&(f.opts=c.extend(!0,f.opts,{trapFocus:!0,infobar:0,toolbar:0,smallBtn:0,keyboard:0,slideShow:0,fullScreen:0,thumbs:0,touch:0,clickContent:!1,clickSlide:!1,clickOutside:!1,dblclickContent:!1,dblclickSlide:!1,dblclickOutside:!1})),b.group.push(f)}),Object.keys(b.slides).length&&(b.updateControls(),f=b.Thumbs,f&&f.isActive&&(f.create(),f.focus()))},addEvents:function(){var b=this;b.removeEvents(),b.$refs.container.on("click.fb-close","[data-fancybox-close]",function(a){a.stopPropagation(),a.preventDefault(),b.close(a)}).on("touchstart.fb-prev click.fb-prev","[data-fancybox-prev]",function(a){a.stopPropagation(),a.preventDefault(),b.previous()}).on("touchstart.fb-next click.fb-next","[data-fancybox-next]",function(a){a.stopPropagation(),a.preventDefault(),b.next()}).on("click.fb","[data-fancybox-zoom]",function(){b[b.isScaledDown()?"scaleToActual":"scaleToFit"]()}),f.on("orientationchange.fb resize.fb",function(a){a&&a.originalEvent&&"resize"===a.originalEvent.type?(b.requestId&&k(b.requestId),b.requestId=j(function(){b.update(a)})):(b.current&&"iframe"===b.current.type&&b.$refs.stage.hide(),setTimeout(function(){b.$refs.stage.show(),b.update(a)},c.fancybox.isMobile?600:250))}),g.on("keydown.fb",function(a){var d=c.fancybox?c.fancybox.getInstance():null,e=d.current,f=a.keyCode||a.which;if(9==f)return e.opts.trapFocus&&b.focus(a),void 0;if(!(!e.opts.keyboard||a.ctrlKey||a.altKey||a.shiftKey||c(a.target).is("input,textarea,video,audio,select")))return 8===f||27===f?(a.preventDefault(),b.close(a),void 0):37===f||38===f?(a.preventDefault(),b.previous(),void 0):39===f||40===f?(a.preventDefault(),b.next(),void 0):(b.trigger("afterKeydown",a,f),void 0)}),b.group[b.currIndex].opts.idleTime&&(b.idleSecondsCounter=0,g.on("mousemove.fb-idle mouseleave.fb-idle mousedown.fb-idle touchstart.fb-idle touchmove.fb-idle scroll.fb-idle keydown.fb-idle",function(){b.idleSecondsCounter=0,b.isIdle&&b.showControls(),b.isIdle=!1}),b.idleInterval=a.setInterval(function(){b.idleSecondsCounter++,b.idleSecondsCounter>=b.group[b.currIndex].opts.idleTime&&!b.isDragging&&(b.isIdle=!0,b.idleSecondsCounter=0,b.hideControls())},1e3))},removeEvents:function(){var b=this;f.off("orientationchange.fb resize.fb"),g.off("keydown.fb .fb-idle"),this.$refs.container.off(".fb-close .fb-prev .fb-next"),b.idleInterval&&(a.clearInterval(b.idleInterval),b.idleInterval=null)},previous:function(a){return this.jumpTo(this.currPos-1,a)},next:function(a){return this.jumpTo(this.currPos+1,a)},jumpTo:function(a,b){var g,h,i,j,k,l,n,o,p,e=this,f=e.group.length;if(!(e.isDragging||e.isClosing||e.isAnimating&&e.firstRun)){if(a=parseInt(a,10),i=e.current?e.current.opts.loop:e.opts.loop,!i&&(0>a||a>=f))return!1;if(g=e.firstRun=!Object.keys(e.slides).length,k=e.current,e.prevIndex=e.currIndex,e.prevPos=e.currPos,j=e.createSlide(a),f>1&&((i||j.index<f-1)&&e.createSlide(a+1),(i||j.index>0)&&e.createSlide(a-1)),e.current=j,e.currIndex=j.index,e.currPos=j.pos,e.trigger("beforeShow",g),e.updateControls(),j.forcedDuration=d,c.isNumeric(b)?j.forcedDuration=b:b=j.opts[g?"animationDuration":"transitionDuration"],b=parseInt(b,10),h=e.isMoved(j),j.$slide.addClass("fancybox-slide--current"),g)return j.opts.animationEffect&&b&&e.$refs.container.css("transition-duration",b+"ms"),e.$refs.container.addClass("fancybox-is-open").trigger("focus"),e.loadSlide(j),e.preload("image"),void 0;l=c.fancybox.getTranslate(k.$slide),n=c.fancybox.getTranslate(e.$refs.stage),c.each(e.slides,function(a,b){c.fancybox.stop(b.$slide,!0)}),k.pos!==j.pos&&(k.isComplete=!1),k.$slide.removeClass("fancybox-slide--complete fancybox-slide--current"),h?(p=l.left-(k.pos*l.width+k.pos*k.opts.gutter),c.each(e.slides,function(a,d){d.$slide.removeClass("fancybox-animated").removeClass(function(a,b){return(b.match(/(^|\s)fancybox-fx-\S+/g)||[]).join(" ")});var f=d.pos*l.width+d.pos*d.opts.gutter;c.fancybox.setTranslate(d.$slide,{top:0,left:f-n.left+p}),d.pos!==j.pos&&d.$slide.addClass("fancybox-slide--"+(d.pos>j.pos?"next":"previous")),m(d.$slide),c.fancybox.animate(d.$slide,{top:0,left:(d.pos-j.pos)*l.width+(d.pos-j.pos)*d.opts.gutter},b,function(){d.$slide.css({transform:"",opacity:""}).removeClass("fancybox-slide--next fancybox-slide--previous"),d.pos===e.currPos&&e.complete()})})):b&&j.opts.transitionEffect&&(o="fancybox-animated fancybox-fx-"+j.opts.transitionEffect,k.$slide.addClass("fancybox-slide--"+(k.pos>j.pos?"next":"previous")),c.fancybox.animate(k.$slide,o,b,function(){k.$slide.removeClass(o).removeClass("fancybox-slide--next fancybox-slide--previous")},!1)),j.isLoaded?e.revealContent(j):e.loadSlide(j),e.preload("image")}},createSlide:function(a){var d,e,b=this;return e=a%b.group.length,e=0>e?b.group.length+e:e,!b.slides[a]&&b.group[e]&&(d=c('<div class="fancybox-slide"></div>').appendTo(b.$refs.stage),b.slides[a]=c.extend(!0,{},b.group[e],{pos:a,$slide:d,isLoaded:!1}),b.updateSlide(b.slides[a])),b.slides[a]},scaleToActual:function(a,b,e){var m,n,o,p,q,f=this,g=f.current,h=g.$content,i=c.fancybox.getTranslate(g.$slide).width,j=c.fancybox.getTranslate(g.$slide).height,k=g.width,l=g.height;f.isAnimating||f.isMoved()||!h||"image"!=g.type||!g.isLoaded||g.hasError||(f.isAnimating=!0,c.fancybox.stop(h),a=a===d?.5*i:a,b=b===d?.5*j:b,m=c.fancybox.getTranslate(h),m.top-=c.fancybox.getTranslate(g.$slide).top,m.left-=c.fancybox.getTranslate(g.$slide).left,p=k/m.width,q=l/m.height,n=.5*i-.5*k,o=.5*j-.5*l,k>i&&(n=m.left*p-(a*p-a),n>0&&(n=0),i-k>n&&(n=i-k)),l>j&&(o=m.top*q-(b*q-b),o>0&&(o=0),j-l>o&&(o=j-l)),f.updateCursor(k,l),c.fancybox.animate(h,{top:o,left:n,scaleX:p,scaleY:q},e||366,function(){f.isAnimating=!1}),f.SlideShow&&f.SlideShow.isActive&&f.SlideShow.stop())},scaleToFit:function(a){var f,b=this,d=b.current,e=d.$content;b.isAnimating||b.isMoved()||!e||"image"!=d.type||!d.isLoaded||d.hasError||(b.isAnimating=!0,c.fancybox.stop(e),f=b.getFitPos(d),b.updateCursor(f.width,f.height),c.fancybox.animate(e,{top:f.top,left:f.left,scaleX:f.width/e.width(),scaleY:f.height/e.height()},a||366,function(){b.isAnimating=!1}))},getFitPos:function(a){var h,i,j,k,b=this,d=a.$content,e=a.$slide,f=a.width||a.opts.width,g=a.height||a.opts.height,l={};return a.isLoaded&&d&&d.length?(h=c.fancybox.getTranslate(b.$refs.stage).width,i=c.fancybox.getTranslate(b.$refs.stage).height,h-=parseFloat(e.css("paddingLeft"))+parseFloat(e.css("paddingRight"))+parseFloat(d.css("marginLeft"))+parseFloat(d.css("marginRight")),i-=parseFloat(e.css("paddingTop"))+parseFloat(e.css("paddingBottom"))+parseFloat(d.css("marginTop"))+parseFloat(d.css("marginBottom")),f&&g||(f=h,g=i),j=Math.min(1,h/f,i/g),f=j*f,g=j*g,f>h-.5&&(f=h),g>i-.5&&(g=i),"image"===a.type?(l.top=Math.floor(.5*(i-g))+parseFloat(e.css("paddingTop")),l.left=Math.floor(.5*(h-f))+parseFloat(e.css("paddingLeft"))):"video"===a.contentType&&(k=a.opts.width&&a.opts.height?f/g:a.opts.ratio||16/9,g>f/k?g=f/k:f>g*k&&(f=g*k)),l.width=f,l.height=g,l):!1},update:function(a){var b=this;c.each(b.slides,function(c,d){b.updateSlide(d,a)})},updateSlide:function(a,b){var d=this,e=a&&a.$content,f=a.width||a.opts.width,g=a.height||a.opts.height,h=a.$slide;d.adjustCaption(a),e&&(f||g||"video"===a.contentType)&&!a.hasError&&(c.fancybox.stop(e),c.fancybox.setTranslate(e,d.getFitPos(a)),a.pos===d.currPos&&(d.isAnimating=!1,d.updateCursor())),d.adjustLayout(a),h.length&&(h.trigger("refresh"),a.pos===d.currPos&&d.$refs.toolbar.add(d.$refs.navigation.find(".fancybox-button--arrow_right")).toggleClass("compensate-for-scrollbar",h.get(0).scrollHeight>h.get(0).clientHeight)),d.trigger("onUpdate",a,b)},centerSlide:function(a){var b=this,e=b.current,f=e.$slide;!b.isClosing&&e&&(f.siblings().css({transform:"",opacity:""}),f.parent().children().removeClass("fancybox-slide--previous fancybox-slide--next"),c.fancybox.animate(f,{top:0,left:0,opacity:1},a===d?0:a,function(){f.css({transform:"",opacity:""}),e.isComplete||b.complete()},!1))},isMoved:function(a){var d,e,b=a||this.current;return b?(e=c.fancybox.getTranslate(this.$refs.stage),d=c.fancybox.getTranslate(b.$slide),!b.$slide.hasClass("fancybox-animated")&&(Math.abs(d.top-e.top)>.5||Math.abs(d.left-e.left)>.5)):!1},updateCursor:function(a,b){var g,h,d=this,e=d.current,f=d.$refs.container;e&&!d.isClosing&&d.Guestures&&(f.removeClass("fancybox-is-zoomable fancybox-can-zoomIn fancybox-can-zoomOut fancybox-can-swipe fancybox-can-pan"),g=d.canPan(a,b),h=g?!0:d.isZoomable(),f.toggleClass("fancybox-is-zoomable",h),c("[data-fancybox-zoom]").prop("disabled",!h),g?f.addClass("fancybox-can-pan"):h&&("zoom"===e.opts.clickContent||c.isFunction(e.opts.clickContent)&&"zoom"==e.opts.clickContent(e))?f.addClass("fancybox-can-zoomIn"):e.opts.touch&&(e.opts.touch.vertical||d.group.length>1)&&"video"!==e.contentType&&f.addClass("fancybox-can-swipe"))},isZoomable:function(){var c,a=this,b=a.current;if(b&&!a.isClosing&&"image"===b.type&&!b.hasError){if(!b.isLoaded)return!0;if(c=a.getFitPos(b),c&&(b.width>c.width||b.height>c.height))return!0}return!1},isScaledDown:function(a,b){var e=this,f=!1,g=e.current,h=g.$content;return a!==d&&b!==d?f=a<g.width&&b<g.height:h&&(f=c.fancybox.getTranslate(h),f=f.width<g.width&&f.height<g.height),f},canPan:function(a,b){var e=this,f=e.current,g=null,h=!1;return"image"===f.type&&(f.isComplete||a&&b)&&!f.hasError&&(h=e.getFitPos(f),a!==d&&b!==d?g={width:a,height:b}:f.isComplete&&(g=c.fancybox.getTranslate(f.$content)),g&&h&&(h=Math.abs(g.width-h.width)>1.5||Math.abs(g.height-h.height)>1.5)),h},loadSlide:function(a){var d,e,f,b=this;if(!a.isLoading&&!a.isLoaded){if(a.isLoading=!0,b.trigger("beforeLoad",a)===!1)return a.isLoading=!1,!1;switch(d=a.type,e=a.$slide,e.off("refresh").trigger("onReset").addClass(a.opts.slideClass),d){case"image":b.setImage(a);break;case"iframe":b.setIframe(a);break;case"html":b.setContent(a,a.src||a.content);break;case"video":b.setContent(a,a.opts.video.tpl.replace(/\{\{src\}\}/gi,a.src).replace("{{format}}",a.opts.videoFormat||a.opts.video.format||"").replace("{{poster}}",a.thumb||""));break;case"inline":c(a.src).length?b.setContent(a,c(a.src)):b.setError(a);break;case"ajax":b.showLoading(a),f=c.ajax(c.extend({},a.opts.ajax.settings,{url:a.src,success:function(c,d){"success"===d&&b.setContent(a,c)},error:function(c,d){c&&"abort"!==d&&b.setError(a)}})),e.one("onReset",function(){f.abort()});break;default:b.setError(a)}return!0}},setImage:function(a){var e,d=this;setTimeout(function(){var b=a.$image;d.isClosing||!a.isLoading||b&&b.length&&b[0].complete||a.hasError||d.showLoading(a)},50),d.checkSrcset(a),a.$content=c('<div class="fancybox-content"></div>').addClass("fancybox-is-hidden").appendTo(a.$slide.addClass("fancybox-slide--image")),a.opts.preload!==!1&&a.opts.width&&a.opts.height&&a.thumb&&(a.width=a.opts.width,a.height=a.opts.height,e=b.createElement("img"),e.onerror=function(){c(this).remove(),a.$ghost=null},e.onload=function(){d.afterLoad(a)},a.$ghost=c(e).addClass("fancybox-image").appendTo(a.$content).attr("src",a.thumb)),d.setBigImage(a)},checkSrcset:function(b){var d,e,f,g,c=b.opts.srcset||b.opts.image.srcset;if(c){f=a.devicePixelRatio||1,g=a.innerWidth*f,e=c.split(",").map(function(a){var b={};return a.trim().split(/\s+/).forEach(function(a,c){var d=parseInt(a.substring(0,a.length-1),10);return 0===c?b.url=a:(d&&(b.value=d,b.postfix=a[a.length-1]),void 0)}),b}),e.sort(function(a,b){return a.value-b.value});for(var h=0;h<e.length;h++){var i=e[h];if("w"===i.postfix&&i.value>=g||"x"===i.postfix&&i.value>=f){d=i;break}}!d&&e.length&&(d=e[e.length-1]),d&&(b.src=d.url,b.width&&b.height&&"w"==d.postfix&&(b.height=b.width/b.height*d.value,b.width=d.value),b.opts.srcset=c)}},setBigImage:function(a){var d=this,e=b.createElement("img"),g=c(e);a.$image=g.one("error",function(){d.setError(a)}).one("load",function(){var b;a.$ghost||(d.resolveImageSlideSize(a,this.naturalWidth,this.naturalHeight),d.afterLoad(a)),d.isClosing||(a.opts.srcset&&(b=a.opts.sizes,b&&"auto"!==b||(b=(a.width/a.height>1&&f.width()/f.height()>1?"100":Math.round(a.width/a.height*100))+"vw"),g.attr("sizes",b).attr("srcset",a.opts.srcset)),a.$ghost&&setTimeout(function(){a.$ghost&&!d.isClosing&&a.$ghost.hide()},Math.min(300,Math.max(1e3,a.height/1600))),d.hideLoading(a))}).addClass("fancybox-image").attr("src",a.src).appendTo(a.$content),(e.complete||"complete"==e.readyState)&&g.naturalWidth&&g.naturalHeight?g.trigger("load"):e.error&&g.trigger("error")},resolveImageSlideSize:function(a,b,c){var d=parseInt(a.opts.width,10),e=parseInt(a.opts.height,10);a.width=b,a.height=c,d>0&&(a.width=d,a.height=Math.floor(d*c/b)),e>0&&(a.width=Math.floor(e*b/c),a.height=e)},setIframe:function(a){var g,b=this,e=a.opts.iframe,f=a.$slide;a.$content=c('<div class="fancybox-content'+(e.preload?" fancybox-is-hidden":"")+'"></div>').css(e.css).appendTo(f),f.addClass("fancybox-slide--"+a.contentType),a.$iframe=g=c(e.tpl.replace(/\{rnd\}/g,(new Date).getTime())).attr(e.attr).appendTo(a.$content),e.preload?(b.showLoading(a),g.on("load.fb error.fb",function(){this.isReady=1,a.$slide.trigger("refresh"),b.afterLoad(a)}),f.on("refresh.fb",function(){var i,j,b=a.$content,c=e.css.width,h=e.css.height;if(1===g[0].isReady){try{i=g.contents(),j=i.find("body")}catch(k){}j&&j.length&&j.children().length&&(f.css("overflow","visible"),b.css({width:"100%","max-width":"100%",height:"9999px"}),c===d&&(c=Math.ceil(Math.max(j[0].clientWidth,j.outerWidth(!0)))),b.css("width",c?c:"").css("max-width",""),h===d&&(h=Math.ceil(Math.max(j[0].clientHeight,j.outerHeight(!0)))),b.css("height",h?h:""),f.css("overflow","auto")),b.removeClass("fancybox-is-hidden")}})):b.afterLoad(a),g.attr("src",a.src),f.one("onReset",function(){try{c(this).find("iframe").hide().unbind().attr("src","//about:blank")}catch(b){}c(this).off("refresh.fb").empty(),a.isLoaded=!1,a.isRevealed=!1})},setContent:function(a,b){var d=this;d.isClosing||(d.hideLoading(a),a.$content&&c.fancybox.stop(a.$content),a.$slide.empty(),i(b)&&b.parent().length?((b.hasClass("fancybox-content")||b.parent().hasClass("fancybox-content"))&&b.parents(".fancybox-slide").trigger("onReset"),a.$placeholder=c("<div>").hide().insertAfter(b),b.css("display","inline-block")):a.hasError||("string"===c.type(b)&&(b=c("<div>").append(c.trim(b)).contents()),a.opts.filter&&(b=c("<div>").html(b).find(a.opts.filter))),a.$slide.one("onReset",function(){c(this).find("video,audio").trigger("pause"),a.$placeholder&&(a.$placeholder.after(b.removeClass("fancybox-content").hide()).remove(),a.$placeholder=null),a.$smallBtn&&(a.$smallBtn.remove(),a.$smallBtn=null),a.hasError||(c(this).empty(),a.isLoaded=!1,a.isRevealed=!1)}),c(b).appendTo(a.$slide),c(b).is("video,audio")&&(c(b).addClass("fancybox-video"),c(b).wrap("<div></div>"),a.contentType="video",a.opts.width=a.opts.width||c(b).attr("width"),a.opts.height=a.opts.height||c(b).attr("height")),a.$content=a.$slide.children().filter("div,form,main,video,audio,article,.fancybox-content").first(),a.$content.siblings().hide(),a.$content.length||(a.$content=a.$slide.wrapInner("<div></div>").children().first()),a.$content.addClass("fancybox-content"),a.$slide.addClass("fancybox-slide--"+a.contentType),d.afterLoad(a))},setError:function(a){a.hasError=!0,a.$slide.trigger("onReset").removeClass("fancybox-slide--"+a.contentType).addClass("fancybox-slide--error"),a.contentType="html",this.setContent(a,this.translate(a,a.opts.errorTpl)),a.pos===this.currPos&&(this.isAnimating=!1)},showLoading:function(a){var b=this;a=a||b.current,a&&!a.$spinner&&(a.$spinner=c(b.translate(b,b.opts.spinnerTpl)).appendTo(a.$slide).hide().fadeIn("fast"))},hideLoading:function(a){var b=this;a=a||b.current,a&&a.$spinner&&(a.$spinner.stop().remove(),delete a.$spinner)},afterLoad:function(a){var b=this;b.isClosing||(a.isLoading=!1,a.isLoaded=!0,b.trigger("afterLoad",a),b.hideLoading(a),!a.opts.smallBtn||a.$smallBtn&&a.$smallBtn.length||(a.$smallBtn=c(b.translate(a,a.opts.btnTpl.smallBtn)).appendTo(a.$content)),a.opts.protect&&a.$content&&!a.hasError&&(a.$content.on("contextmenu.fb",function(a){return 2==a.button&&a.preventDefault(),!0
}),"image"===a.type&&c('<div class="fancybox-spaceball"></div>').appendTo(a.$content)),b.adjustCaption(a),b.adjustLayout(a),a.pos===b.currPos&&b.updateCursor(),b.revealContent(a))},adjustCaption:function(a){var g,b=this,c=a||b.current,d=c.opts.caption,e=c.opts.preventCaptionOverlap,f=b.$refs.caption,h=!1;f.toggleClass("fancybox-caption--separate",e),e&&d&&d.length&&(c.pos!==b.currPos?(g=f.clone().appendTo(f.parent()),g.children().eq(0).empty().html(d),h=g.outerHeight(!0),g.empty().remove()):b.$caption&&(h=b.$caption.outerHeight(!0)),c.$slide.css("padding-bottom",h||""))},adjustLayout:function(a){var d,e,f,g,b=this,c=a||b.current;c.isLoaded&&c.opts.disableLayoutFix!==!0&&(c.$content.css("margin-bottom",""),c.$content.outerHeight()>c.$slide.height()+.5&&(f=c.$slide[0].style["padding-bottom"],g=c.$slide.css("padding-bottom"),parseFloat(g)>0&&(d=c.$slide[0].scrollHeight,c.$slide.css("padding-bottom",0),Math.abs(d-c.$slide[0].scrollHeight)<1&&(e=g),c.$slide.css("padding-bottom",f))),c.$content.css("margin-bottom",e))},revealContent:function(a){var j,k,l,n,b=this,e=a.$slide,f=!1,g=!1,h=b.isMoved(a),i=a.isRevealed;return a.isRevealed=!0,j=a.opts[b.firstRun?"animationEffect":"transitionEffect"],l=a.opts[b.firstRun?"animationDuration":"transitionDuration"],l=parseInt(a.forcedDuration===d?l:a.forcedDuration,10),(h||a.pos!==b.currPos||!l)&&(j=!1),"zoom"===j&&(a.pos===b.currPos&&l&&"image"===a.type&&!a.hasError&&(g=b.getThumbPos(a))?f=b.getFitPos(a):j="fade"),"zoom"===j?(b.isAnimating=!0,f.scaleX=f.width/g.width,f.scaleY=f.height/g.height,n=a.opts.zoomOpacity,"auto"==n&&(n=Math.abs(a.width/a.height-g.width/g.height)>.1),n&&(g.opacity=.1,f.opacity=1),c.fancybox.setTranslate(a.$content.removeClass("fancybox-is-hidden"),g),m(a.$content),c.fancybox.animate(a.$content,f,l,function(){b.isAnimating=!1,b.complete()}),void 0):(b.updateSlide(a),j?(c.fancybox.stop(e),k="fancybox-slide--"+(a.pos>=b.prevPos?"next":"previous")+" fancybox-animated fancybox-fx-"+j,e.addClass(k).removeClass("fancybox-slide--current"),a.$content.removeClass("fancybox-is-hidden"),m(e),"image"!==a.type&&a.$content.hide().show(0),c.fancybox.animate(e,"fancybox-slide--current",l,function(){e.removeClass(k).css({transform:"",opacity:""}),a.pos===b.currPos&&b.complete()},!0),void 0):(a.$content.removeClass("fancybox-is-hidden"),i||!h||"image"!==a.type||a.hasError||a.$content.hide().fadeIn("fast"),a.pos===b.currPos&&b.complete(),void 0))},getThumbPos:function(a){var e,f,g,h,i,b=!1,d=a.$thumb;return d&&o(d[0])?(e=c.fancybox.getTranslate(d),f=parseFloat(d.css("border-top-width")||0),g=parseFloat(d.css("border-right-width")||0),h=parseFloat(d.css("border-bottom-width")||0),i=parseFloat(d.css("border-left-width")||0),b={top:e.top+f,left:e.left+i,width:e.width-g-i,height:e.height-f-h,scaleX:1,scaleY:1},e.width>0&&e.height>0?b:!1):!1},complete:function(){var e,a=this,b=a.current,d={};!a.isMoved()&&b.isLoaded&&(b.isComplete||(b.isComplete=!0,b.$slide.siblings().trigger("onReset"),a.preload("inline"),m(b.$slide),b.$slide.addClass("fancybox-slide--complete"),c.each(a.slides,function(b,e){e.pos>=a.currPos-1&&e.pos<=a.currPos+1?d[e.pos]=e:e&&(c.fancybox.stop(e.$slide),e.$slide.off().remove())}),a.slides=d),a.isAnimating=!1,a.updateCursor(),a.trigger("afterShow"),b.opts.video.autoStart&&b.$slide.find("video,audio").filter(":visible:first").trigger("play").one("ended",function(){Document.exitFullscreen?Document.exitFullscreen():this.webkitExitFullscreen&&this.webkitExitFullscreen(),a.next()}),b.opts.autoFocus&&"html"===b.contentType&&(e=b.$content.find("input[autofocus]:enabled:visible:first"),e.length?e.trigger("focus"):a.focus(null,!0)),b.$slide.scrollTop(0).scrollLeft(0))},preload:function(a){var c,d,b=this;b.group.length<2||(d=b.slides[b.currPos+1],c=b.slides[b.currPos-1],c&&c.type===a&&b.loadSlide(c),d&&d.type===a&&b.loadSlide(d))},focus:function(a,d){var g,h,e=this,f=["a[href]","area[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden])","iframe","object","embed","video","audio","[contenteditable]",'[tabindex]:not([tabindex^="-"])'].join(",");e.isClosing||(g=!a&&e.current&&e.current.isComplete?e.current.$slide.find("*:visible"+(d?":not(.fancybox-close-small)":"")):e.$refs.container.find("*:visible"),g=g.filter(f).filter(function(){return"hidden"!==c(this).css("visibility")&&!c(this).hasClass("disabled")}),g.length?(h=g.index(b.activeElement),a&&a.shiftKey?(0>h||0==h)&&(a.preventDefault(),g.eq(g.length-1).trigger("focus")):(0>h||h==g.length-1)&&(a&&a.preventDefault(),g.eq(0).trigger("focus"))):e.$refs.container.trigger("focus"))},activate:function(){var a=this;c(".fancybox-container").each(function(){var b=c(this).data("FancyBox");b&&b.id!==a.id&&!b.isClosing&&(b.trigger("onDeactivate"),b.removeEvents(),b.isVisible=!1)}),a.isVisible=!0,(a.current||a.isIdle)&&(a.update(),a.updateControls()),a.trigger("onActivate"),a.addEvents()},close:function(a,b){var f,g,h,i,k,l,n,d=this,e=d.current,o=function(){d.cleanUp(a)};return d.isClosing?!1:(d.isClosing=!0,d.trigger("beforeClose",a)===!1?(d.isClosing=!1,j(function(){d.update()}),!1):(d.removeEvents(),h=e.$content,f=e.opts.animationEffect,g=c.isNumeric(b)?b:f?e.opts.animationDuration:0,e.$slide.removeClass("fancybox-slide--complete fancybox-slide--next fancybox-slide--previous fancybox-animated"),a!==!0?c.fancybox.stop(e.$slide):f=!1,e.$slide.siblings().trigger("onReset").remove(),g&&d.$refs.container.removeClass("fancybox-is-open").addClass("fancybox-is-closing").css("transition-duration",g+"ms"),d.hideLoading(e),d.hideControls(!0),d.updateCursor(),"zoom"!==f||h&&g&&"image"===e.type&&!d.isMoved()&&!e.hasError&&(n=d.getThumbPos(e))||(f="fade"),"zoom"===f?(c.fancybox.stop(h),i=c.fancybox.getTranslate(h),l={top:i.top,left:i.left,scaleX:i.width/n.width,scaleY:i.height/n.height,width:n.width,height:n.height},k=e.opts.zoomOpacity,"auto"==k&&(k=Math.abs(e.width/e.height-n.width/n.height)>.1),k&&(n.opacity=0),c.fancybox.setTranslate(h,l),m(h),c.fancybox.animate(h,n,g,o),!0):(f&&g?c.fancybox.animate(e.$slide.addClass("fancybox-slide--previous").removeClass("fancybox-slide--current"),"fancybox-animated fancybox-fx-"+f,g,o):a===!0?setTimeout(o,g):o(),!0)))},cleanUp:function(b){var e,g,h,d=this,f=d.current.opts.$orig;d.current.$slide.trigger("onReset"),d.$refs.container.empty().remove(),d.trigger("afterClose",b),d.current.opts.backFocus&&(f&&f.length&&f.is(":visible")||(f=d.$trigger),f&&f.length&&(g=a.scrollX,h=a.scrollY,f.trigger("focus"),c("html, body").scrollTop(h).scrollLeft(g))),d.current=null,e=c.fancybox.getInstance(),e?e.activate():(c("body").removeClass("fancybox-active compensate-for-scrollbar"),c("#fancybox-style-noscroll").remove())},trigger:function(a,b){var h,d=Array.prototype.slice.call(arguments,1),e=this,f=b&&b.opts?b:e.current;return f?d.unshift(f):f=e,d.unshift(e),c.isFunction(f.opts[a])&&(h=f.opts[a].apply(f,d)),h===!1?h:("afterClose"!==a&&e.$refs?e.$refs.container.trigger(a+".fb",d):g.trigger(a+".fb",d),void 0)},updateControls:function(){var a=this,d=a.current,e=d.index,f=a.$refs.container,g=a.$refs.caption,h=d.opts.caption;d.$slide.trigger("refresh"),h&&h.length?(a.$caption=g,g.children().eq(0).html(h)):a.$caption=null,a.hasHiddenControls||a.isIdle||a.showControls(),f.find("[data-fancybox-count]").html(a.group.length),f.find("[data-fancybox-index]").html(e+1),f.find("[data-fancybox-prev]").prop("disabled",!d.opts.loop&&0>=e),f.find("[data-fancybox-next]").prop("disabled",!d.opts.loop&&e>=a.group.length-1),"image"===d.type?f.find("[data-fancybox-zoom]").show().end().find("[data-fancybox-download]").attr("href",d.opts.image.src||d.src).show():d.opts.toolbar&&f.find("[data-fancybox-download],[data-fancybox-zoom]").hide(),c(b.activeElement).is(":hidden,[disabled]")&&a.$refs.container.trigger("focus")},hideControls:function(a){var b=this,c=["infobar","toolbar","nav"];(a||!b.current.opts.preventCaptionOverlap)&&c.push("caption"),this.$refs.container.removeClass(c.map(function(a){return"fancybox-show-"+a}).join(" ")),this.hasHiddenControls=!0},showControls:function(){var a=this,b=a.current?a.current.opts:a.opts,c=a.$refs.container;a.hasHiddenControls=!1,a.idleSecondsCounter=0,c.toggleClass("fancybox-show-toolbar",!(!b.toolbar||!b.buttons)).toggleClass("fancybox-show-infobar",!!(b.infobar&&a.group.length>1)).toggleClass("fancybox-show-caption",!!a.$caption).toggleClass("fancybox-show-nav",!!(b.arrows&&a.group.length>1)).toggleClass("fancybox-is-modal",!!b.modal)},toggleControls:function(){this.hasHiddenControls?this.showControls():this.hideControls()}}),c.fancybox={version:"3.5.7",defaults:e,getInstance:function(a){var b=c('.fancybox-container:not(".fancybox-is-closing"):last').data("FancyBox"),d=Array.prototype.slice.call(arguments,1);return b instanceof p?("string"===c.type(a)?b[a].apply(b,d):"function"===c.type(a)&&a.apply(b,d),b):!1},open:function(a,b,c){return new p(a,b,c)},close:function(a){var b=this.getInstance();b&&(b.close(),a===!0&&this.close(a))},destroy:function(){this.close(!0),g.add("body").off("click.fb-start","**")},isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),use3d:function(){var c=b.createElement("div");return a.getComputedStyle&&a.getComputedStyle(c)&&a.getComputedStyle(c).getPropertyValue("transform")&&!(b.documentMode&&b.documentMode<11)}(),getTranslate:function(a){var b;return a&&a.length?(b=a[0].getBoundingClientRect(),{top:b.top||0,left:b.left||0,width:b.width,height:b.height,opacity:parseFloat(a.css("opacity"))}):!1},setTranslate:function(a,b){var c="",e={};if(a&&b)return(b.left!==d||b.top!==d)&&(c=(b.left===d?a.position().left:b.left)+"px, "+(b.top===d?a.position().top:b.top)+"px",c=this.use3d?"translate3d("+c+", 0px)":"translate("+c+")"),b.scaleX!==d&&b.scaleY!==d?c+=" scale("+b.scaleX+", "+b.scaleY+")":b.scaleX!==d&&(c+=" scaleX("+b.scaleX+")"),c.length&&(e.transform=c),b.opacity!==d&&(e.opacity=b.opacity),b.width!==d&&(e.width=b.width),b.height!==d&&(e.height=b.height),a.css(e)},animate:function(a,b,e,f,g){var i,h=this;c.isFunction(e)&&(f=e,e=null),h.stop(a),i=h.getTranslate(a),a.on(l,function(j){(!j||!j.originalEvent||a.is(j.originalEvent.target)&&"z-index"!=j.originalEvent.propertyName)&&(h.stop(a),c.isNumeric(e)&&a.css("transition-duration",""),c.isPlainObject(b)?b.scaleX!==d&&b.scaleY!==d&&h.setTranslate(a,{top:b.top,left:b.left,width:i.width*b.scaleX,height:i.height*b.scaleY,scaleX:1,scaleY:1}):g!==!0&&a.removeClass(b),c.isFunction(f)&&f(j))}),c.isNumeric(e)&&a.css("transition-duration",e+"ms"),c.isPlainObject(b)?(b.scaleX!==d&&b.scaleY!==d&&(delete b.width,delete b.height,a.parent().hasClass("fancybox-slide--image")&&a.parent().addClass("fancybox-is-scaling")),c.fancybox.setTranslate(a,b)):a.addClass(b),a.data("timer",setTimeout(function(){a.trigger(l)},e+33))},stop:function(a,b){a&&a.length&&(clearTimeout(a.data("timer")),b&&a.trigger(l),a.off(l).css("transition-duration",""),a.parent().removeClass("fancybox-is-scaling"))}},c.fn.fancybox=function(a){var b;return a=a||{},b=a.selector||!1,b?c("body").off("click.fb-start",b).on("click.fb-start",b,{options:a},q):this.off("click.fb-start").on("click.fb-start",{items:this,options:a},q),this},g.on("click.fb-start","[data-fancybox]",q),g.on("click.fb-start","[data-fancybox-trigger]",function(){c('[data-fancybox="'+c(this).attr("data-fancybox-trigger")+'"]').eq(c(this).attr("data-fancybox-index")||0).trigger("click.fb-start",{$trigger:c(this)})}),function(){var a=".fancybox-button",b="fancybox-focus",d=null;g.on("mousedown mouseup focus blur",a,function(e){switch(e.type){case"mousedown":d=c(this);break;case"mouseup":d=null;break;case"focusin":c(a).removeClass(b),c(this).is(d)||c(this).is("[disabled]")||c(this).addClass(b);break;case"focusout":c(a).removeClass(b)}})}()}}(window,document,b),function(a){"use strict";var b={youtube:{matcher:/(youtube\.com|youtu\.be|youtube\-nocookie\.com)\/(watch\?(.*&)?v=|v\/|u\/|embed\/?)?(videoseries\?list=(.*)|[\w-]{11}|\?listType=(.*)&list=(.*))(.*)/i,params:{autoplay:1,autohide:1,fs:1,rel:0,hd:1,wmode:"transparent",enablejsapi:1,html5:1},paramPlace:8,type:"iframe",url:"https://www.youtube-nocookie.com/embed/$4",thumb:"https://img.youtube.com/vi/$4/hqdefault.jpg"},vimeo:{matcher:/^.+vimeo.com\/(.*\/)?([\d]+)(.*)?/,params:{autoplay:1,hd:1,show_title:1,show_byline:1,show_portrait:0,fullscreen:1},paramPlace:3,type:"iframe",url:"//player.vimeo.com/video/$2"},instagram:{matcher:/(instagr\.am|instagram\.com)\/p\/([a-zA-Z0-9_\-]+)\/?/i,type:"image",url:"//$1/p/$2/media/?size=l"},gmap_place:{matcher:/(maps\.)?google\.([a-z]{2,3}(\.[a-z]{2})?)\/(((maps\/(place\/(.*)\/)?\@(.*),(\d+.?\d+?)z))|(\?ll=))(.*)?/i,type:"iframe",url:function(a){return"//maps.google."+a[2]+"/?ll="+(a[9]?a[9]+"&z="+Math.floor(a[10])+(a[12]?a[12].replace(/^\//,"&"):""):a[12]+"").replace(/\?/,"&")+"&output="+(a[12]&&a[12].indexOf("layer=c")>0?"svembed":"embed")}},gmap_search:{matcher:/(maps\.)?google\.([a-z]{2,3}(\.[a-z]{2})?)\/(maps\/search\/)(.*)/i,type:"iframe",url:function(a){return"//maps.google."+a[2]+"/maps?q="+a[5].replace("query=","q=").replace("api=1","")+"&output=embed"}}},c=function(b,c,d){return b?(d=d||"","object"===a.type(d)&&(d=a.param(d,!0)),a.each(c,function(a,c){b=b.replace("$"+a,c||"")}),d.length&&(b+=(b.indexOf("?")>0?"&":"?")+d),b):void 0};a(document).on("objectNeedsType.fb",function(d,e,f){var i,j,k,l,m,n,o,g=f.src||"",h=!1;i=a.extend(!0,{},b,f.opts.media),a.each(i,function(b,d){if(k=g.match(d.matcher)){if(h=d.type,o=b,n={},d.paramPlace&&k[d.paramPlace]){m=k[d.paramPlace],"?"==m[0]&&(m=m.substring(1)),m=m.split("&");for(var e=0;e<m.length;++e){var i=m[e].split("=",2);2==i.length&&(n[i[0]]=decodeURIComponent(i[1].replace(/\+/g," ")))}}return l=a.extend(!0,{},d.params,f.opts[b],n),g="function"===a.type(d.url)?d.url.call(this,k,l,f):c(d.url,k,l),j="function"===a.type(d.thumb)?d.thumb.call(this,k,l,f):c(d.thumb,k),"youtube"===b?g=g.replace(/&t=((\d+)m)?(\d+)s/,function(a,b,c,d){return"&start="+((c?60*parseInt(c,10):0)+parseInt(d,10))}):"vimeo"===b&&(g=g.replace("&%23","#")),!1}}),h?(f.opts.thumb||f.opts.$thumb&&f.opts.$thumb.length||(f.opts.thumb=j),"iframe"===h&&(f.opts=a.extend(!0,f.opts,{iframe:{preload:!1,attr:{scrolling:"no"}}})),a.extend(f,{type:h,src:g,origSrc:f.src,contentSource:o,contentType:"image"===h?"image":"gmap_place"==o||"gmap_search"==o?"map":"video"})):g&&(f.type=f.opts.defaultType)});var d={youtube:{src:"https://www.youtube.com/iframe_api","class":"YT",loading:!1,loaded:!1},vimeo:{src:"https://player.vimeo.com/api/player.js","class":"Vimeo",loading:!1,loaded:!1},load:function(a){var c,b=this;return this[a].loaded?(setTimeout(function(){b.done(a)}),void 0):(this[a].loading||(this[a].loading=!0,c=document.createElement("script"),c.type="text/javascript",c.src=this[a].src,"youtube"===a?window.onYouTubeIframeAPIReady=function(){b[a].loaded=!0,b.done(a)}:c.onload=function(){b[a].loaded=!0,b.done(a)},document.body.appendChild(c)),void 0)},done:function(b){var c,d,e;"youtube"===b&&delete window.onYouTubeIframeAPIReady,c=a.fancybox.getInstance(),c&&(d=c.current.$content.find("iframe"),"youtube"===b&&void 0!==YT&&YT?e=new YT.Player(d.attr("id"),{events:{onStateChange:function(a){0==a.data&&c.next()}}}):"vimeo"===b&&void 0!==Vimeo&&Vimeo&&(e=new Vimeo.Player(d),e.on("ended",function(){c.next()})))}};a(document).on({"afterShow.fb":function(a,b,c){b.group.length>1&&("youtube"===c.contentSource||"vimeo"===c.contentSource)&&d.load(c.contentSource)}})}(b),function(a,b,c){"use strict";var d=function(){return a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame||a.oRequestAnimationFrame||function(b){return a.setTimeout(b,1e3/60)}}(),e=function(){return a.cancelAnimationFrame||a.webkitCancelAnimationFrame||a.mozCancelAnimationFrame||a.oCancelAnimationFrame||function(b){a.clearTimeout(b)}}(),f=function(b){var c=[];b=b.originalEvent||b||a.e,b=b.touches&&b.touches.length?b.touches:b.changedTouches&&b.changedTouches.length?b.changedTouches:[b];for(var d in b)b[d].pageX?c.push({x:b[d].pageX,y:b[d].pageY}):b[d].clientX&&c.push({x:b[d].clientX,y:b[d].clientY});return c},g=function(a,b,c){return b&&a?"x"===c?a.x-b.x:"y"===c?a.y-b.y:Math.sqrt(Math.pow(a.x-b.x,2)+Math.pow(a.y-b.y,2)):0},h=function(a){if(a.is('a,area,button,[role="button"],input,label,select,summary,textarea,video,audio,iframe')||c.isFunction(a.get(0).onclick)||a.data("selectable"))return!0;for(var b=0,d=a[0].attributes,e=d.length;e>b;b++)if("data-fancybox-"===d[b].nodeName.substr(0,14))return!0;return!1},i=function(b){var c=a.getComputedStyle(b)["overflow-y"],d=a.getComputedStyle(b)["overflow-x"],e=("scroll"===c||"auto"===c)&&b.scrollHeight>b.clientHeight,f=("scroll"===d||"auto"===d)&&b.scrollWidth>b.clientWidth;return e||f},j=function(a){for(var b=!1;;){if(b=i(a.get(0)))break;if(a=a.parent(),!a.length||a.hasClass("fancybox-stage")||a.is("body"))break}return b},k=function(a){var b=this;b.instance=a,b.$bg=a.$refs.bg,b.$stage=a.$refs.stage,b.$container=a.$refs.container,b.destroy(),b.$container.on("touchstart.fb.touch mousedown.fb.touch",c.proxy(b,"ontouchstart"))};k.prototype.destroy=function(){var a=this;a.$container.off(".fb.touch"),c(b).off(".fb.touch"),a.requestId&&(e(a.requestId),a.requestId=null),a.tapped&&(clearTimeout(a.tapped),a.tapped=null)},k.prototype.ontouchstart=function(d){var e=this,i=c(d.target),k=e.instance,l=k.current,m=l.$slide,n=l.$content,o="touchstart"==d.type;if(o&&e.$container.off("mousedown.fb.touch"),!(d.originalEvent&&2==d.originalEvent.button||!m.length||!i.length||h(i)||h(i.parent())||!i.is("img")&&d.originalEvent.clientX>i[0].clientWidth+i.offset().left)){if(!l||k.isAnimating||l.$slide.hasClass("fancybox-animated"))return d.stopPropagation(),d.preventDefault(),void 0;e.realPoints=e.startPoints=f(d),e.startPoints.length&&(l.touch&&d.stopPropagation(),e.startEvent=d,e.canTap=!0,e.$target=i,e.$content=n,e.opts=l.opts.touch,e.isPanning=!1,e.isSwiping=!1,e.isZooming=!1,e.isScrolling=!1,e.canPan=k.canPan(),e.startTime=(new Date).getTime(),e.distanceX=e.distanceY=e.distance=0,e.canvasWidth=Math.round(m[0].clientWidth),e.canvasHeight=Math.round(m[0].clientHeight),e.contentLastPos=null,e.contentStartPos=c.fancybox.getTranslate(e.$content)||{top:0,left:0},e.sliderStartPos=c.fancybox.getTranslate(m),e.stagePos=c.fancybox.getTranslate(k.$refs.stage),e.sliderStartPos.top-=e.stagePos.top,e.sliderStartPos.left-=e.stagePos.left,e.contentStartPos.top-=e.stagePos.top,e.contentStartPos.left-=e.stagePos.left,c(b).off(".fb.touch").on(o?"touchend.fb.touch touchcancel.fb.touch":"mouseup.fb.touch mouseleave.fb.touch",c.proxy(e,"ontouchend")).on(o?"touchmove.fb.touch":"mousemove.fb.touch",c.proxy(e,"ontouchmove")),c.fancybox.isMobile&&b.addEventListener("scroll",e.onscroll,!0),((e.opts||e.canPan)&&(i.is(e.$stage)||e.$stage.find(i).length)||(i.is(".fancybox-image")&&d.preventDefault(),c.fancybox.isMobile&&i.parents(".fancybox-caption").length))&&(e.isScrollable=j(i)||j(i.parent()),c.fancybox.isMobile&&e.isScrollable||d.preventDefault(),(1===e.startPoints.length||l.hasError)&&(e.canPan?(c.fancybox.stop(e.$content),e.isPanning=!0):e.isSwiping=!0,e.$container.addClass("fancybox-is-grabbing")),2===e.startPoints.length&&"image"===l.type&&(l.isLoaded||l.$ghost)&&(e.canTap=!1,e.isSwiping=!1,e.isPanning=!1,e.isZooming=!0,c.fancybox.stop(e.$content),e.centerPointStartX=.5*(e.startPoints[0].x+e.startPoints[1].x)-c(a).scrollLeft(),e.centerPointStartY=.5*(e.startPoints[0].y+e.startPoints[1].y)-c(a).scrollTop(),e.percentageOfImageAtPinchPointX=(e.centerPointStartX-e.contentStartPos.left)/e.contentStartPos.width,e.percentageOfImageAtPinchPointY=(e.centerPointStartY-e.contentStartPos.top)/e.contentStartPos.height,e.startDistanceBetweenFingers=g(e.startPoints[0],e.startPoints[1]))))}},k.prototype.onscroll=function(){var c=this;c.isScrolling=!0,b.removeEventListener("scroll",c.onscroll,!0)},k.prototype.ontouchmove=function(a){var b=this;return void 0!==a.originalEvent.buttons&&0===a.originalEvent.buttons?(b.ontouchend(a),void 0):b.isScrolling?(b.canTap=!1,void 0):(b.newPoints=f(a),(b.opts||b.canPan)&&b.newPoints.length&&b.newPoints.length&&(b.isSwiping&&b.isSwiping===!0||a.preventDefault(),b.distanceX=g(b.newPoints[0],b.startPoints[0],"x"),b.distanceY=g(b.newPoints[0],b.startPoints[0],"y"),b.distance=g(b.newPoints[0],b.startPoints[0]),b.distance>0&&(b.isSwiping?b.onSwipe(a):b.isPanning?b.onPan():b.isZooming&&b.onZoom())),void 0)},k.prototype.onSwipe=function(){var j,f=this,g=f.instance,h=f.isSwiping,i=f.sliderStartPos.left||0;if(h!==!0)"x"==h&&(f.distanceX>0&&(f.instance.group.length<2||0===f.instance.current.index&&!f.instance.current.opts.loop)?i+=Math.pow(f.distanceX,.8):f.distanceX<0&&(f.instance.group.length<2||f.instance.current.index===f.instance.group.length-1&&!f.instance.current.opts.loop)?i-=Math.pow(-f.distanceX,.8):i+=f.distanceX),f.sliderLastPos={top:"x"==h?0:f.sliderStartPos.top+f.distanceY,left:i},f.requestId&&(e(f.requestId),f.requestId=null),f.requestId=d(function(){f.sliderLastPos&&(c.each(f.instance.slides,function(a,b){var d=b.pos-f.instance.currPos;c.fancybox.setTranslate(b.$slide,{top:f.sliderLastPos.top,left:f.sliderLastPos.left+d*f.canvasWidth+d*b.opts.gutter})}),f.$container.addClass("fancybox-is-sliding"))});else if(Math.abs(f.distance)>10){if(f.canTap=!1,g.group.length<2&&f.opts.vertical?f.isSwiping="y":g.isDragging||f.opts.vertical===!1||"auto"===f.opts.vertical&&c(a).width()>800?f.isSwiping="x":(j=Math.abs(180*Math.atan2(f.distanceY,f.distanceX)/Math.PI),f.isSwiping=j>45&&135>j?"y":"x"),"y"===f.isSwiping&&c.fancybox.isMobile&&f.isScrollable)return f.isScrolling=!0,void 0;g.isDragging=f.isSwiping,f.startPoints=f.newPoints,c.each(g.slides,function(a,b){var d,e;c.fancybox.stop(b.$slide),d=c.fancybox.getTranslate(b.$slide),e=c.fancybox.getTranslate(g.$refs.stage),b.$slide.css({transform:"",opacity:"","transition-duration":""}).removeClass("fancybox-animated").removeClass(function(a,b){return(b.match(/(^|\s)fancybox-fx-\S+/g)||[]).join(" ")}),b.pos===g.current.pos&&(f.sliderStartPos.top=d.top-e.top,f.sliderStartPos.left=d.left-e.left),c.fancybox.setTranslate(b.$slide,{top:d.top-e.top,left:d.left-e.left})}),g.SlideShow&&g.SlideShow.isActive&&g.SlideShow.stop()}},k.prototype.onPan=function(){var a=this;return g(a.newPoints[0],a.realPoints[0])<(c.fancybox.isMobile?10:5)?(a.startPoints=a.newPoints,void 0):(a.canTap=!1,a.contentLastPos=a.limitMovement(),a.requestId&&e(a.requestId),a.requestId=d(function(){c.fancybox.setTranslate(a.$content,a.contentLastPos)}),void 0)},k.prototype.limitMovement=function(){var k,l,m,n,o,p,a=this,b=a.canvasWidth,c=a.canvasHeight,d=a.distanceX,e=a.distanceY,f=a.contentStartPos,g=f.left,h=f.top,i=f.width,j=f.height;return o=i>b?g+d:g,p=h+e,k=Math.max(0,.5*b-.5*i),l=Math.max(0,.5*c-.5*j),m=Math.min(b-i,.5*b-.5*i),n=Math.min(c-j,.5*c-.5*j),d>0&&o>k&&(o=k-1+Math.pow(-k+g+d,.8)||0),0>d&&m>o&&(o=m+1-Math.pow(m-g-d,.8)||0),e>0&&p>l&&(p=l-1+Math.pow(-l+h+e,.8)||0),0>e&&n>p&&(p=n+1-Math.pow(n-h-e,.8)||0),{top:p,left:o}},k.prototype.limitPosition=function(a,b,c,d){var e=this,f=e.canvasWidth,g=e.canvasHeight;return c>f?(a=a>0?0:a,a=f-c>a?f-c:a):a=Math.max(0,f/2-c/2),d>g?(b=b>0?0:b,b=g-d>b?g-d:b):b=Math.max(0,g/2-d/2),{top:b,left:a}},k.prototype.onZoom=function(){var b=this,f=b.contentStartPos,h=f.width,i=f.height,j=f.left,k=f.top,l=g(b.newPoints[0],b.newPoints[1]),m=l/b.startDistanceBetweenFingers,n=Math.floor(h*m),o=Math.floor(i*m),p=(h-n)*b.percentageOfImageAtPinchPointX,q=(i-o)*b.percentageOfImageAtPinchPointY,r=(b.newPoints[0].x+b.newPoints[1].x)/2-c(a).scrollLeft(),s=(b.newPoints[0].y+b.newPoints[1].y)/2-c(a).scrollTop(),t=r-b.centerPointStartX,u=s-b.centerPointStartY,v=j+(p+t),w=k+(q+u),x={top:w,left:v,scaleX:m,scaleY:m};b.canTap=!1,b.newWidth=n,b.newHeight=o,b.contentLastPos=x,b.requestId&&e(b.requestId),b.requestId=d(function(){c.fancybox.setTranslate(b.$content,b.contentLastPos)})},k.prototype.ontouchend=function(a){var d=this,g=d.isSwiping,h=d.isPanning,i=d.isZooming,j=d.isScrolling;return d.endPoints=f(a),d.dMs=Math.max((new Date).getTime()-d.startTime,1),d.$container.removeClass("fancybox-is-grabbing"),c(b).off(".fb.touch"),b.removeEventListener("scroll",d.onscroll,!0),d.requestId&&(e(d.requestId),d.requestId=null),d.isSwiping=!1,d.isPanning=!1,d.isZooming=!1,d.isScrolling=!1,d.instance.isDragging=!1,d.canTap?d.onTap(a):(d.speed=100,d.velocityX=d.distanceX/d.dMs*.5,d.velocityY=d.distanceY/d.dMs*.5,h?d.endPanning():i?d.endZooming():d.endSwiping(g,j),void 0)},k.prototype.endSwiping=function(a,b){var d=this,e=!1,f=d.instance.group.length,g=Math.abs(d.distanceX),h="x"==a&&f>1&&(d.dMs>130&&g>10||g>50),i=300;d.sliderLastPos=null,"y"==a&&!b&&Math.abs(d.distanceY)>50?(c.fancybox.animate(d.instance.current.$slide,{top:d.sliderStartPos.top+d.distanceY+150*d.velocityY,opacity:0},200),e=d.instance.close(!0,250)):h&&d.distanceX>0?e=d.instance.previous(i):h&&d.distanceX<0&&(e=d.instance.next(i)),e!==!1||"x"!=a&&"y"!=a||d.instance.centerSlide(200),d.$container.removeClass("fancybox-is-sliding")},k.prototype.endPanning=function(){var b,d,e,a=this;a.contentLastPos&&(a.opts.momentum===!1||a.dMs>350?(b=a.contentLastPos.left,d=a.contentLastPos.top):(b=a.contentLastPos.left+500*a.velocityX,d=a.contentLastPos.top+500*a.velocityY),e=a.limitPosition(b,d,a.contentStartPos.width,a.contentStartPos.height),e.width=a.contentStartPos.width,e.height=a.contentStartPos.height,c.fancybox.animate(a.$content,e,366))},k.prototype.endZooming=function(){var d,e,f,g,a=this,b=a.instance.current,h=a.newWidth,i=a.newHeight;a.contentLastPos&&(d=a.contentLastPos.left,e=a.contentLastPos.top,g={top:e,left:d,width:h,height:i,scaleX:1,scaleY:1},c.fancybox.setTranslate(a.$content,g),h<a.canvasWidth&&i<a.canvasHeight?a.instance.scaleToFit(150):h>b.width||i>b.height?a.instance.scaleToActual(a.centerPointStartX,a.centerPointStartY,150):(f=a.limitPosition(d,e,h,i),c.fancybox.animate(a.$content,f,150)))},k.prototype.onTap=function(b){var l,d=this,e=c(b.target),g=d.instance,h=g.current,i=b&&f(b)||d.startPoints,j=i[0]?i[0].x-c(a).scrollLeft()-d.stagePos.left:0,k=i[0]?i[0].y-c(a).scrollTop()-d.stagePos.top:0,m=function(a){var e=h.opts[a];if(c.isFunction(e)&&(e=e.apply(g,[h,b])),e)switch(e){case"close":g.close(d.startEvent);break;case"toggleControls":g.toggleControls();break;case"next":g.next();break;case"nextOrClose":g.group.length>1?g.next():g.close(d.startEvent);break;case"zoom":"image"==h.type&&(h.isLoaded||h.$ghost)&&(g.canPan()?g.scaleToFit():g.isScaledDown()?g.scaleToActual(j,k):g.group.length<2&&g.close(d.startEvent))}};if(!(b.originalEvent&&2==b.originalEvent.button||!e.is("img")&&j>e[0].clientWidth+e.offset().left)){if(e.is(".fancybox-bg,.fancybox-inner,.fancybox-outer,.fancybox-container"))l="Outside";else if(e.is(".fancybox-slide"))l="Slide";else{if(!g.current.$content||!g.current.$content.find(e).addBack().filter(e).length)return;l="Content"}if(d.tapped){if(clearTimeout(d.tapped),d.tapped=null,Math.abs(j-d.tapX)>50||Math.abs(k-d.tapY)>50)return this;m("dblclick"+l)}else d.tapX=j,d.tapY=k,h.opts["dblclick"+l]&&h.opts["dblclick"+l]!==h.opts["click"+l]?d.tapped=setTimeout(function(){d.tapped=null,g.isAnimating||m("click"+l)},500):m("click"+l);return this}},c(b).on("onActivate.fb",function(a,b){b&&!b.Guestures&&(b.Guestures=new k(b))}).on("beforeClose.fb",function(a,b){b&&b.Guestures&&b.Guestures.destroy()})}(window,document,b),function(a,b){"use strict";b.extend(!0,b.fancybox.defaults,{btnTpl:{slideShow:'<button data-fancybox-play class="fancybox-button fancybox-button--play" title="{{PLAY_START}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6.5 5.4v13.2l11-6.6z"/></svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.33 5.75h2.2v12.5h-2.2V5.75zm5.15 0h2.2v12.5h-2.2V5.75z"/></svg></button>'},slideShow:{autoStart:!1,speed:3e3,progress:!0}});var c=function(a){this.instance=a,this.init()};b.extend(c.prototype,{timer:null,isActive:!1,$button:null,init:function(){var a=this,c=a.instance,d=c.group[c.currIndex].opts.slideShow;a.$button=c.$refs.toolbar.find("[data-fancybox-play]").on("click",function(){a.toggle()}),c.group.length<2||!d?a.$button.hide():d.progress&&(a.$progress=b('<div class="fancybox-progress"></div>').appendTo(c.$refs.inner))},set:function(a){var c=this,d=c.instance,e=d.current;e&&(a===!0||e.opts.loop||d.currIndex<d.group.length-1)?c.isActive&&"video"!==e.contentType&&(c.$progress&&b.fancybox.animate(c.$progress.show(),{scaleX:1},e.opts.slideShow.speed),c.timer=setTimeout(function(){d.current.opts.loop||d.current.index!=d.group.length-1?d.next():d.jumpTo(0)},e.opts.slideShow.speed)):(c.stop(),d.idleSecondsCounter=0,d.showControls())},clear:function(){var a=this;clearTimeout(a.timer),a.timer=null,a.$progress&&a.$progress.removeAttr("style").hide()},start:function(){var a=this,b=a.instance.current;b&&(a.$button.attr("title",(b.opts.i18n[b.opts.lang]||b.opts.i18n.en).PLAY_STOP).removeClass("fancybox-button--play").addClass("fancybox-button--pause"),a.isActive=!0,b.isComplete&&a.set(!0),a.instance.trigger("onSlideShowChange",!0))},stop:function(){var a=this,b=a.instance.current;a.clear(),a.$button.attr("title",(b.opts.i18n[b.opts.lang]||b.opts.i18n.en).PLAY_START).removeClass("fancybox-button--pause").addClass("fancybox-button--play"),a.isActive=!1,a.instance.trigger("onSlideShowChange",!1),a.$progress&&a.$progress.removeAttr("style").hide()},toggle:function(){var a=this;a.isActive?a.stop():a.start()}}),b(a).on({"onInit.fb":function(a,b){b&&!b.SlideShow&&(b.SlideShow=new c(b))},"beforeShow.fb":function(a,b,c,d){var e=b&&b.SlideShow;d?e&&c.opts.slideShow.autoStart&&e.start():e&&e.isActive&&e.clear()},"afterShow.fb":function(a,b){var d=b&&b.SlideShow;d&&d.isActive&&d.set()},"afterKeydown.fb":function(c,d,e,f,g){var h=d&&d.SlideShow;!h||!e.opts.slideShow||80!==g&&32!==g||b(a.activeElement).is("button,a,input")||(f.preventDefault(),h.toggle())},"beforeClose.fb onDeactivate.fb":function(a,b){var c=b&&b.SlideShow;c&&c.stop()}}),b(a).on("visibilitychange",function(){var c=b.fancybox.getInstance(),d=c&&c.SlideShow;d&&d.isActive&&(a.hidden?d.clear():d.set())})}(document,b),function(a,b){"use strict";var c=function(){for(var b=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],c={},d=0;d<b.length;d++){var e=b[d];if(e&&e[1]in a){for(var f=0;f<e.length;f++)c[b[0][f]]=e[f];return c}}return!1}();if(c){var d={request:function(b){b=b||a.documentElement,b[c.requestFullscreen](b.ALLOW_KEYBOARD_INPUT)},exit:function(){a[c.exitFullscreen]()},toggle:function(b){b=b||a.documentElement,this.isFullscreen()?this.exit():this.request(b)},isFullscreen:function(){return Boolean(a[c.fullscreenElement])},enabled:function(){return Boolean(a[c.fullscreenEnabled])}};b.extend(!0,b.fancybox.defaults,{btnTpl:{fullScreen:'<button data-fancybox-fullscreen class="fancybox-button fancybox-button--fsenter" title="{{FULL_SCREEN}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"/></svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M5 16h3v3h2v-5H5zm3-8H5v2h5V5H8zm6 11h2v-3h3v-2h-5zm2-11V5h-2v5h5V8z"/></svg></button>'},fullScreen:{autoStart:!1}}),b(a).on(c.fullscreenchange,function(){var a=d.isFullscreen(),c=b.fancybox.getInstance();c&&(c.current&&"image"===c.current.type&&c.isAnimating&&(c.isAnimating=!1,c.update(!0,!0,0),c.isComplete||c.complete()),c.trigger("onFullscreenChange",a),c.$refs.container.toggleClass("fancybox-is-fullscreen",a),c.$refs.toolbar.find("[data-fancybox-fullscreen]").toggleClass("fancybox-button--fsenter",!a).toggleClass("fancybox-button--fsexit",a))
})}b(a).on({"onInit.fb":function(a,b){var e;return c?(b&&b.group[b.currIndex].opts.fullScreen?(e=b.$refs.container,e.on("click.fb-fullscreen","[data-fancybox-fullscreen]",function(a){a.stopPropagation(),a.preventDefault(),d.toggle()}),b.opts.fullScreen&&b.opts.fullScreen.autoStart===!0&&d.request(),b.FullScreen=d):b&&b.$refs.toolbar.find("[data-fancybox-fullscreen]").hide(),void 0):(b.$refs.toolbar.find("[data-fancybox-fullscreen]").remove(),void 0)},"afterKeydown.fb":function(a,b,c,d,e){b&&b.FullScreen&&70===e&&(d.preventDefault(),b.FullScreen.toggle())},"beforeClose.fb":function(a,b){b&&b.FullScreen&&b.$refs.container.hasClass("fancybox-is-fullscreen")&&d.exit()}})}(document,b),function(a,b){"use strict";var c="fancybox-thumbs",d=c+"-active";b.fancybox.defaults=b.extend(!0,{btnTpl:{thumbs:'<button data-fancybox-thumbs class="fancybox-button fancybox-button--thumbs" title="{{THUMBS}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14.59 14.59h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76H5.65v-3.76zm8.94-4.47h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76H5.65v-3.76zm8.94-4.47h3.76v3.76h-3.76V5.65zm-4.47 0h3.76v3.76h-3.76V5.65zm-4.47 0h3.76v3.76H5.65V5.65z"/></svg></button>'},thumbs:{autoStart:!1,hideOnClose:!0,parentEl:".fancybox-container",axis:"y"}},b.fancybox.defaults);var e=function(a){this.init(a)};b.extend(e.prototype,{$button:null,$grid:null,$list:null,isVisible:!1,isActive:!1,init:function(a){var b=this,c=a.group,d=0;b.instance=a,b.opts=c[a.currIndex].opts.thumbs,a.Thumbs=b,b.$button=a.$refs.toolbar.find("[data-fancybox-thumbs]");for(var e=0,f=c.length;f>e&&(c[e].thumb&&d++,!(d>1));e++);d>1&&b.opts?(b.$button.removeAttr("style").on("click",function(){b.toggle()}),b.isActive=!0):b.$button.hide()},create:function(){var g,a=this,d=a.instance,e=a.opts.parentEl,f=[];a.$grid||(a.$grid=b('<div class="'+c+" "+c+"-"+a.opts.axis+'"></div>').appendTo(d.$refs.container.find(e).addBack().filter(e)),a.$grid.on("click","a",function(){d.jumpTo(b(this).attr("data-index"))})),a.$list||(a.$list=b('<div class="'+c+'__list">').appendTo(a.$grid)),b.each(d.group,function(a,b){g=b.thumb,g||"image"!==b.type||(g=b.src),f.push('<a href="javascript:;" tabindex="0" data-index="'+a+'"'+(g&&g.length?' style="background-image:url('+g+')"':'class="fancybox-thumbs-missing"')+"></a>")}),a.$list[0].innerHTML=f.join(""),"x"===a.opts.axis&&a.$list.width(parseInt(a.$grid.css("padding-right"),10)+d.group.length*a.$list.children().eq(0).outerWidth(!0))},focus:function(a){var f,g,b=this,c=b.$list,e=b.$grid;b.instance.current&&(f=c.children().removeClass(d).filter('[data-index="'+b.instance.current.index+'"]').addClass(d),g=f.position(),"y"===b.opts.axis&&(g.top<0||g.top>c.height()-f.outerHeight())?c.stop().animate({scrollTop:c.scrollTop()+g.top},a):"x"===b.opts.axis&&(g.left<e.scrollLeft()||g.left>e.scrollLeft()+(e.width()-f.outerWidth()))&&c.parent().stop().animate({scrollLeft:g.left},a))},update:function(){var a=this;a.instance.$refs.container.toggleClass("fancybox-show-thumbs",this.isVisible),a.isVisible?(a.$grid||a.create(),a.instance.trigger("onThumbsShow"),a.focus(0)):a.$grid&&a.instance.trigger("onThumbsHide"),a.instance.update()},hide:function(){this.isVisible=!1,this.update()},show:function(){this.isVisible=!0,this.update()},toggle:function(){this.isVisible=!this.isVisible,this.update()}}),b(a).on({"onInit.fb":function(a,b){var c;b&&!b.Thumbs&&(c=new e(b),c.isActive&&c.opts.autoStart===!0&&c.show())},"beforeShow.fb":function(a,b,c,d){var e=b&&b.Thumbs;e&&e.isVisible&&e.focus(d?0:250)},"afterKeydown.fb":function(a,b,c,d,e){var f=b&&b.Thumbs;f&&f.isActive&&71===e&&(d.preventDefault(),f.toggle())},"beforeClose.fb":function(a,b){var c=b&&b.Thumbs;c&&c.isVisible&&c.opts.hideOnClose!==!1&&c.$grid.hide()}})}(document,b),function(a,b){"use strict";function c(a){var b={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};return String(a).replace(/[&<>"'`=\/]/g,function(a){return b[a]})}b.extend(!0,b.fancybox.defaults,{btnTpl:{share:'<button data-fancybox-share class="fancybox-button fancybox-button--share" title="{{SHARE}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M2.55 19c1.4-8.4 9.1-9.8 11.9-9.8V5l7 7-7 6.3v-3.5c-2.8 0-10.5 2.1-11.9 4.2z"/></svg></button>'},share:{url:function(a,b){return(a.currentHash||"inline"===b.type||"html"===b.type?!1:b.origSrc||b.src)||window.location},tpl:'<div class="fancybox-share"><h1>{{SHARE}}</h1><p><a class="fancybox-share__button fancybox-share__button--fb" href="https://www.facebook.com/sharer/sharer.php?u={{url}}"><svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="m287 456v-299c0-21 6-35 35-35h38v-63c-7-1-29-3-55-3-54 0-91 33-91 94v306m143-254h-205v72h196" /></svg><span>Facebook</span></a><a class="fancybox-share__button fancybox-share__button--tw" href="https://twitter.com/intent/tweet?url={{url}}&text={{descr}}"><svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="m456 133c-14 7-31 11-47 13 17-10 30-27 37-46-15 10-34 16-52 20-61-62-157-7-141 75-68-3-129-35-169-85-22 37-11 86 26 109-13 0-26-4-37-9 0 39 28 72 65 80-12 3-25 4-37 2 10 33 41 57 77 57-42 30-77 38-122 34 170 111 378-32 359-208 16-11 30-25 41-42z" /></svg><span>Twitter</span></a><a class="fancybox-share__button fancybox-share__button--pt" href="https://www.pinterest.com/pin/create/button/?url={{url}}&description={{descr}}&media={{media}}"><svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="m265 56c-109 0-164 78-164 144 0 39 15 74 47 87 5 2 10 0 12-5l4-19c2-6 1-8-3-13-9-11-15-25-15-45 0-58 43-110 113-110 62 0 96 38 96 88 0 67-30 122-73 122-24 0-42-19-36-44 6-29 20-60 20-81 0-19-10-35-31-35-25 0-44 26-44 60 0 21 7 36 7 36l-30 125c-8 37-1 83 0 87 0 3 4 4 5 2 2-3 32-39 42-75l16-64c8 16 31 29 56 29 74 0 124-67 124-157 0-69-58-132-146-132z" fill="#fff"/></svg><span>Pinterest</span></a></p><p><input class="fancybox-share__input" type="text" value="{{url_raw}}" onclick="select()" /></p></div>'}}),b(a).on("click","[data-fancybox-share]",function(){var e,f,a=b.fancybox.getInstance(),d=a.current||null;d&&("function"===b.type(d.opts.share.url)&&(e=d.opts.share.url.apply(d,[a,d])),f=d.opts.share.tpl.replace(/\{\{media\}\}/g,"image"===d.type?encodeURIComponent(d.src):"").replace(/\{\{url\}\}/g,encodeURIComponent(e)).replace(/\{\{url_raw\}\}/g,c(e)).replace(/\{\{descr\}\}/g,a.$caption?encodeURIComponent(a.$caption.text()):""),b.fancybox.open({src:a.translate(a,f),type:"html",opts:{touch:!1,animationEffect:!1,afterLoad:function(b,c){a.$refs.container.one("beforeClose.fb",function(){b.close(null,0)}),c.$content.find(".fancybox-share__button").click(function(){return window.open(this.href,"Share","width=550, height=450"),!1})},mobile:{autoFocus:!1}}}))})}(document,b),function(a,b,c){"use strict";function d(){var b=a.location.hash.substr(1),c=b.split("-"),d=c.length>1&&/^\+?\d+$/.test(c[c.length-1])?parseInt(c.pop(-1),10)||1:1,e=c.join("-");return{hash:b,index:1>d?1:d,gallery:e}}function e(a){""!==a.gallery&&c("[data-fancybox='"+c.escapeSelector(a.gallery)+"']").eq(a.index-1).focus().trigger("click.fb-start")}function f(a){var b,c;return a?(b=a.current?a.current.opts:a.opts,c=b.hash||(b.$orig?b.$orig.data("fancybox")||b.$orig.data("fancybox-trigger"):""),""===c?!1:c):!1}c.escapeSelector||(c.escapeSelector=function(a){var b=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g,c=function(a,b){return b?"\x00"===a?"\ufffd":a.slice(0,-1)+"\\"+a.charCodeAt(a.length-1).toString(16)+" ":"\\"+a};return(a+"").replace(b,c)}),c(function(){c.fancybox.defaults.hash!==!1&&(c(b).on({"onInit.fb":function(a,b){var c,e;b.group[b.currIndex].opts.hash!==!1&&(c=d(),e=f(b),e&&c.gallery&&e==c.gallery&&(b.currIndex=c.index-1))},"beforeShow.fb":function(c,d,e,g){var h;e&&e.opts.hash!==!1&&(h=f(d),h&&(d.currentHash=h+(d.group.length>1?"-"+(e.index+1):""),a.location.hash!=="#"+d.currentHash&&(g&&!d.origHash&&(d.origHash=a.location.hash),d.hashTimer&&clearTimeout(d.hashTimer),d.hashTimer=setTimeout(function(){"replaceState"in a.history?(a.history[g?"pushState":"replaceState"]({},b.title,a.location.pathname+a.location.search+"#"+d.currentHash),g&&(d.hasCreatedHistory=!0)):a.location.hash=d.currentHash,d.hashTimer=null},300))))},"beforeClose.fb":function(c,d,e){e&&e.opts.hash!==!1&&(clearTimeout(d.hashTimer),d.currentHash&&d.hasCreatedHistory?a.history.back():d.currentHash&&("replaceState"in a.history?a.history.replaceState({},b.title,a.location.pathname+a.location.search+(d.origHash||"")):a.location.hash=d.origHash),d.currentHash=null)}}),c(a).on("hashchange.fb",function(){var a=d(),b=null;c.each(c(".fancybox-container").get().reverse(),function(a,d){var e=c(d).data("FancyBox");return e&&e.currentHash?(b=e,!1):void 0}),b?b.currentHash===a.gallery+"-"+a.index||1===a.index&&b.currentHash==a.gallery||(b.currentHash=null,b.close()):""!==a.gallery&&e(a)}),setTimeout(function(){c.fancybox.getInstance()||e(d())},50))})}(window,document,b),function(a,b){"use strict";var c=(new Date).getTime();b(a).on({"onInit.fb":function(a,b){b.$refs.stage.on("mousewheel DOMMouseScroll wheel MozMousePixelScroll",function(a){var d=b.current,e=(new Date).getTime();b.group.length<2||d.opts.wheel===!1||"auto"===d.opts.wheel&&"image"!==d.type||(a.preventDefault(),a.stopPropagation(),d.$slide.hasClass("fancybox-animated")||(a=a.originalEvent||a,250>e-c||(c=e,b[(-a.deltaY||-a.deltaX||a.wheelDelta||-a.detail)<0?"next":"previous"]())))})}})}(document,b)}),ed.define("jquery.raty",["edjquery"],function(a){var b=a;!function(a){var b={init:function(c){return this.each(function(){b.destroy.call(this),this.opt=a.extend(!0,{},a.fn.raty.defaults,c);var d=a(this),e=["number","readOnly","score","scoreName"];b._callback.call(this,e),this.opt.precision&&b._adjustPrecision.call(this),this.opt.number=b._between(this.opt.number,0,this.opt.numberMax),this.stars=b._createStars.call(this),this.score=b._createScore.call(this),b._apply.call(this,this.opt.score),this.opt.cancel&&(this.cancel=b._createCancel.call(this)),this.opt.width&&d.css("width",this.opt.width),this.opt.readOnly?b._lock.call(this):(d.css("cursor","pointer"),b._binds.call(this)),b._target.call(this,this.opt.score),d.data({settings:this.opt,raty:!0})})},_adjustPrecision:function(){this.opt.targetType="score",this.opt.half=!0},_apply:function(a){a&&a>0&&(a=b._between(a,0,this.opt.number),this.score.val(a)),b._fill.call(this,a),a&&b._roundStars.call(this,a)},_between:function(a,b,c){return Math.min(Math.max(parseFloat(a),b),c)},_binds:function(){this.cancel&&b._bindCancel.call(this),b._bindClick.call(this),b._bindOut.call(this),b._bindOver.call(this)},_bindCancel:function(){b._bindClickCancel.call(this),b._bindOutCancel.call(this),b._bindOverCancel.call(this)},_bindClick:function(){var b=this,c=a(b);b.stars.on("click.raty",function(d){b.score.val(b.opt.half||b.opt.precision?c.data("score"):a(this).data("score")),b.opt.click&&b.opt.click.call(b,parseFloat(b.score.val()),d)})},_bindClickCancel:function(){var a=this;a.cancel.on("click.raty",function(b){a.score.removeAttr("value"),a.opt.click&&a.opt.click.call(a,null,b)})},_bindOut:function(){var c=this;a(this).on("mouseleave.raty",function(a){var d=parseFloat(c.score.val())||void 0;b._apply.call(c,d),b._target.call(c,d,a),c.opt.mouseout&&c.opt.mouseout.call(c,d,a)})},_bindOutCancel:function(){var b=this;b.cancel.on("mouseleave.raty",function(c){a(this).attr("class",b.opt.cancelOff),b.opt.mouseout&&b.opt.mouseout.call(b,b.score.val()||null,c)})},_bindOverCancel:function(){var c=this;c.cancel.on("mouseover.raty",function(d){a(this).attr("class",c.opt.cancelOn),c.stars.attr("class",c.opt.starOff),b._target.call(c,null,d),c.opt.mouseover&&c.opt.mouseover.call(c,null)})},_bindOver:function(){var c=this,d=a(c),e=c.opt.half?"mousemove.raty":"mouseover.raty";c.stars.on(e,function(e){var f=parseInt(a(this).data("score"),10);if(c.opt.half){var g=parseFloat((e.pageX-a(this).offset().left)/(c.opt.size?c.opt.size:parseInt(d.css("font-size")))),h=g>.5?1:.5;f=f-1+h,b._fill.call(c,f),c.opt.precision&&(f=f-h+g),b._roundStars.call(c,f),d.data("score",f)}else b._fill.call(c,f);b._target.call(c,f,e),c.opt.mouseover&&c.opt.mouseover.call(c,f,e)})},_callback:function(a){for(var b in a)"function"==typeof this.opt[a[b]]&&(this.opt[a[b]]=this.opt[a[b]].call(this))},_createCancel:function(){var b=a(this),c=this.opt.cancelOff,d=a("<i />",{"class":c,title:this.opt.cancelHint});return"left"==this.opt.cancelPlace?b.prepend("&#160;").prepend(d):b.append("&#160;").append(d),d},_createScore:function(){return a("<input />",{type:"hidden",name:this.opt.scoreName}).appendTo(this)},_createStars:function(){for(var c=a(this),d=1;d<=this.opt.number;d++){var e=b._getHint.call(this,d),f=this.opt.score&&this.opt.score>=d?"starOn":"starOff";f=this.opt[f],a("<i />",{"class":f,title:e,"data-score":d}).appendTo(this),this.opt.space&&c.append(d<this.opt.number?"&#160;":"")}return c.children("i")},_error:function(b){a(this).html(b),a.error(b)},_fill:function(a){for(var b=this,c=0,d=1;d<=b.stars.length;d++){var e=b.stars.eq(d-1),f=b.opt.single?d==a:a>=d;if(b.opt.iconRange&&b.opt.iconRange.length>c){var g=b.opt.iconRange[c],h=g.on||b.opt.starOn,i=g.off||b.opt.starOff,j=f?h:i;d<=g.range&&e.attr("class",j),d==g.range&&c++}else{var j=f?"starOn":"starOff";e.attr("class",this.opt[j])}}},_getHint:function(a){var b=this.opt.hints[a-1];return""===b?"":b||a},_lock:function(){var c=parseInt(this.score.val(),10),d=c?b._getHint.call(this,c):this.opt.noRatedMsg;a(this).data("readonly",!0).css("cursor","").attr("title",d),this.score.attr("readonly","readonly"),this.stars.attr("title",d),this.cancel&&this.cancel.hide()},_roundStars:function(a){var b=(a-Math.floor(a)).toFixed(2);if(b>this.opt.round.down){var c="starOn";this.opt.halfShow&&b<this.opt.round.up?c="starHalf":b<this.opt.round.full&&(c="starOff"),this.stars.eq(Math.ceil(a)-1).attr("class",this.opt[c])}},_target:function(c,d){if(this.opt.target){var e=a(this.opt.target);0===e.length&&b._error.call(this,"Target selector invalid or missing!"),this.opt.targetFormat.indexOf("{score}")<0&&b._error.call(this,'Template "{score}" missing!');var f=d&&"mouseover"==d.type;void 0===c?c=this.opt.targetText:null===c?c=f?this.opt.cancelHint:this.opt.targetText:("hint"==this.opt.targetType?c=b._getHint.call(this,Math.ceil(c)):this.opt.precision&&(c=parseFloat(c).toFixed(1)),f||this.opt.targetKeep||(c=this.opt.targetText)),c&&(c=this.opt.targetFormat.toString().replace("{score}",c)),e.is(":input")?e.val(c):e.html(c)}},_unlock:function(){a(this).data("readonly",!1).css("cursor","pointer").removeAttr("title"),this.score.removeAttr("readonly","readonly");for(var c=0;c<this.opt.number;c++)this.stars.eq(c).attr("title",b._getHint.call(this,c+1));this.cancel&&this.cancel.css("display","")},cancel:function(c){return this.each(function(){a(this).data("readonly")!==!0&&(b[c?"click":"score"].call(this,null),this.score.removeAttr("value"))})},click:function(c){return a(this).each(function(){a(this).data("readonly")!==!0&&(b._apply.call(this,c),this.opt.click||b._error.call(this,'You must add the "click: function(score, evt) { }" callback.'),this.opt.click.call(this,c,a.Event("click")),b._target.call(this,c))})},destroy:function(){return a(this).each(function(){var b=a(this),c=b.data("raw");c?b.off(".raty").empty().css({cursor:c.style.cursor,width:c.style.width}).removeData("readonly"):b.data("raw",b.clone()[0])})},getScore:function(){var c,b=[];return a(this).each(function(){c=this.score.val(),b.push(c?parseFloat(c):void 0)}),b.length>1?b:b[0]},readOnly:function(c){return this.each(function(){var d=a(this);d.data("readonly")!==c&&(c?(d.off(".raty").children("i").off(".raty"),b._lock.call(this)):(b._binds.call(this),b._unlock.call(this)),d.data("readonly",c))})},reload:function(){return b.set.call(this,{})},score:function(){return arguments.length?b.setScore.apply(this,arguments):b.getScore.call(this)},set:function(b){return this.each(function(){var c=a(this),d=c.data("settings"),e=a.extend({},d,b);c.raty(e)})},setScore:function(c){return a(this).each(function(){a(this).data("readonly")!==!0&&(b._apply.call(this,c),b._target.call(this,c))})}};a.fn.raty=function(c){return b[c]?b[c].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof c&&c?(a.error("Method "+c+" does not exist!"),void 0):b.init.apply(this,arguments)},a.fn.raty.defaults={cancel:!1,cancelHint:"Cancel this rating!",cancelOff:"fa fa-fw fa-minus-square",cancelOn:"fa fa-fw fa-check-square",cancelPlace:"left",click:void 0,half:!1,halfShow:!0,hints:["bad","poor","regular","good","gorgeous"],iconRange:void 0,mouseout:void 0,mouseover:void 0,noRatedMsg:"Not rated yet!",number:5,numberMax:20,precision:!1,readOnly:!1,round:{down:.25,full:.6,up:.76},score:void 0,scoreName:"score",single:!1,size:null,space:!0,starHalf:"fa fa-fw fa-star-half-o",starOff:"fa fa-fw fa-star-o",starOn:"fa fa-fw fa-star",target:void 0,targetFormat:"{score}",targetKeep:!1,targetText:"",targetType:"hint",width:!1}}(b)}),ed.define("jquery.scrollto",["edjquery"],function(a){var b=a;!function(a){function c(a){return"object"==typeof a?a:{top:a,left:a}}var b=a.scrollTo=function(b,c,d){a(window).scrollTo(b,c,d)};b.defaults={axis:"xy",duration:parseFloat(a.fn.jquery)>=1.3?0:1,limit:!0},b.window=function(){return a(window)._scrollable()},a.fn._scrollable=function(){return this.map(function(){var b=this,c=!b.nodeName||-1!=a.inArray(b.nodeName.toLowerCase(),["iframe","#document","html","body"]);if(!c)return b;var d=(b.contentWindow||b).document||b.ownerDocument||b;return/webkit/i.test(navigator.userAgent)||"BackCompat"==d.compatMode?d.body:d.documentElement})},a.fn.scrollTo=function(d,e,f){return"object"==typeof e&&(f=e,e=0),"function"==typeof f&&(f={onAfter:f}),"max"==d&&(d=9e9),f=a.extend({},b.defaults,f),e=e||f.duration,f.queue=f.queue&&f.axis.length>1,f.queue&&(e/=2),f.offset=c(f.offset),f.over=c(f.over),this._scrollable().each(function(){function m(a){h.animate(k,e,f.easing,a&&function(){a.call(this,d,f)})}if(null!=d){var j,g=this,h=a(g),i=d,k={},l=h.is("html,body");switch(typeof i){case"number":case"string":if(/^([+-]=)?\d+(\.\d+)?(px|%)?$/.test(i)){i=c(i);break}if(i=a(i,this),!i.length)return;case"object":(i.is||i.style)&&(j=(i=a(i)).offset())}a.each(f.axis.split(""),function(a,c){var d="x"==c?"Left":"Top",e=d.toLowerCase(),n="scroll"+d,o=g[n],p=b.max(g,c);if(j)k[n]=j[e]+(l?0:o-h.offset()[e]),f.margin&&(k[n]-=parseInt(i.css("margin"+d))||0,k[n]-=parseInt(i.css("border"+d+"Width"))||0),k[n]+=f.offset[e]||0,f.over[e]&&(k[n]+=i["x"==c?"width":"height"]()*f.over[e]);else{var q=i[e];k[n]=q.slice&&"%"==q.slice(-1)?parseFloat(q)/100*p:q}f.limit&&/^\d+$/.test(k[n])&&(k[n]=k[n]<=0?0:Math.min(k[n],p)),!a&&f.queue&&(o!=k[n]&&m(f.onAfterFirst),delete k[n])}),m(f.onAfter)}}).end()},a.fn.scrollIntoView=function(b){var b=a(b);if(!(b.length<1)){var c=this.offset(),d=this.height(),e=c.top,f=e+d,g=b.offset(),h=b.height(),i=g.top,j=i+h;return j>f?this.scrollTo(b):e>i?this.scrollTo(b,{offset:-1*(d-h)}):void 0}},b.max=function(b,c){var d="x"==c?"Width":"Height",e="scroll"+d;if(!a(b).is("html,body"))return b[e]-a(b)[d.toLowerCase()]();var f="client"+d,g=b.ownerDocument.documentElement,h=b.ownerDocument.body;return Math.max(g[e],h[e])-Math.min(g[f],h[f])}}(b)}),ed.define("jquery.ui.position",["edjquery"],function(a){var b=a;!function(a,b){function m(a,b,c){return[parseFloat(a[0])*(k.test(a[0])?b/100:1),parseFloat(a[1])*(k.test(a[1])?c/100:1)]}function n(b,c){return parseInt(a.css(b,c),10)||0}function o(b){var c=b[0];return 9===c.nodeType?{width:b.width(),height:b.height(),offset:{top:0,left:0}}:a.isWindow(c)?{width:b.width(),height:b.height(),offset:{top:b.scrollTop(),left:b.scrollLeft()}}:c.preventDefault?{width:0,height:0,offset:{top:c.pageY,left:c.pageX}}:{width:b.outerWidth(),height:b.outerHeight(),offset:b.offset()}}a.ui=a.ui||{};var c,d=Math.max,e=Math.abs,f=Math.round,g=/left|center|right/,h=/top|center|bottom/,i=/[\+\-]\d+(\.[\d]+)?%?/,j=/^\w+/,k=/%$/,l=a.fn.position;a.position={scrollbarWidth:function(){if(c!==b)return c;var d,e,f=a("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),g=f.children()[0];return a("body").append(f),d=g.offsetWidth,f.css("overflow","scroll"),e=g.offsetWidth,d===e&&(e=f[0].clientWidth),f.remove(),c=d-e},getScrollInfo:function(b){var c=b.isWindow?"":b.element.css("overflow-x"),d=b.isWindow?"":b.element.css("overflow-y"),e="scroll"===c||"auto"===c&&b.width<b.element[0].scrollWidth,f="scroll"===d||"auto"===d&&b.height<b.element[0].scrollHeight;return{width:f?a.position.scrollbarWidth():0,height:e?a.position.scrollbarWidth():0}},getWithinInfo:function(b){var c=a(b||window),d=a.isWindow(c[0]);return{element:c,isWindow:d,offset:c.offset()||{left:0,top:0},scrollLeft:c.scrollLeft(),scrollTop:c.scrollTop(),width:d?c.width():c.outerWidth(),height:d?c.height():c.outerHeight()}}},a.fn.position=function(b){if(!b||!b.of)return l.apply(this,arguments);b=a.extend({},b);var c,k,p,q,r,s,t=a(b.of),u=a.position.getWithinInfo(b.within),v=a.position.getScrollInfo(u),w=(b.collision||"flip").split(" "),x={};return s=o(t),t[0].preventDefault&&(b.at="left top"),k=s.width,p=s.height,q=s.offset,r=a.extend({},q),a.each(["my","at"],function(){var c,d,a=(b[this]||"").split(" ");1===a.length&&(a=g.test(a[0])?a.concat(["center"]):h.test(a[0])?["center"].concat(a):["center","center"]),a[0]=g.test(a[0])?a[0]:"center",a[1]=h.test(a[1])?a[1]:"center",c=i.exec(a[0]),d=i.exec(a[1]),x[this]=[c?c[0]:0,d?d[0]:0],b[this]=[j.exec(a[0])[0],j.exec(a[1])[0]]}),1===w.length&&(w[1]=w[0]),"right"===b.at[0]?r.left+=k:"center"===b.at[0]&&(r.left+=k/2),"bottom"===b.at[1]?r.top+=p:"center"===b.at[1]&&(r.top+=p/2),c=m(x.at,k,p),r.left+=c[0],r.top+=c[1],this.each(function(){var g,h,i=a(this),j=i.outerWidth(),l=i.outerHeight(),o=n(this,"marginLeft"),s=n(this,"marginTop"),y=j+o+n(this,"marginRight")+v.width,z=l+s+n(this,"marginBottom")+v.height,A=a.extend({},r),B=m(x.my,i.outerWidth(),i.outerHeight());"right"===b.my[0]?A.left-=j:"center"===b.my[0]&&(A.left-=j/2),"bottom"===b.my[1]?A.top-=l:"center"===b.my[1]&&(A.top-=l/2),A.left+=B[0],A.top+=B[1],a.support.offsetFractions||(A.left=f(A.left),A.top=f(A.top)),g={marginLeft:o,marginTop:s},a.each(["left","top"],function(d,e){a.ui.position[w[d]]&&a.ui.position[w[d]][e](A,{targetWidth:k,targetHeight:p,elemWidth:j,elemHeight:l,collisionPosition:g,collisionWidth:y,collisionHeight:z,offset:[c[0]+B[0],c[1]+B[1]],my:b.my,at:b.at,within:u,elem:i})}),b.using&&(h=function(a){var c=q.left-A.left,f=c+k-j,g=q.top-A.top,h=g+p-l,m={target:{element:t,left:q.left,top:q.top,width:k,height:p},element:{element:i,left:A.left,top:A.top,width:j,height:l},horizontal:0>f?"left":c>0?"right":"center",vertical:0>h?"top":g>0?"bottom":"middle"};j>k&&e(c+f)<k&&(m.horizontal="center"),l>p&&e(g+h)<p&&(m.vertical="middle"),m.important=d(e(c),e(f))>d(e(g),e(h))?"horizontal":"vertical",b.using.call(this,a,m)}),i.offset(a.extend(A,{using:h}))})},a.ui.position={fit:{left:function(a,b){var j,c=b.within,e=c.isWindow?c.scrollLeft:c.offset.left,f=c.width,g=a.left-b.collisionPosition.marginLeft,h=e-g,i=g+b.collisionWidth-f-e;b.collisionWidth>f?h>0&&0>=i?(j=a.left+h+b.collisionWidth-f-e,a.left+=h-j):a.left=i>0&&0>=h?e:h>i?e+f-b.collisionWidth:e:h>0?a.left+=h:i>0?a.left-=i:a.left=d(a.left-g,a.left)},top:function(a,b){var j,c=b.within,e=c.isWindow?c.scrollTop:c.offset.top,f=b.within.height,g=a.top-b.collisionPosition.marginTop,h=e-g,i=g+b.collisionHeight-f-e;b.collisionHeight>f?h>0&&0>=i?(j=a.top+h+b.collisionHeight-f-e,a.top+=h-j):a.top=i>0&&0>=h?e:h>i?e+f-b.collisionHeight:e:h>0?a.top+=h:i>0?a.top-=i:a.top=d(a.top-g,a.top)}},flip:{left:function(a,b){var n,o,c=b.within,d=c.offset.left+c.scrollLeft,f=c.width,g=c.isWindow?c.scrollLeft:c.offset.left,h=a.left-b.collisionPosition.marginLeft,i=h-g,j=h+b.collisionWidth-f-g,k="left"===b.my[0]?-b.elemWidth:"right"===b.my[0]?b.elemWidth:0,l="left"===b.at[0]?b.targetWidth:"right"===b.at[0]?-b.targetWidth:0,m=-2*b.offset[0];0>i?(n=a.left+k+l+m+b.collisionWidth-f-d,(0>n||n<e(i))&&(a.left+=k+l+m)):j>0&&(o=a.left-b.collisionPosition.marginLeft+k+l+m-g,(o>0||e(o)<j)&&(a.left+=k+l+m))},top:function(a,b){var o,p,c=b.within,d=c.offset.top+c.scrollTop,f=c.height,g=c.isWindow?c.scrollTop:c.offset.top,h=a.top-b.collisionPosition.marginTop,i=h-g,j=h+b.collisionHeight-f-g,k="top"===b.my[1],l=k?-b.elemHeight:"bottom"===b.my[1]?b.elemHeight:0,m="top"===b.at[1]?b.targetHeight:"bottom"===b.at[1]?-b.targetHeight:0,n=-2*b.offset[1];0>i?(p=a.top+l+m+n+b.collisionHeight-f-d,a.top+l+m+n>i&&(0>p||p<e(i))&&(a.top+=l+m+n)):j>0&&(o=a.top-b.collisionPosition.marginTop+l+m+n-g,a.top+l+m+n>j&&(o>0||e(o)<j)&&(a.top+=l+m+n))}},flipfit:{left:function(){a.ui.position.flip.left.apply(this,arguments),a.ui.position.fit.left.apply(this,arguments)},top:function(){a.ui.position.flip.top.apply(this,arguments),a.ui.position.fit.top.apply(this,arguments)}}},function(){var b,c,d,e,f,g=document.getElementsByTagName("body")[0],h=document.createElement("div");b=document.createElement(g?"div":"body"),d={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},g&&a.extend(d,{position:"absolute",left:"-1000px",top:"-1000px"});for(f in d)b.style[f]=d[f];b.appendChild(h),c=g||document.documentElement,c.insertBefore(b,c.firstChild),h.style.cssText="position: absolute; left: 10.7432222px;",e=a(h).offset().left,a.support.offsetFractions=e>10&&11>e,b.innerHTML="",c.removeChild(b)}()}(b)}),ed.define("site/vendors/microplugin",["edjquery"],function(){var b={};b.mixin=function(a){a.plugins={},a.prototype.initializePlugins=function(a){var b,d,e,f=this,g=[];if(f.plugins={names:[],settings:{},requested:{},loaded:{}},c.isArray(a))for(b=0,d=a.length;d>b;b++)"string"==typeof a[b]?g.push(a[b]):(f.plugins.settings[a[b].name]=a[b].options,g.push(a[b].name));else if(a)for(e in a)a.hasOwnProperty(e)&&(f.plugins.settings[e]=a[e],g.push(e));for(;g.length;)f.require(g.shift())},a.prototype.loadPlugin=function(b){var c=this,d=c.plugins,e=a.plugins[b];if(!a.plugins.hasOwnProperty(b))throw new Error('Unable to find "'+b+'" plugin');d.requested[b]=!0,d.loaded[b]=e.fn.apply(c,[c.plugins.settings[b]||{}]),d.names.push(b)},a.prototype.require=function(a){var b=this,c=b.plugins;if(!b.plugins.loaded.hasOwnProperty(a)){if(c.requested[a])throw new Error('Plugin has circular dependency ("'+a+'")');b.loadPlugin(a)}return c.loaded[a]},a.define=function(b,c){a.plugins[b]={name:b,fn:c}}};var c={isArray:Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)}};return b}),ed.define("site/vendors/mmenu",["edjquery"],function(a){!function(a){function c(d){if(b[d])return b[d].exports;var e=b[d]={i:d,l:!1,exports:{}};return a[d].call(e.exports,e,e.exports,c),e.l=!0,e.exports}var b={};return c.m=a,c.c=b,c.d=function(a,b,d){c.o(a,b)||Object.defineProperty(a,b,{enumerable:!0,get:d})},c.r=function(a){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},c.t=function(a,b){if(1&b&&(a=c(a)),8&b)return a;if(4&b&&"object"==typeof a&&a&&a.__esModule)return a;var d=Object.create(null);if(c.r(d),Object.defineProperty(d,"default",{enumerable:!0,value:a}),2&b&&"string"!=typeof a)for(var e in a)c.d(d,e,function(b){return a[b]}.bind(null,e));return d},c.n=function(a){var b=a&&a.__esModule?function(){return a["default"]}:function(){return a};return c.d(b,"a",b),b},c.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},c.p="",c(c.s=0)}([function(a,b,c){"use strict";function i(a,b){"object"!=k(a)&&(a={}),"object"!=k(b)&&(b={});for(var c in b)b.hasOwnProperty(c)&&("undefined"==typeof a[c]?a[c]=b[c]:"object"==k(a[c])&&i(a[c],b[c]));return a}function j(a){var b="";return a.addEventListener("touchmove",function(a){b="",a.movementY>0?b="down":a.movementY<0&&(b="up")}),{get:function(){return b}}}function k(a){return{}.toString.call(a).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function l(a,b,c){if("function"==typeof b){var d=b.call(a);if("undefined"!=typeof d)return d}return null!==b&&"function"!=typeof b&&"undefined"!=typeof b||"undefined"==typeof c?b:c}function m(a,b,c){var d=!1,e=function(c){("undefined"==typeof c||c.target===a)&&(d||(a.removeEventListener("transitionend",e),a.removeEventListener("webkitTransitionEnd",e),b.call(a)),d=!0)};a.addEventListener("transitionend",e),a.addEventListener("webkitTransitionEnd",e),setTimeout(e,1.1*c)}function n(){return"mm-"+o++}function p(a){return"mm-"==a.slice(0,3)?a.slice(3):a}function r(a,b){"undefined"==typeof q[b]&&(q[b]={}),i(q[b],a)}function s(a,b){return"string"==typeof b&&"undefined"!=typeof q[b]?q[b][a]||a:a}function z(a){var b=a.split("."),c=document.createElement(b.shift());return b.forEach(function(a){c.classList.add(a)}),c}function A(a,b){return Array.prototype.slice.call(a.querySelectorAll(b))}function B(a,b){var c=Array.prototype.slice.call(a.children);return b?c.filter(function(a){return a.matches(b)}):c}function C(a){return Array.prototype.slice.call(a.childNodes).filter(function(a){return 3==a.nodeType}).map(function(a){return a.textContent}).join(" ")}function D(a,b){for(var c=[],d=a.parentElement;d;)c.push(d),d=d.parentElement;return b?c.filter(function(a){return a.matches(b)}):c}function E(a,b){for(var c=[],d=a.previousElementSibling;d;)(!b||d.matches(b))&&c.push(d),d=d.previousElementSibling;return c}function F(a,b){return a.getBoundingClientRect()[b]+document.body["left"===b?"scrollLeft":"scrollTop"]}function G(a){return a.filter(function(a){return!a.matches(".mm-hidden")})}function H(a){var b=[];return G(a).forEach(function(a){b.push.apply(b,B(a,"a.mm-listitem__text"))}),b.filter(function(a){return!a.matches(".mm-btn_next")})}function I(a,b,c){a.matches("."+b)&&(a.classList.remove(b),a.classList.add(c))}function K(a,b,c){"number"==typeof a&&(a="(min-width: "+a+"px)"),J[a]=J[a]||[],J[a].push({yes:b,no:c})}function L(){var a=function(a){var b=window.matchMedia(a);M(a,b),b.onchange=function(){M(a,b)}};for(var b in J)a(b)}function M(a,b){for(var c=b.matches?"yes":"no",d=0;d<J[a].length;d++)J[a][d][c]()}function R(a){return"object"!=typeof a&&(a={}),a}function U(a){return a?a.charAt(0).toUpperCase()+a.slice(1):""}function V(a,b,c){var d=b.split(".");b="mmEvent"+U(d[0])+U(d[1]),a[b]=a[b]||[],a[b].push(c),a.addEventListener(d[0],c)}function W(a,b){var c=b.split(".");b="mmEvent"+U(c[0])+U(c[1]),(a[b]||[]).forEach(function(b){a.removeEventListener(c[0],b)})}function X(a,b,c){var d=b.split(".");b="mmEvent"+U(d[0])+U(d[1]),(a[b]||[]).forEach(function(a){a(c||{})})}function bb(a){return"boolean"==typeof a&&(a={aria:a,text:a}),"object"!=typeof a&&(a={}),a}function mb(a){return"boolean"==typeof a&&(a={fix:a}),"object"!=typeof a&&(a={}),a}function rb(a){return"boolean"==typeof a&&a&&(a={height:"auto"}),"string"==typeof a&&(a={height:a}),"object"!=typeof a&&(a={}),a}function vb(a){return"boolean"==typeof a&&(a={close:a}),"object"!=typeof a&&(a={}),a}function zb(a){return"boolean"==typeof a&&(a={add:a}),"number"==typeof a&&(a={add:!0,visible:a}),"object"!=typeof a&&(a={}),"number"==typeof a.visible&&(a.visible={min:a.visible,max:a.visible}),a}function Db(a){return"boolean"==typeof a&&(a={add:a,addTo:"panels",count:a}),"object"!=typeof a&&(a={}),"panels"==a.addTo&&(a.addTo=".mm-listview"),a}function Hb(a){return"boolean"==typeof a&&(a={add:a}),"object"!=typeof a&&(a={}),"panels"==a.addTo&&(a.addTo=".mm-listview"),a}function Lb(a){return"boolean"==typeof a&&(a={open:a}),"object"!=typeof a&&(a={}),a}function ac(a){return"boolean"==typeof a&&a&&(a={drop:a}),"object"!=typeof a&&(a={}),"string"==typeof a.position&&(a.position={of:a.position}),a}function jc(a){return"array"==k(a)&&(a={use:!0,top:a}),"object"!=k(a)&&(a={}),"undefined"==typeof a.use&&(a.use=!0),"boolean"==typeof a.use&&a.use&&(a.use=!0),a}function nc(a){return"boolean"==typeof a&&(a={add:a}),("number"==typeof a||"string"==typeof a)&&(a={add:!0,visible:a}),"object"!=typeof a&&(a={}),a}function rc(a){return("boolean"==typeof a||"string"==typeof a)&&(a={enable:a}),"object"!=typeof a&&(a={}),a
}function wc(a){return"boolean"==typeof a&&(a={load:a}),"object"!=typeof a&&(a={}),a}function Ac(a){return"boolean"==typeof a&&a&&(a={}),"object"!=typeof a&&(a={}),"undefined"==typeof a.content&&(a.content=["prev","title"]),a.content instanceof Array||(a.content=[a.content]),"undefined"==typeof a.use&&(a.use=!0),"boolean"==typeof a.use&&a.use&&(a.use=!0),a}function Jc(){var a=this,b=this.opts.navbars;if("undefined"!=typeof b){b instanceof Array||(b=[b]);var c={};b.length&&(b.forEach(function(b){if(b=Ac(b),!b.use)return!1;var d=z("div.mm-navbar"),e=b.position;"bottom"!==e&&(e="top"),c[e]||(c[e]=z("div.mm-navbars_"+e)),c[e].append(d);for(var f=0,g=b.content.length;g>f;f++){var h=b.content[f];if("string"==typeof h){var i=Jc.navbarContents[h];if("function"==typeof i)i.call(a,d);else{var j=z("span");j.innerHTML=h;var k=B(j);1==k.length&&(j=k[0]),d.append(j)}}else d.append(h)}if("string"==typeof b.type){var i=Jc.navbarTypes[b.type];"function"==typeof i&&i.call(a,d)}var l=function(){d.classList.remove("mm-hidden"),O.sr_aria(d,"hidden",!1)},m=function(){d.classList.add("mm-hidden"),O.sr_aria(d,"hidden",!0)};"boolean"!=typeof b.use&&K(b.use,l,m)}),this.bind("initMenu:after",function(){for(var b in c)a.node.menu["bottom"==b?"append":"prepend"](c[b])}))}}function Mc(a){return"boolean"==typeof a&&(a={scroll:a}),"object"!=typeof a&&(a={}),a}function Sc(a){return"boolean"==typeof a&&(a={add:a}),"object"!=typeof a&&(a={}),"boolean"==typeof a.panel&&(a.panel={add:a.panel}),"object"!=typeof a.panel&&(a.panel={}),"panel"==a.addTo&&(a.panel.add=!0),a.panel.add&&(a.showSubPanels=!1,a.panel.splash&&(a.cancel=!0)),a}function fd(a){return"boolean"==typeof a&&(a={add:a}),"object"!=typeof a&&(a={}),a}function jd(a){return"boolean"==typeof a&&(a={hover:a,parent:a}),"object"!=typeof a&&(a={}),a}function nd(a){return("string"==typeof a||"boolean"==typeof a&&a||"number"==typeof a)&&(a={expanded:a}),"object"!=typeof a&&(a={}),"boolean"==typeof a.collapsed&&a.collapsed&&(a.collapsed={use:!0}),("string"==typeof a.collapsed||"number"==typeof a.collapsed)&&(a.collapsed={use:a.collapsed}),"object"!=typeof a.collapsed&&(a.collapsed={}),"boolean"==typeof a.expanded&&a.expanded&&(a.expanded={use:!0}),("string"==typeof a.expanded||"number"==typeof a.expanded)&&(a.expanded={use:a.expanded}),"object"!=typeof a.expanded&&(a.expanded={}),a}c.r(b);var d="8.5.3",e={hooks:{},extensions:[],wrappers:[],navbar:{add:!0,sticky:!0,title:"Menu",titleLink:"parent"},onClick:{close:null,preventDefault:null,setSelected:!0},slidingSubmenus:!0},f=e,g={classNames:{inset:"Inset",nolistview:"NoListview",nopanel:"NoPanel",panel:"Panel",selected:"Selected",vertical:"Vertical"},language:null,openingInterval:25,panelNodetype:["ul","ol","div"],transitionDuration:400},h=g,o=0,q={},u={Menu:"Menu"},v={Menu:"\u0645\u0646\u0648"},w={Menu:"Men\xfc"},x={Menu:"\u041c\u0435\u043d\u044e"},y=function(){r(u,"nl"),r(v,"fa"),r(w,"de"),r(x,"ru")},J={};y();var N=function(){function a(b,c,d){return this.opts=i(c,a.options),this.conf=i(d,a.configs),this._api=["bind","initPanel","initListview","openPanel","closePanel","closeAllPanels","setSelected"],this.node={},this.vars={},this.hook={},this.clck=[],this.node.menu="string"==typeof b?document.querySelector(b):b,"function"==typeof this._deprecatedWarnings&&this._deprecatedWarnings(),this._initWrappers(),this._initAddons(),this._initExtensions(),this._initHooks(),this._initAPI(),this._initMenu(),this._initPanels(),this._initOpened(),this._initAnchors(),L(),this}return a.prototype.openPanel=function(a,b){var c=this;if(this.trigger("openPanel:before",[a]),a&&(a.matches(".mm-panel")||(a=a.closest(".mm-panel")),a)){if("boolean"!=typeof b&&(b=!0),a.parentElement.matches(".mm-listitem_vertical")){D(a,".mm-listitem_vertical").forEach(function(a){a.classList.add("mm-listitem_opened"),B(a,".mm-panel").forEach(function(a){a.classList.remove("mm-hidden")})});var d=D(a,".mm-panel").filter(function(a){return!a.parentElement.matches(".mm-listitem_vertical")});this.trigger("openPanel:start",[a]),d.length&&this.openPanel(d[0]),this.trigger("openPanel:finish",[a])}else{if(a.matches(".mm-panel_opened"))return;var e=B(this.node.pnls,".mm-panel"),f=B(this.node.pnls,".mm-panel_opened")[0];e.filter(function(b){return b!==a}).forEach(function(a){a.classList.remove("mm-panel_opened-parent")});for(var g=a.mmParent;g;)g=g.closest(".mm-panel"),g&&(g.parentElement.matches(".mm-listitem_vertical")||g.classList.add("mm-panel_opened-parent"),g=g.mmParent);e.forEach(function(a){a.classList.remove("mm-panel_highest")}),e.filter(function(a){return a!==f}).filter(function(b){return b!==a}).forEach(function(a){a.classList.add("mm-hidden")}),a.classList.remove("mm-hidden");var h=function(){f&&f.classList.remove("mm-panel_opened"),a.classList.add("mm-panel_opened"),a.matches(".mm-panel_opened-parent")?(f&&f.classList.add("mm-panel_highest"),a.classList.remove("mm-panel_opened-parent")):(f&&f.classList.add("mm-panel_opened-parent"),a.classList.add("mm-panel_highest")),c.trigger("openPanel:start",[a])},i=function(){f&&(f.classList.remove("mm-panel_highest"),f.classList.add("mm-hidden")),a.classList.remove("mm-panel_highest"),c.trigger("openPanel:finish",[a])};b&&!a.matches(".mm-panel_noanimation")?setTimeout(function(){m(a,function(){i()},c.conf.transitionDuration),h()},this.conf.openingInterval):(h(),i())}this.trigger("openPanel:after",[a])}},a.prototype.closePanel=function(a){this.trigger("closePanel:before",[a]);var b=a.parentElement;b.matches(".mm-listitem_vertical")&&(b.classList.remove("mm-listitem_opened"),a.classList.add("mm-hidden"),this.trigger("closePanel",[a])),this.trigger("closePanel:after",[a])},a.prototype.closeAllPanels=function(a){this.trigger("closeAllPanels:before");var b=this.node.pnls.querySelectorAll(".mm-listitem");b.forEach(function(a){a.classList.remove("mm-listitem_selected"),a.classList.remove("mm-listitem_opened")});var c=B(this.node.pnls,".mm-panel"),d=a?a:c[0];B(this.node.pnls,".mm-panel").forEach(function(a){a!==d&&(a.classList.remove("mm-panel_opened"),a.classList.remove("mm-panel_opened-parent"),a.classList.remove("mm-panel_highest"),a.classList.add("mm-hidden"))}),this.openPanel(d,!1),this.trigger("closeAllPanels:after")},a.prototype.togglePanel=function(a){var b=a.parentElement;b.matches(".mm-listitem_vertical")&&this[b.matches(".mm-listitem_opened")?"closePanel":"openPanel"](a)},a.prototype.setSelected=function(a){this.trigger("setSelected:before",[a]),A(this.node.menu,".mm-listitem_selected").forEach(function(a){a.classList.remove("mm-listitem_selected")}),a.classList.add("mm-listitem_selected"),this.trigger("setSelected:after",[a])},a.prototype.bind=function(a,b){this.hook[a]=this.hook[a]||[],this.hook[a].push(b)},a.prototype.trigger=function(a,b){if(this.hook[a])for(var c=0,d=this.hook[a].length;d>c;c++)this.hook[a][c].apply(this,b)},a.prototype._initAPI=function(){var a=this,b=this;this.API={},this._api.forEach(function(c){a.API[c]=function(){var a=b[c].apply(b,arguments);return"undefined"==typeof a?b.API:a}}),this.node.menu.mmApi=this.API},a.prototype._initHooks=function(){for(var a in this.opts.hooks)this.bind(a,this.opts.hooks[a])},a.prototype._initWrappers=function(){this.trigger("initWrappers:before");for(var b=0;b<this.opts.wrappers.length;b++){var c=a.wrappers[this.opts.wrappers[b]];"function"==typeof c&&c.call(this)}this.trigger("initWrappers:after")},a.prototype._initAddons=function(){this.trigger("initAddons:before");for(var b in a.addons)a.addons[b].call(this);this.trigger("initAddons:after")},a.prototype._initExtensions=function(){var a=this;this.trigger("initExtensions:before"),"array"==k(this.opts.extensions)&&(this.opts.extensions={all:this.opts.extensions}),Object.keys(this.opts.extensions).forEach(function(b){var c=a.opts.extensions[b].map(function(a){return"mm-menu_"+a});c.length&&K(b,function(){c.forEach(function(b){a.node.menu.classList.add(b)})},function(){c.forEach(function(b){a.node.menu.classList.remove(b)})})}),this.trigger("initExtensions:after")},a.prototype._initMenu=function(){var a=this;this.trigger("initMenu:before"),this.node.wrpr=this.node.wrpr||this.node.menu.parentElement,this.node.wrpr.classList.add("mm-wrapper"),this.node.menu.id=this.node.menu.id||n();var b=z("div.mm-panels");B(this.node.menu).forEach(function(c){a.conf.panelNodetype.indexOf(c.nodeName.toLowerCase())>-1&&b.append(c)}),this.node.menu.append(b),this.node.pnls=b,this.node.menu.classList.add("mm-menu"),this.trigger("initMenu:after")},a.prototype._initPanels=function(){var a=this;this.trigger("initPanels:before"),this.clck.push(function(b,c){if(c.inMenu){var d=b.getAttribute("href");if(d&&d.length>1&&"#"==d.slice(0,1))try{var e=A(a.node.menu,d)[0];if(e&&e.matches(".mm-panel"))return b.parentElement.matches(".mm-listitem_vertical")?a.togglePanel(e):a.openPanel(e),!0}catch(f){}}});var b=B(this.node.pnls);b.forEach(function(b){a.initPanel(b)}),this.trigger("initPanels:after")},a.prototype.initPanel=function(a){var b=this,c=this.conf.panelNodetype.join(", ");if(a.matches(c)&&(a.matches(".mm-panel")||(a=this._initPanel(a)),a)){var d=[];d.push.apply(d,B(a,"."+this.conf.classNames.panel)),B(a,".mm-listview").forEach(function(a){B(a,".mm-listitem").forEach(function(a){d.push.apply(d,B(a,c))})}),d.forEach(function(a){b.initPanel(a)})}},a.prototype._initPanel=function(a){var b=this;if(this.trigger("initPanel:before",[a]),I(a,this.conf.classNames.panel,"mm-panel"),I(a,this.conf.classNames.nopanel,"mm-nopanel"),I(a,this.conf.classNames.inset,"mm-listview_inset"),a.matches(".mm-listview_inset")&&a.classList.add("mm-nopanel"),a.matches(".mm-nopanel"))return null;var c=a.id||n(),d=a.matches("."+this.conf.classNames.vertical)||!this.opts.slidingSubmenus;if(a.classList.remove(this.conf.classNames.vertical),a.matches("ul, ol")){a.removeAttribute("id");var e=z("div");a.before(e),e.append(a),a=e}a.id=c,a.classList.add("mm-panel"),a.classList.add("mm-hidden");var f=[a.parentElement].filter(function(a){return a.matches("li")})[0];if(d?f&&f.classList.add("mm-listitem_vertical"):this.node.pnls.append(a),f&&(f.mmChild=a,a.mmParent=f,f&&f.matches(".mm-listitem")&&!B(f,".mm-btn").length)){var g=B(f,".mm-listitem__text")[0];if(g){var h=z("a.mm-btn.mm-btn_next.mm-listitem__btn");h.setAttribute("href","#"+a.id),g.matches("span")?(h.classList.add("mm-listitem__text"),h.innerHTML=g.innerHTML,f.insertBefore(h,g.nextElementSibling),g.remove()):f.insertBefore(h,B(f,".mm-panel")[0])}}return this._initNavbar(a),B(a,"ul, ol").forEach(function(a){b.initListview(a)}),this.trigger("initPanel:after",[a]),a},a.prototype._initNavbar=function(a){if(this.trigger("initNavbar:before",[a]),!B(a,".mm-navbar").length){var b=null,c=null;if(a.getAttribute("data-mm-parent")?c=A(this.node.pnls,a.getAttribute("data-mm-parent"))[0]:(b=a.mmParent,b&&(c=b.closest(".mm-panel"))),!b||!b.matches(".mm-listitem_vertical")){var d=z("div.mm-navbar");if(this.opts.navbar.add?this.opts.navbar.sticky&&d.classList.add("mm-navbar_sticky"):d.classList.add("mm-hidden"),c){var e=z("a.mm-btn.mm-btn_prev.mm-navbar__btn");e.setAttribute("href","#"+c.id),d.append(e)}var f=null;b?f=B(b,".mm-listitem__text")[0]:c&&(f=A(c,'a[href="#'+a.id+'"]')[0]);var g=z("a.mm-navbar__title"),h=z("span");switch(g.append(h),h.innerHTML=a.getAttribute("data-mm-title")||(f?f.textContent:"")||this.i18n(this.opts.navbar.title)||this.i18n("Menu"),this.opts.navbar.titleLink){case"anchor":f&&g.setAttribute("href",f.getAttribute("href"));break;case"parent":c&&g.setAttribute("href","#"+c.id)}d.append(g),a.prepend(d),this.trigger("initNavbar:after",[a])}}},a.prototype.initListview=function(a){var b=this;this.trigger("initListview:before",[a]),I(a,this.conf.classNames.nolistview,"mm-nolistview"),a.matches(".mm-nolistview")||(a.classList.add("mm-listview"),B(a).forEach(function(a){a.classList.add("mm-listitem"),I(a,b.conf.classNames.selected,"mm-listitem_selected"),B(a,"a, span").forEach(function(a){a.matches(".mm-btn")||a.classList.add("mm-listitem__text")})})),this.trigger("initListview:after",[a])},a.prototype._initOpened=function(){this.trigger("initOpened:before");var a=this.node.pnls.querySelectorAll(".mm-listitem_selected"),b=null;a.forEach(function(a){b=a,a.classList.remove("mm-listitem_selected")}),b&&b.classList.add("mm-listitem_selected");var c=b?b.closest(".mm-panel"):B(this.node.pnls,".mm-panel")[0];this.openPanel(c,!1),this.trigger("initOpened:after")},a.prototype._initAnchors=function(){var a=this;this.trigger("initAnchors:before"),document.addEventListener("click",function(b){var c=b.target.closest("a[href]");if(c){for(var d={inMenu:c.closest(".mm-menu")===a.node.menu,inListview:c.matches(".mm-listitem > a"),toExternal:c.matches('[rel="external"]')||c.matches('[target="_blank"]')},e={close:null,setSelected:null,preventDefault:"#"==c.getAttribute("href").slice(0,1)},f=0;f<a.clck.length;f++){var g=a.clck[f].call(a,c,d);if(g){if("boolean"==typeof g)return b.preventDefault(),void 0;"object"==k(g)&&(e=i(g,e))}}d.inMenu&&d.inListview&&!d.toExternal&&(l(c,a.opts.onClick.setSelected,e.setSelected)&&a.setSelected(c.parentElement),l(c,a.opts.onClick.preventDefault,e.preventDefault)&&b.preventDefault(),l(c,a.opts.onClick.close,e.close)&&a.opts.offCanvas&&"function"==typeof a.close&&a.close())}},!0),this.trigger("initAnchors:after")},a.prototype.i18n=function(a){return s(a,this.conf.language)},a.version=d,a.options=f,a.configs=h,a.addons={},a.wrappers={},a.node={},a.vars={},a}(),O=N,P={blockUI:!0,moveBackground:!0},Q=P,S={clone:!1,menu:{insertMethod:"prepend",insertSelector:"body"},page:{nodetype:"div",selector:null,noSelector:[]}},T=S;O.options.offCanvas=Q,O.configs.offCanvas=T;var Y=function(){var a=this;if(this.opts.offCanvas){var b=R(this.opts.offCanvas);this.opts.offCanvas=i(b,O.options.offCanvas);var c=this.conf.offCanvas;this._api.push("open","close","setPage"),this.vars.opened=!1,this.bind("initMenu:before",function(){c.clone&&(a.node.menu=a.node.menu.cloneNode(!0),a.node.menu.id&&(a.node.menu.id="mm-"+a.node.menu.id),A(a.node.menu,"[id]").forEach(function(a){a.id="mm-"+a.id})),a.node.wrpr=document.body,document.querySelector(c.menu.insertSelector)[c.menu.insertMethod](a.node.menu)}),this.bind("initMenu:after",function(){$.call(a),a.setPage(O.node.page),Z.call(a),a.node.menu.classList.add("mm-menu_offcanvas");var b=window.location.hash;if(b){var c=p(a.node.menu.id);c&&c==b.slice(1)&&setTimeout(function(){a.open()},1e3)}}),this.bind("setPage:after",function(a){O.node.blck&&B(O.node.blck,"a").forEach(function(b){b.setAttribute("href","#"+a.id)})}),this.bind("open:start:sr-aria",function(){O.sr_aria(a.node.menu,"hidden",!1)}),this.bind("close:finish:sr-aria",function(){O.sr_aria(a.node.menu,"hidden",!0)}),this.bind("initMenu:after:sr-aria",function(){O.sr_aria(a.node.menu,"hidden",!0)}),this.bind("initBlocker:after:sr-text",function(){B(O.node.blck,"a").forEach(function(b){b.innerHTML=O.sr_text(a.i18n(a.conf.screenReader.text.closeMenu))})}),this.clck.push(function(b,c){var d=p(a.node.menu.id);if(d&&b.matches('[href="#'+d+'"]')){if(c.inMenu)return a.open(),!0;var e=b.closest(".mm-menu");if(e){var f=e.mmApi;if(f&&f.close)return f.close(),m(e,function(){a.open()},a.conf.transitionDuration),!0}return a.open(),!0}return d=O.node.page.id,d&&b.matches('[href="#'+d+'"]')?(a.close(),!0):void 0})}};O.prototype.open=function(){var a=this;this.trigger("open:before"),this.vars.opened||(this._openSetup(),setTimeout(function(){a._openStart()},this.conf.openingInterval),this.trigger("open:after"))},O.prototype._openSetup=function(){var a=this,b=this.opts.offCanvas;this.closeAllOthers(),O.node.page.mmStyle=O.node.page.getAttribute("style")||"",X(window,"resize.page",{force:!0});var c=["mm-wrapper_opened"];b.blockUI&&c.push("mm-wrapper_blocking"),"modal"==b.blockUI&&c.push("mm-wrapper_modal"),b.moveBackground&&c.push("mm-wrapper_background"),c.forEach(function(b){a.node.wrpr.classList.add(b)}),setTimeout(function(){a.vars.opened=!0},this.conf.openingInterval),this.node.menu.classList.add("mm-menu_opened")},O.prototype._openStart=function(){var a=this;m(O.node.page,function(){a.trigger("open:finish")},this.conf.transitionDuration),this.trigger("open:start"),this.node.wrpr.classList.add("mm-wrapper_opening")},O.prototype.close=function(){var a=this;this.trigger("close:before"),this.vars.opened&&(m(O.node.page,function(){a.node.menu.classList.remove("mm-menu_opened");var b=["mm-wrapper_opened","mm-wrapper_blocking","mm-wrapper_modal","mm-wrapper_background"];b.forEach(function(b){a.node.wrpr.classList.remove(b)}),O.node.page.setAttribute("style",O.node.page.mmStyle),a.vars.opened=!1,a.trigger("close:finish")},this.conf.transitionDuration),this.trigger("close:start"),this.node.wrpr.classList.remove("mm-wrapper_opening"),this.trigger("close:after"))},O.prototype.closeAllOthers=function(){var a=this;A(document.body,".mm-menu_offcanvas").forEach(function(b){if(b!==a.node.menu){var c=b.mmApi;c&&c.close&&c.close()}})},O.prototype.setPage=function(a){this.trigger("setPage:before",[a]);var b=this.conf.offCanvas;if(!a){var c="string"==typeof b.page.selector?A(document.body,b.page.selector):B(document.body,b.page.nodetype);if(c=c.filter(function(a){return!a.matches(".mm-menu, .mm-wrapper__blocker")}),b.page.noSelector.length&&(c=c.filter(function(a){return!a.matches(b.page.noSelector.join(", "))})),c.length>1){var d=z("div");c[0].before(d),c.forEach(function(a){d.append(a)}),c=[d]}a=c[0]}a.classList.add("mm-page"),a.classList.add("mm-slideout"),a.id=a.id||n(),O.node.page=a,this.trigger("setPage:after",[a])};var Z=function(){var a=this;W(document.body,"keydown.tabguard"),V(document.body,"keydown.tabguard",function(b){9==b.keyCode&&a.node.wrpr.matches(".mm-wrapper_opened")&&b.preventDefault()})},$=function(){var a=this;this.trigger("initBlocker:before");var b=this.opts.offCanvas,c=this.conf.offCanvas;if(b.blockUI){if(!O.node.blck){var d=z("div.mm-wrapper__blocker.mm-slideout");d.innerHTML="<a></a>",document.querySelector(c.menu.insertSelector).append(d),O.node.blck=d}var e=function(b){b.preventDefault(),b.stopPropagation(),a.node.wrpr.matches(".mm-wrapper_modal")||a.close()};O.node.blck.addEventListener("mousedown",e),O.node.blck.addEventListener("touchstart",e),O.node.blck.addEventListener("touchmove",e),this.trigger("initBlocker:after")}},_={aria:!0,text:!0},ab=_,cb={text:{closeMenu:"Close menu",closeSubmenu:"Close submenu",openSubmenu:"Open submenu",toggleSubmenu:"Toggle submenu"}},db=cb,eb={"Close menu":"Menu sluiten","Close submenu":"Submenu sluiten","Open submenu":"Submenu openen","Toggle submenu":"Submenu wisselen"},fb={"Close menu":"\u0628\u0633\u062a\u0646 \u0645\u0646\u0648","Close submenu":"\u0628\u0633\u062a\u0646 \u0632\u06cc\u0631\u0645\u0646\u0648","Open submenu":"\u0628\u0627\u0632\u06a9\u0631\u062f\u0646 \u0632\u06cc\u0631\u0645\u0646\u0648","Toggle submenu":"\u0633\u0648\u06cc\u06cc\u0686 \u0632\u06cc\u0631\u0645\u0646\u0648"},gb={"Close menu":"Men\xfc schlie\xdfen","Close submenu":"Untermen\xfc schlie\xdfen","Open submenu":"Untermen\xfc \xf6ffnen","Toggle submenu":"Untermen\xfc wechseln"},hb={"Close menu":"\u0417\u0430\u043a\u0440\u044b\u0442\u044c \u043c\u0435\u043d\u044e","Close submenu":"\u0417\u0430\u043a\u0440\u044b\u0442\u044c \u043f\u043e\u0434\u043c\u0435\u043d\u044e","Open submenu":"\u041e\u0442\u043a\u0440\u044b\u0442\u044c \u043f\u043e\u0434\u043c\u0435\u043d\u044e","Toggle submenu":"\u041f\u0435\u0440\u0435\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u043f\u043e\u0434\u043c\u0435\u043d\u044e"},ib=function(){r(eb,"nl"),r(fb,"fa"),r(gb,"de"),r(hb,"ru")};ib(),O.options.screenReader=ab,O.configs.screenReader=db;var jb=function(){var a=this,b=bb(this.opts.screenReader);this.opts.screenReader=i(b,O.options.screenReader);var c=this.conf.screenReader;b.aria&&(this.bind("initAddons:after",function(){a.bind("initMenu:after",function(){this.trigger("initMenu:after:sr-aria",[].slice.call(arguments))}),a.bind("initNavbar:after",function(){this.trigger("initNavbar:after:sr-aria",[].slice.call(arguments))}),a.bind("openPanel:start",function(){this.trigger("openPanel:start:sr-aria",[].slice.call(arguments))}),a.bind("close:start",function(){this.trigger("close:start:sr-aria",[].slice.call(arguments))}),a.bind("close:finish",function(){this.trigger("close:finish:sr-aria",[].slice.call(arguments))}),a.bind("open:start",function(){this.trigger("open:start:sr-aria",[].slice.call(arguments))}),a.bind("initOpened:after",function(){this.trigger("initOpened:after:sr-aria",[].slice.call(arguments))})}),this.bind("updateListview",function(){a.node.pnls.querySelectorAll(".mm-listitem").forEach(function(a){O.sr_aria(a,"hidden",a.matches(".mm-hidden"))})}),this.bind("openPanel:start",function(b){var c=A(a.node.pnls,".mm-panel").filter(function(a){return a!==b}).filter(function(a){return!a.parentElement.matches(".mm-panel")}),d=[b];A(b,".mm-listitem_vertical .mm-listitem_opened").forEach(function(a){d.push.apply(d,B(a,".mm-panel"))}),c.forEach(function(a){O.sr_aria(a,"hidden",!0)}),d.forEach(function(a){O.sr_aria(a,"hidden",!1)})}),this.bind("closePanel",function(a){O.sr_aria(a,"hidden",!0)}),this.bind("initPanel:after",function(a){A(a,".mm-btn").forEach(function(a){O.sr_aria(a,"haspopup",!0);var b=a.getAttribute("href");b&&O.sr_aria(a,"owns",b.replace("#",""))})}),this.bind("initNavbar:after",function(a){var b=B(a,".mm-navbar")[0],c=b.matches(".mm-hidden");O.sr_aria(b,"hidden",c)}),b.text&&"parent"==this.opts.navbar.titleLink&&this.bind("initNavbar:after",function(a){var b=B(a,".mm-navbar")[0],c=b.querySelector(".mm-btn_prev")?!0:!1;O.sr_aria(A(b,".mm-navbar__title")[0],"hidden",c)})),b.text&&(this.bind("initAddons:after",function(){a.bind("setPage:after",function(){this.trigger("setPage:after:sr-text",[].slice.call(arguments))}),a.bind("initBlocker:after",function(){this.trigger("initBlocker:after:sr-text",[].slice.call(arguments))})}),this.bind("initNavbar:after",function(b){var d=B(b,".mm-navbar")[0];if(d){var e=B(d,".mm-btn_prev")[0];e&&(e.innerHTML=O.sr_text(a.i18n(c.text.closeSubmenu)))}}),this.bind("initListview:after",function(b){var d=b.closest(".mm-panel").mmParent;if(d){var e=B(d,".mm-btn_next")[0];if(e){var f=a.i18n(c.text[e.parentElement.matches(".mm-listitem_vertical")?"toggleSubmenu":"openSubmenu"]);e.innerHTML+=O.sr_text(f)}}}))};!function(){var a=function(a,b,c){a[b]=c,c?a.setAttribute(b,c.toString()):a.removeAttribute(b)};O.sr_aria=function(b,c,d){a(b,"aria-"+c,d)},O.sr_role=function(b,c){a(b,"role",c)},O.sr_text=function(a){return'<span class="mm-sronly">'+a+"</span>"}}();var kb={fix:!0},lb=kb,nb="ontouchstart"in window||(navigator.msMaxTouchPoints?!0:!1)||!1;O.options.scrollBugFix=lb;var ob=function(){function d(a){a.preventDefault(),a.stopPropagation()}var a=this;if(nb&&this.opts.offCanvas&&this.opts.offCanvas.blockUI){var b=mb(this.opts.scrollBugFix);if(this.opts.scrollBugFix=i(b,O.options.scrollBugFix),b.fix){var c=j(this.node.menu);this.node.menu.addEventListener("scroll",d,{passive:!1}),this.node.menu.addEventListener("touchmove",function(a){var b=a.target.closest(".mm-panel");b?b.scrollHeight===b.offsetHeight?d(a):(0==b.scrollTop&&"down"==c.get()||b.scrollHeight==b.scrollTop+b.offsetHeight&&"up"==c.get())&&d(a):d(a)},{passive:!1}),this.bind("open:start",function(){var b=B(a.node.pnls,".mm-panel_opened")[0];b&&(b.scrollTop=0)}),window.addEventListener("orientationchange",function(){var c=B(a.node.pnls,".mm-panel_opened")[0];c&&(c.scrollTop=0,c.style["-webkit-overflow-scrolling"]="auto",c.style["-webkit-overflow-scrolling"]="touch")})}}},pb={height:"default"},qb=pb;O.options.autoHeight=qb;var sb=function(){var a=this,b=rb(this.opts.autoHeight);if(this.opts.autoHeight=i(b,O.options.autoHeight),"auto"==b.height||"highest"==b.height){var c=function(){var c=function(){var b=B(a.node.pnls,".mm-panel_opened")[0];return b&&(b=e(b)),b||(b=B(a.node.pnls,".mm-panel")[0]),b.scrollHeight},d=function(){var b=0;return B(a.node.pnls,".mm-panel").forEach(function(a){a=e(a),b=Math.max(b,a.scrollHeight)}),b},e=function(a){return a.parentElement.matches(".mm-listitem_vertical")&&(a=D(a,".mm-panel").filter(function(a){return!a.parentElement.matches(".mm-listitem_vertical")})[0]),a};return function(){if(!a.opts.offCanvas||a.vars.opened){var e=0,f=a.node.menu.offsetHeight-a.node.pnls.offsetHeight;a.node.menu.classList.add("mm-menu_autoheight-measuring"),"auto"==b.height?e=c():"highest"==b.height&&(e=d()),a.node.menu.style.height=e+f+"px",a.node.menu.classList.remove("mm-menu_autoheight-measuring")}}}();this.bind("initMenu:after",function(){a.node.menu.classList.add("mm-menu_autoheight")}),this.opts.offCanvas&&this.bind("open:start",c),"highest"==b.height&&this.bind("initPanels:after",c),"auto"==b.height&&(this.bind("updateListview",c),this.bind("openPanel:start",c))}},tb={close:!1,open:!1},ub=tb;O.options.backButton=ub;var wb=function(){var a=this;if(this.opts.offCanvas){var b=vb(this.opts.backButton);this.opts.backButton=i(b,O.options.backButton);var c="#"+this.node.menu.id;if(b.close){var d=[],e=function(){d=[c],B(a.node.pnls,".mm-panel_opened, .mm-panel_opened-parent").forEach(function(a){d.push("#"+a.id)})};this.bind("open:finish",function(){history.pushState(null,document.title,c)}),this.bind("open:finish",e),this.bind("openPanel:finish",e),this.bind("close:finish",function(){d=[],history.back(),history.pushState(null,document.title,location.pathname+location.search)}),window.addEventListener("popstate",function(){if(a.vars.opened&&d.length){d=d.slice(0,-1);var e=d[d.length-1];e==c?a.close():(a.openPanel(a.node.menu.querySelector(e)),history.pushState(null,document.title,c))}})}b.open&&window.addEventListener("popstate",function(){a.vars.opened||location.hash!=c||a.open()})}},xb={add:!1,visible:{min:1,max:3}},yb=xb;O.options.columns=yb;var Ab=function(){var a=this,b=zb(this.opts.columns);if(this.opts.columns=i(b,O.options.columns),b.add){b.visible.min=Math.max(1,Math.min(6,b.visible.min)),b.visible.max=Math.max(b.visible.min,Math.min(6,b.visible.max));for(var c=[],d=[],e=["mm-panel_opened","mm-panel_opened-parent","mm-panel_highest"],f=0;f<=b.visible.max;f++)c.push("mm-menu_columns-"+f),d.push("mm-panel_columns-"+f);e.push.apply(e,d),this.bind("openPanel:before",function(b){var c;if(b&&(c=b.mmParent),c&&(c=c.closest(".mm-panel"))){var d=c.className;if(d.length&&(d=d.split("mm-panel_columns-")[1]))for(var f=parseInt(d.split(" ")[0],10)+1;f>0;){if(b=B(a.node.pnls,".mm-panel_columns-"+f)[0],!b){f=-1;break}f++,b.classList.add("mm-hidden"),e.forEach(function(a){b.classList.remove(a)})}}}),this.bind("openPanel:start",function(e){var f=B(a.node.pnls,".mm-panel_opened-parent").length;e.matches(".mm-panel_opened-parent")||f++,f=Math.min(b.visible.max,Math.max(b.visible.min,f)),c.forEach(function(b){a.node.menu.classList.remove(b)}),a.node.menu.classList.add("mm-menu_columns-"+f);var g=[];B(a.node.pnls,".mm-panel").forEach(function(a){d.forEach(function(b){a.classList.remove(b)}),a.matches(".mm-panel_opened-parent")&&g.push(a)}),g.push(e),g.slice(-b.visible.max).forEach(function(a,b){a.classList.add("mm-panel_columns-"+b)})})}},Bb={add:!1,addTo:"panels",count:!1},Cb=Bb;O.options.counters=Cb,O.configs.classNames.counters={counter:"Counter"};var Eb=function(){var a=this,b=Db(this.opts.counters);if(this.opts.counters=i(b,O.options.counters),this.bind("initListview:after",function(b){var c=a.conf.classNames.counters.counter,d=A(b,"."+c);d.forEach(function(a){I(a,c,"mm-counter")})}),b.add&&this.bind("initListview:after",function(a){if(a.matches(b.addTo)){var c=a.closest(".mm-panel").mmParent;if(c&&!A(c,".mm-counter").length){var d=B(c,".mm-btn")[0];d&&d.prepend(z("span.mm-counter"))}}}),b.count){var c=function(b){var c=b?[b.closest(".mm-panel")]:B(a.node.pnls,".mm-panel");c.forEach(function(a){var b=a.mmParent;if(b){var c=A(b,".mm-counter")[0];if(c){var d=[];B(a,".mm-listview").forEach(function(a){d.push.apply(d,B(a))}),c.innerHTML=G(d).length.toString()}}})};this.bind("initListview:after",c),this.bind("updateListview",c)}},Fb={add:!1,addTo:"panels"},Gb=Fb;O.options.dividers=Gb,O.configs.classNames.divider="Divider";var Ib=function(){var a=this,b=Hb(this.opts.dividers);this.opts.dividers=i(b,O.options.dividers),this.bind("initListview:after",function(b){B(b).forEach(function(b){I(b,a.conf.classNames.divider,"mm-divider"),b.matches(".mm-divider")&&b.classList.remove("mm-listitem")})}),b.add&&this.bind("initListview:after",function(a){if(a.matches(b.addTo)){A(a,".mm-divider").forEach(function(a){a.remove()});var c="",d=B(a);G(d).forEach(function(b){var d=B(b,".mm-listitem__text")[0].textContent.trim().toLowerCase()[0];if(d.length&&d!=c){c=d;var e=z("li.mm-divider");e.textContent=d,a.insertBefore(e,b)}})}})},Jb={open:!1,node:null},Kb=Jb,Mb="ontouchstart"in window||(navigator.msMaxTouchPoints?!0:!1)||!1,Nb={top:0,right:0,bottom:0,left:0},Ob={start:15,swipe:15},Pb={x:["Right","Left"],y:["Down","Up"]},Qb={inactive:0,watching:1,dragging:2},Rb=function(a,b){return"string"==typeof a&&"%"==a.slice(-1)&&(a=parseInt(a.slice(0,-1),10),a=b*(a/100)),a},Sb=function(){function a(a,b,c){this.surface=a,this.area=i(b,Nb),this.treshold=i(c,Ob),this.surface.mmHasDragEvents||(this.surface.addEventListener(Mb?"touchstart":"mousedown",this.start.bind(this)),this.surface.addEventListener(Mb?"touchend":"mouseup",this.stop.bind(this)),this.surface.addEventListener(Mb?"touchleave":"mouseleave",this.stop.bind(this)),this.surface.addEventListener(Mb?"touchmove":"mousemove",this.move.bind(this))),this.surface.mmHasDragEvents=!0}return a.prototype.start=function(a){this.currentPosition={x:a.touches?a.touches[0].pageX:a.pageX||0,y:a.touches?a.touches[0].pageY:a.pageY||0};var b=this.surface.clientWidth,c=this.surface.clientHeight,d=Rb(this.area.top,c);if(!("number"==typeof d&&this.currentPosition.y<d)){var e=Rb(this.area.right,b);if(!("number"==typeof e&&(e=b-e,this.currentPosition.x>e))){var f=Rb(this.area.bottom,c);if(!("number"==typeof f&&(f=c-f,this.currentPosition.y>f))){var g=Rb(this.area.left,b);"number"==typeof g&&this.currentPosition.x<g||(this.startPosition={x:this.currentPosition.x,y:this.currentPosition.y},this.state=Qb.watching)}}}},a.prototype.stop=function(){if(this.state==Qb.dragging){var b=this._dragDirection(),c=this._eventDetail(b);if(this._dispatchEvents("drag*End",c),Math.abs(this.movement[this.axis])>this.treshold.swipe){var d=this._swipeDirection();c.direction=d,this._dispatchEvents("swipe*",c)}}this.state=Qb.inactive},a.prototype.move=function(a){switch(this.state){case Qb.watching:case Qb.dragging:var b={x:a.changedTouches?a.touches[0].pageX:a.pageX||0,y:a.changedTouches?a.touches[0].pageY:a.pageY||0};this.movement={x:b.x-this.currentPosition.x,y:b.y-this.currentPosition.y},this.distance={x:b.x-this.startPosition.x,y:b.y-this.startPosition.y},this.currentPosition={x:b.x,y:b.y},this.axis=Math.abs(this.distance.x)>Math.abs(this.distance.y)?"x":"y";var c=this._dragDirection(),d=this._eventDetail(c);this.state==Qb.watching&&Math.abs(this.distance[this.axis])>this.treshold.start&&(this._dispatchEvents("drag*Start",d),this.state=Qb.dragging),this.state==Qb.dragging&&this._dispatchEvents("drag*Move",d)}},a.prototype._eventDetail=function(a){var b=this.distance.x,c=this.distance.y;return"x"==this.axis&&(b-=b>0?this.treshold.start:0-this.treshold.start),"y"==this.axis&&(c-=c>0?this.treshold.start:0-this.treshold.start),{axis:this.axis,direction:a,movementX:this.movement.x,movementY:this.movement.y,distanceX:b,distanceY:c}},a.prototype._dispatchEvents=function(a,b){var c=new CustomEvent(a.replace("*",""),{detail:b});this.surface.dispatchEvent(c);var d=new CustomEvent(a.replace("*",this.axis.toUpperCase()),{detail:b});this.surface.dispatchEvent(d);var e=new CustomEvent(a.replace("*",b.direction),{detail:b});this.surface.dispatchEvent(e)},a.prototype._dragDirection=function(){return Pb[this.axis][this.distance[this.axis]>0?0:1]},a.prototype._swipeDirection=function(){return Pb[this.axis][this.movement[this.axis]>0?0:1]},a}(),Tb=Sb,Ub=null,Vb=null,Wb=0,Xb=function(a){var b=this,c={},d=!1,e=function(){Vb&&(V(Vb,"dragStart",function(a){a.detail.direction==c.direction&&(d=!0,b.node.wrpr.classList.add("mm-wrapper_dragging"),b._openSetup(),b.trigger("open:start"),Wb=b.node.menu["x"==c.axis?"clientWidth":"clientHeight"])
}),V(Vb,"dragMove",function(a){if(a.detail.axis==c.axis&&d){var b=a.detail["distance"+c.axis.toUpperCase()];switch(c.position){case"right":case"bottom":b=Math.min(Math.max(b,-Wb),0);break;default:b=Math.max(Math.min(b,Wb),0)}if("front"==c.zposition)switch(c.position){case"right":case"bottom":b+=Wb;break;default:b-=Wb}c.slideOutNodes.forEach(function(a){a.style.transform="translate"+c.axis.toUpperCase()+"("+b+"px)"})}}),V(Vb,"dragEnd",function(a){if(a.detail.axis==c.axis&&d){d=!1,b.node.wrpr.classList.remove("mm-wrapper_dragging"),c.slideOutNodes.forEach(function(a){a.style.transform=""});var e=Math.abs(a.detail["distance"+c.axis.toUpperCase()])>=.75*Wb;if(!e){var f=a.detail["movement"+c.axis.toUpperCase()];switch(c.position){case"right":case"bottom":e=0>=f;break;default:e=f>=0}}e?b._openStart():b.close()}}))},f=function(){Vb&&(W(Vb,"dragStart"),W(Vb,"dragMove"),W(Vb,"dragEnd"))},g=function(){var a=Object.keys(b.opts.extensions);a.length?(K(a.join(", "),function(){},function(){c=Yb(c,[],b.node.menu)}),a.forEach(function(a){K(a,function(){c=Yb(c,b.opts.extensions[a],b.node.menu)},function(){})})):c=Yb(c,[],b.node.menu)};f(),Vb=a,Ub=new Tb(Vb),g(),g=function(){},e()},Yb=function(a,b,c){switch(a.position="left",a.zposition="back",["right","top","bottom"].forEach(function(c){b.indexOf("position-"+c)>-1&&(a.position=c)}),["front","top","bottom"].forEach(function(c){b.indexOf("position-"+c)>-1&&(a.zposition="front")}),Ub.area={top:"bottom"==a.position?"75%":0,right:"left"==a.position?"75%":0,bottom:"top"==a.position?"75%":0,left:"right"==a.position?"75%":0},a.position){case"top":case"bottom":a.axis="y";break;default:a.axis="x"}switch(a.position){case"top":a.direction="Down";break;case"right":a.direction="Left";break;case"bottom":a.direction="Up";break;default:a.direction="Right"}switch(a.zposition){case"front":a.slideOutNodes=[c];break;default:a.slideOutNodes=A(document.body,".mm-slideout")}return a};O.options.drag=Kb;var Zb=function(){var a=this;if(this.opts.offCanvas){var b=Lb(this.opts.drag);this.opts.drag=i(b,O.options.drag),b.open&&this.bind("setPage:after",function(c){Xb.call(a,b.node||c)})}},$b={drop:!1,fitViewport:!0,event:"click",position:{},tip:!0},_b=$b,bc={offset:{button:{x:-5,y:5},viewport:{x:20,y:20}},height:{max:880},width:{max:440}},cc=bc;O.options.dropdown=_b,O.configs.dropdown=cc;var dc=function(){function f(){var a=this;if(this.vars.opened){this.node.menu.setAttribute("style",this.node.menu.mmStyle);var c=[{},[]];c=e.call(this,"y",c),c=e.call(this,"x",c);for(var d in c[0])this.node.menu.style[d]=c[0][d];if(b.tip){var f=["mm-menu_tip-left","mm-menu_tip-right","mm-menu_tip-top","mm-menu_tip-bottom"];f.forEach(function(b){a.node.menu.classList.remove(b)}),c[1].forEach(function(b){a.node.menu.classList.add(b)})}}}var a=this;if(this.opts.offCanvas){var b=ac(this.opts.dropdown);this.opts.dropdown=i(b,O.options.dropdown);var c=this.conf.dropdown;if(b.drop){var d;this.bind("initMenu:after",function(){if(a.node.menu.classList.add("mm-menu_dropdown"),"string"!=typeof b.position.of){var c=p(a.node.menu.id);c&&(b.position.of='[href="#'+c+'"]')}if("string"==typeof b.position.of){d=A(document.body,b.position.of)[0];var e=b.event.split(" ");1==e.length&&(e[1]=e[0]),"hover"==e[0]&&d.addEventListener("mouseenter",function(){a.open()},{passive:!0}),"hover"==e[1]&&a.node.menu.addEventListener("mouseleave",function(){a.close()},{passive:!0})}}),this.bind("open:start",function(){a.node.menu.mmStyle=a.node.menu.getAttribute("style"),a.node.wrpr.classList.add("mm-wrapper_dropdown")}),this.bind("close:finish",function(){a.node.menu.setAttribute("style",a.node.menu.mmStyle),a.node.wrpr.classList.remove("mm-wrapper_dropdown")});var e=function(a,e){var f=e[0],g=e[1],h="x"==a?"offsetWidth":"offsetHeight",i="x"==a?"left":"top",j="x"==a?"right":"bottom",k="x"==a?"width":"height",l="x"==a?"innerWidth":"innerHeight",m="x"==a?"maxWidth":"maxHeight",n=null,o=F(d,i),p=o+d[h],q=window[l],r=c.offset.button[a]+c.offset.viewport[a];if(b.position[a])switch(b.position[a]){case"left":case"bottom":n="after";break;case"right":case"top":n="before"}null===n&&(n=q/2>o+(p-o)/2?"after":"before");var s,t;return"after"==n?(s="x"==a?o:p,t=q-(s+r),f[i]=s+c.offset.button[a]+"px",f[j]="auto",b.tip&&g.push("mm-menu_tip-"+("x"==a?"left":"top"))):(s="x"==a?p:o,t=s-r,f[j]="calc( 100% - "+(s-c.offset.button[a])+"px )",f[i]="auto",b.tip&&g.push("mm-menu_tip-"+("x"==a?"right":"bottom"))),b.fitViewport&&(f[m]=Math.min(c[k].max,t)+"px"),[f,g]};this.bind("open:start",f),window.addEventListener("resize",function(){f.call(a)},{passive:!0}),this.opts.offCanvas.blockUI||window.addEventListener("scroll",function(){f.call(a)},{passive:!0})}}},ec={insertMethod:"append",insertSelector:"body"},fc=ec;O.configs.fixedElements=fc,O.configs.classNames.fixedElements={fixed:"Fixed"};var gc=function(){var a=this;if(this.opts.offCanvas){var c,d,e,b=this.conf.fixedElements;this.bind("setPage:after",function(f){c=a.conf.classNames.fixedElements.fixed,e=A(document,b.insertSelector)[0],d=A(f,"."+c),d.forEach(function(a){I(a,c,"mm-slideout"),e[b.insertMethod](a)})})}},hc={use:!1,top:[],bottom:[],position:"left",type:"default"},ic=hc;O.options.iconbar=ic;var kc=function(){var a=this,b=jc(this.opts.iconbar);if(this.opts.iconbar=i(b,O.options.iconbar),b.use){var c;if(["top","bottom"].forEach(function(a){var e=b[a];"array"!=k(e)&&(e=[e]);for(var f=z("div.mm-iconbar__"+a),g=0,h=e.length;h>g;g++)"string"==typeof e[g]?f.innerHTML+=e[g]:f.append(e[g]);f.children.length&&(c||(c=z("div.mm-iconbar")),c.append(f))}),c){this.bind("initMenu:after",function(){a.node.menu.prepend(c)});var d="mm-menu_iconbar-"+b.position,e=function(){a.node.menu.classList.add(d),O.sr_aria(c,"hidden",!1)},f=function(){a.node.menu.classList.remove(d),O.sr_aria(c,"hidden",!0)};if("boolean"==typeof b.use?this.bind("initMenu:after",e):K(b.use,e,f),"tabs"==b.type){c.classList.add("mm-iconbar_tabs"),c.addEventListener("click",function(b){var c=b.target;if(c.matches("a")){if(c.matches(".mm-iconbar__tab_selected"))return b.stopImmediatePropagation(),void 0;try{var d=a.node.menu.querySelector(c.getAttribute("href"))[0];d&&d.matches(".mm-panel")&&(b.preventDefault(),b.stopImmediatePropagation(),a.openPanel(d,!1))}catch(e){}}});var g=function(a){A(c,"a").forEach(function(a){a.classList.remove("mm-iconbar__tab_selected")});var b=A(c,'[href="#'+a.id+'"]')[0];if(b)b.classList.add("mm-iconbar__tab_selected");else{var d=a.mmParent;d&&g(d.closest(".mm-panel"))}};this.bind("openPanel:start",g)}}}},lc={add:!1,blockPanel:!0,hideDivider:!1,hideNavbar:!0,visible:3},mc=lc;O.options.iconPanels=mc;var oc=function(){var a=this,b=nc(this.opts.iconPanels);this.opts.iconPanels=i(b,O.options.iconPanels);var c=!1;if("first"==b.visible&&(c=!0,b.visible=1),b.visible=Math.min(3,Math.max(1,b.visible)),b.visible++,b.add){this.bind("initMenu:after",function(){var c=["mm-menu_iconpanel"];b.hideNavbar&&c.push("mm-menu_hidenavbar"),b.hideDivider&&c.push("mm-menu_hidedivider"),c.forEach(function(b){a.node.menu.classList.add(b)})});var d=[];if(!c)for(var e=0;e<=b.visible;e++)d.push("mm-panel_iconpanel-"+e);this.bind("openPanel:start",function(e){var f=B(a.node.pnls,".mm-panel");if(e=e||f[0],!e.parentElement.matches(".mm-listitem_vertical"))if(c)f.forEach(function(a,b){a.classList[0==b?"add":"remove"]("mm-panel_iconpanel-first")});else{f.forEach(function(a){d.forEach(function(b){a.classList.remove(b)})}),f=f.filter(function(a){return a.matches(".mm-panel_opened-parent")});var g=!1;f.forEach(function(a){e===a&&(g=!0)}),g||f.push(e),f.forEach(function(a){a.classList.remove("mm-hidden")}),f=f.slice(-b.visible),f.forEach(function(a,b){a.classList.add("mm-panel_iconpanel-"+b)})}}),this.bind("initPanel:after",function(a){if(b.blockPanel&&!a.parentElement.matches(".mm-listitem_vertical")&&!B(a,".mm-panel__blocker")[0]){var c=z("a.mm-panel__blocker");c.setAttribute("href","#"+a.closest(".mm-panel").id),a.prepend(c)}})}},pc={enable:!1,enhance:!1},qc=pc;O.options.keyboardNavigation=qc;var sc=function(){var a=this;if(!nb){var b=rc(this.opts.keyboardNavigation);if(this.opts.keyboardNavigation=i(b,O.options.keyboardNavigation),b.enable){var c=z("button.mm-tabstart.mm-sronly"),d=z("button.mm-tabend.mm-sronly"),e=z("button.mm-tabend.mm-sronly");this.bind("initMenu:after",function(){b.enhance&&a.node.menu.classList.add("mm-menu_keyboardfocus"),tc.call(a,b.enhance)}),this.bind("initOpened:before",function(){a.node.menu.prepend(c),a.node.menu.append(d),B(a.node.menu,".mm-navbars-top, .mm-navbars-bottom").forEach(function(a){a.querySelectorAll(".mm-navbar__title").forEach(function(a){a.setAttribute("tabindex","-1")})})}),this.bind("initBlocker:after",function(){O.node.blck.append(e),B(O.node.blck,"a")[0].classList.add("mm-tabstart")});var f="input, select, textarea, button, label, a[href]",g=function(c){c=c||B(a.node.pnls,".mm-panel_opened")[0];var d=null,e=document.activeElement.closest(".mm-navbar");if(!e||e.closest(".mm-menu")!=a.node.menu){if("default"==b.enable&&(d=A(c,".mm-listview a[href]:not(.mm-hidden)")[0],d||(d=A(c,f+":not(.mm-hidden)")[0]),!d)){var g=[];B(a.node.menu,".mm-navbars_top, .mm-navbars_bottom").forEach(function(a){g.push.apply(g,A(a,f+":not(.mm-hidden)"))}),d=g[0]}d||(d=B(a.node.menu,".mm-tabstart")[0]),d&&d.focus()}};this.bind("open:finish",g),this.bind("openPanel:finish",g),this.bind("initOpened:after:sr-aria",function(){[a.node.menu,O.node.blck].forEach(function(a){B(a,".mm-tabstart, .mm-tabend").forEach(function(a){O.sr_aria(a,"hidden",!0),O.sr_role(a,"presentation")})})})}}},tc=function(a){var b=this;W(document.body,"keydown.tabguard"),W(document.body,"focusin.tabguard"),V(document.body,"focusin.tabguard",function(a){if(b.node.wrpr.matches(".mm-wrapper_opened")){var c=a.target;if(c.matches(".mm-tabend")){var d=void 0;c.parentElement.matches(".mm-menu")&&O.node.blck&&(d=O.node.blck),c.parentElement.matches(".mm-wrapper__blocker")&&(d=A(document.body,".mm-menu_offcanvas.mm-menu_opened")[0]),d||(d=c.parentElement),d&&B(d,".mm-tabstart")[0].focus()}}}),W(document.body,"keydown.navigate"),V(document.body,"keydown.navigate",function(b){var c=b.target,d=c.closest(".mm-menu");if(d){{d.mmApi}if(!c.matches("input, textarea"))switch(b.keyCode){case 13:(c.matches(".mm-toggle")||c.matches(".mm-check"))&&c.dispatchEvent(new Event("click"));break;case 32:case 37:case 38:case 39:case 40:b.preventDefault()}if(a)if(c.matches("input"))switch(b.keyCode){case 27:c.value=""}else{var f=d.mmApi;switch(b.keyCode){case 8:var g=A(d,".mm-panel_opened")[0].mmParent;g&&f.openPanel(g.closest(".mm-panel"));break;case 27:d.matches(".mm-menu_offcanvas")&&f.close()}}}})},uc={load:!1},vc=uc;O.options.lazySubmenus=vc;var xc=function(){var a=this,b=wc(this.opts.lazySubmenus);this.opts.lazySubmenus=i(b,O.options.lazySubmenus),b.load&&(this.bind("initMenu:after",function(){var b=[];A(a.node.pnls,"li").forEach(function(c){b.push.apply(b,B(c,a.conf.panelNodetype.join(", ")))}),b.filter(function(a){return!a.matches(".mm-listview_inset")}).filter(function(a){return!a.matches(".mm-nolistview")}).filter(function(a){return!a.matches(".mm-nopanel")}).forEach(function(a){var b=["mm-panel_lazysubmenu","mm-nolistview","mm-nopanel"];b.forEach(function(b){a.classList.add(b)})})}),this.bind("initPanels:before",function(){var b=B(a.node.pnls,a.conf.panelNodetype.join(", "));b.forEach(function(a){var b=".mm-panel_lazysubmenu",c=A(a,b);a.matches(b)&&c.unshift(a),c.filter(function(a){return!a.matches(".mm-panel_lazysubmenu .mm-panel_lazysubmenu")}).forEach(function(a){var b=["mm-panel_lazysubmenu","mm-nolistview","mm-nopanel"];b.forEach(function(b){a.classList.remove(b)})})})}),this.bind("initOpened:before",function(){var b=[];A(a.node.pnls,"."+a.conf.classNames.selected).forEach(function(a){b.push.apply(b,D(a,".mm-panel_lazysubmenu"))}),b.length&&(b.forEach(function(a){var b=["mm-panel_lazysubmenu","mm-nolistview","mm-nopanel"];b.forEach(function(b){a.classList.remove(b)})}),a.initPanel(b[b.length-1]))}),this.bind("openPanel:before",function(b){var c=".mm-panel_lazysubmenu",d=A(b,c);b.matches(c)&&d.unshift(b),d=d.filter(function(a){return!a.matches(".mm-panel_lazysubmenu .mm-panel_lazysubmenu")}),d.forEach(function(b){a.initPanel(b)})}))},yc=[],zc=yc,Bc={breadcrumbs:{separator:"/",removeFirst:!1}},Cc=Bc,Dc=function(a){var b=this,c=z("div.mm-navbar__breadcrumbs");a.append(c),this.bind("initNavbar:after",function(a){if(!a.querySelector(".mm-navbar__breadcrumbs")){B(a,".mm-navbar")[0].classList.add("mm-hidden");for(var c=[],d=z("span.mm-navbar__breadcrumbs"),e=a,f=!0;e;){if(e=e.closest(".mm-panel"),!e.parentElement.matches(".mm-listitem_vertical")){var g=A(e,".mm-navbar__title span")[0];if(g){var h=g.textContent;h.length&&c.unshift(f?"<span>"+h+"</span>":'<a href="#'+e.id+'">'+h+"</a>")}f=!1}e=e.mmParent}b.conf.navbars.breadcrumbs.removeFirst&&c.shift(),d.innerHTML=c.join('<span class="mm-separator">'+b.conf.navbars.breadcrumbs.separator+"</span>"),B(a,".mm-navbar")[0].append(d)}}),this.bind("openPanel:start",function(a){var b=a.querySelector(".mm-navbar__breadcrumbs");c.innerHTML=b?b.innerHTML:""}),this.bind("initNavbar:after:sr-aria",function(a){A(a,".mm-breadcrumbs a").forEach(function(a){O.sr_aria(a,"owns",a.getAttribute("href").slice(1))})})},Ec=function(a){var b=this,c=z("a.mm-btn.mm-btn_close.mm-navbar__btn");a.append(c),this.bind("setPage:after",function(a){c.setAttribute("href","#"+a.id)}),this.bind("setPage:after:sr-text",function(){c.innerHTML=O.sr_text(b.i18n(b.conf.screenReader.text.closeMenu)),O.sr_aria(c,"owns",c.getAttribute("href").slice(1))})},Fc=function(a){var b=this,c=z("a.mm-btn.mm-btn_prev.mm-navbar__btn");a.append(c),this.bind("initNavbar:after",function(a){B(a,".mm-navbar")[0].classList.add("mm-hidden")});var d,e,f;this.bind("openPanel:start",function(a){a.parentElement.matches(".mm-listitem_vertical")||(d=a.querySelector("."+b.conf.classNames.navbars.panelPrev),d||(d=a.querySelector(".mm-navbar__btn.mm-btn_prev")),e=d?d.getAttribute("href"):"",f=d?d.innerHTML:"",e?c.setAttribute("href",e):c.removeAttribute("href"),c.classList[e||f?"remove":"add"]("mm-hidden"),c.innerHTML=f)}),this.bind("initNavbar:after:sr-aria",function(a){O.sr_aria(a.querySelector(".mm-navbar"),"hidden",!0)}),this.bind("openPanel:start:sr-aria",function(){O.sr_aria(c,"hidden",c.matches(".mm-hidden")),O.sr_aria(c,"owns",(c.getAttribute("href")||"").slice(1))})},Gc=function(a){"object"!=k(this.opts.searchfield)&&(this.opts.searchfield={});var b=z("div.mm-navbar__searchfield");a.append(b),this.opts.searchfield.add=!0,this.opts.searchfield.addTo=[b]},Hc=function(a){var b=this,c=z("a.mm-navbar__title"),d=z("span");c.append(d),a.append(c);var e,f,g;this.bind("openPanel:start",function(a){a.parentElement.matches(".mm-listitem_vertical")||(g=a.querySelector("."+b.conf.classNames.navbars.panelTitle),g||(g=a.querySelector(".mm-navbar__title span")),e=g&&g.closest("a")?g.closest("a").getAttribute("href"):"",e?c.setAttribute("href",e):c.removeAttribute("href"),f=g?g.innerHTML:"",d.innerHTML=f)});var h;this.bind("openPanel:start:sr-aria",function(){if(b.opts.screenReader.text){if(!h){var d=B(b.node.menu,".mm-navbars_top, .mm-navbars_bottom");d.forEach(function(a){var b=a.querySelector(".mm-btn_prev");b&&(h=b)})}if(h){var e=!0;"parent"==b.opts.navbar.titleLink&&(e=!h.matches(".mm-hidden")),O.sr_aria(c,"hidden",e)}}})},Ic=function(a){function d(a){c.forEach(function(a){a.classList.remove("mm-navbar__tab_selected")});var b=c.filter(function(b){return b.matches('[href="#'+a.id+'"]')})[0];if(b)b.classList.add("mm-navbar__tab_selected");else{var e=a.mmParent;e&&d.call(this,e.closest(".mm-panel"))}}var b=this;a.classList.add("mm-navbar_tabs"),a.parentElement.classList.add("mm-navbars_has-tabs");var c=B(a,"a");a.addEventListener("click",function(a){var c=a.target;if(c.matches("a")){if(c.matches(".mm-navbar__tab_selected"))return a.stopImmediatePropagation(),void 0;try{b.openPanel(b.node.menu.querySelector(c.getAttribute("href")),!1),a.stopImmediatePropagation()}catch(d){}}}),this.bind("openPanel:start",d)};O.options.navbars=zc,O.configs.navbars=Cc,O.configs.classNames.navbars={panelPrev:"Prev",panelTitle:"Title"},Jc.navbarContents={breadcrumbs:Dc,close:Ec,prev:Fc,searchfield:Gc,title:Hc},Jc.navbarTypes={tabs:Ic};var Kc={scroll:!1,update:!1},Lc=Kc,Nc={scrollOffset:0,updateOffset:50},Oc=Nc;O.options.pageScroll=Lc,O.configs.pageScroll=Oc;var Pc=function(){function e(){d&&window.scrollTo({top:d.getBoundingClientRect().top+document.scrollingElement.scrollTop-c.scrollOffset,behavior:"smooth"}),d=null}function f(a){try{return"#"!=a&&"#"==a.slice(0,1)?O.node.page.querySelector(a):null}catch(b){return null}}var a=this,b=Mc(this.opts.pageScroll);this.opts.pageScroll=i(b,O.options.pageScroll);var d,c=this.conf.pageScroll;if(b.scroll&&this.bind("close:finish",function(){e()}),this.opts.offCanvas&&b.scroll&&this.clck.push(function(b,c){if(d=null,c.inMenu){var g=b.getAttribute("href");if(d=f(g))return a.node.menu.matches(".mm-menu_sidebar-expanded")&&a.node.wrpr.matches(".mm-wrapper_sidebar-expanded")?(e(),void 0):{close:!0}}}),b.update){var g=[];this.bind("initListview:after",function(a){var b=B(a,".mm-listitem");H(b).forEach(function(a){var b=a.getAttribute("href"),c=f(b);c&&g.unshift(c)})});var h=-1;window.addEventListener("scroll",function(){for(var d=window.scrollY,e=0;e<g.length;e++)if(g[e].offsetTop<d+c.updateOffset){if(h!==e){h=e;var f=B(a.node.pnls,".mm-panel_opened")[0],i=A(f,".mm-listitem"),j=H(i);j=j.filter(function(a){return a.matches('[href="#'+g[e].id+'"]')}),j.length&&a.setSelected(j[0].parentElement)}break}})}},Qc={add:!1,addTo:"panels",cancel:!1,noResults:"No results found.",placeholder:"Search",panel:{add:!1,dividers:!0,fx:"none",id:null,splash:null,title:"Search"},search:!0,showTextItems:!1,showSubPanels:!0},Rc=Qc,Tc={clear:!1,form:!1,input:!1,submit:!1},Uc=Tc,Vc={Search:"Zoeken","No results found.":"Geen resultaten gevonden.",cancel:"annuleren"},Wc={Search:"\u062c\u0633\u062a\u062c\u0648","No results found.":"\u0646\u062a\u06cc\u062c\u0647\u200c\u0627\u06cc \u06cc\u0627\u0641\u062a \u0646\u0634\u062f.",cancel:"\u0627\u0646\u0635\u0631\u0627\u0641"},Xc={Search:"Suche","No results found.":"Keine Ergebnisse gefunden.",cancel:"beenden"},Yc={Search:"\u041d\u0430\u0439\u0442\u0438","No results found.":"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e.",cancel:"\u043e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"},Zc=function(){r(Vc,"nl"),r(Wc,"fa"),r(Xc,"de"),r(Yc,"ru")};Zc(),O.options.searchfield=Rc,O.configs.searchfield=Uc;var $c=function(){var a=this,b=Sc(this.opts.searchfield);this.opts.searchfield=i(b,O.options.searchfield);this.conf.searchfield;b.add&&(this.bind("close:start",function(){A(a.node.menu,".mm-searchfield").forEach(function(a){a.blur()})}),this.bind("initPanel:after",function(c){var d=null;b.panel.add&&(d=_c.call(a));var e=null;switch(b.addTo){case"panels":e=[c];break;case"panel":e=[d];break;default:"string"==typeof b.addTo?e=A(a.node.menu,b.addTo):"array"==k(b.addTo)&&(e=b.addTo)}e.forEach(function(c){c=ad.call(a,c),b.search&&c&&bd.call(a,c)}),b.noResults&&cd.call(a,b.panel.add?d:c)}),this.clck.push(function(b,c){if(c.inMenu&&b.matches(".mm-searchfield__btn")){if(b.matches(".mm-btn_close")){var d=b.closest(".mm-searchfield"),e=A(d,"input")[0];return e.value="",a.search(e),!0}if(b.matches(".mm-btn_next")){var d=b.closest("form");return d&&d.submit(),!0}}}))},_c=function(){var a=this.opts.searchfield,c=(this.conf.searchfield,B(this.node.pnls,".mm-panel_search")[0]);if(c)return c;c=z("div.mm-panel.mm-panel_search.mm-hidden"),a.panel.id&&(c.id=a.panel.id),a.panel.title&&c.setAttribute("data-mm-title",a.panel.title);var d=z("ul");switch(c.append(d),this.node.pnls.append(c),this.initListview(d),this._initNavbar(c),a.panel.fx){case!1:break;case"none":c.classList.add("mm-panel_noanimation");break;default:c.classList.add("mm-panel_fx-"+a.panel.fx)}if(a.panel.splash){var e=z("div.mm-panel__content");e.innerHTML=a.panel.splash,c.append(e)}return c.classList.add("mm-panel"),c.classList.add("mm-hidden"),this.node.pnls.append(c),c},ad=function(a){function e(a,b){if(b)for(var c in b)a.setAttribute(c,b[c])}var b=this.opts.searchfield,c=this.conf.searchfield;if(a.parentElement.matches(".mm-listitem_vertical"))return null;var d=A(a,".mm-searchfield")[0];if(d)return d;var d=z((c.form?"form":"div")+".mm-searchfield"),f=z("div.mm-searchfield__input"),g=z("input");if(g.type="text",g.autocomplete="off",g.placeholder=this.i18n(b.placeholder),f.append(g),d.append(f),a.prepend(d),e(g,c.input),c.clear){var h=z("a.mm-btn.mm-btn_close.mm-searchfield__btn");h.setAttribute("href","#"),f.append(h)}if(e(d,c.form),c.form&&c.submit&&!c.clear){var h=z("a.mm-btn.mm-btn_next.mm-searchfield__btn");h.setAttribute("href","#"),f.append(h)}if(b.cancel){var h=z("a.mm-searchfield__cancel");h.setAttribute("href","#"),h.textContent=this.i18n("cancel"),d.append(h)}return d},bd=function(a){var b=this,c=this.opts.searchfield,e=(this.conf.searchfield,{});a.closest(".mm-panel_search")?(e.panels=A(this.node.pnls,".mm-panel"),e.noresults=[a.closest(".mm-panel")]):a.closest(".mm-panel")?(e.panels=[a.closest(".mm-panel")],e.noresults=e.panels):(e.panels=A(this.node.pnls,".mm-panel"),e.noresults=[this.node.menu]),e.panels=e.panels.filter(function(a){return!a.matches(".mm-panel_search")}),e.panels=e.panels.filter(function(a){return!a.parentElement.matches(".mm-listitem_vertical")}),e.listitems=[],e.dividers=[],e.panels.forEach(function(a){var b,c;(b=e.listitems).push.apply(b,A(a,".mm-listitem")),(c=e.dividers).push.apply(c,A(a,".mm-divider"))});var f=B(this.node.pnls,".mm-panel_search")[0],g=A(a,"input")[0],h=A(a,".mm-searchfield__cancel")[0];g.mmSearchfield=e,c.panel.add&&c.panel.splash&&(W(g,"focus.splash"),V(g,"focus.splash",function(){b.openPanel(f)})),c.cancel&&(W(g,"focus.cancel"),V(g,"focus.cancel",function(){h.classList.add("mm-searchfield__cancel-active")}),W(h,"click.splash"),V(h,"click.splash",function(a){if(a.preventDefault(),h.classList.remove("mm-searchfield__cancel-active"),f.matches(".mm-panel_opened")){var c=B(b.node.pnls,".mm-panel_opened-parent");c.length&&b.openPanel(c[c.length-1])}})),c.panel.add&&"panel"==c.addTo&&this.bind("openPanel:finish",function(a){a===f&&g.focus()}),W(g,"input.search"),V(g,"input.search",function(a){switch(a.keyCode){case 9:case 16:case 17:case 18:case 37:case 38:case 39:case 40:break;default:b.search(g)}}),this.search(g)},cd=function(a){if(a){{var b=this.opts.searchfield;this.conf.searchfield}if(a.closest(".mm-panel")||(a=B(this.node.pnls,".mm-panel")[0]),!B(a,".mm-panel__noresultsmsg").length){var d=z("div.mm-panel__noresultsmsg.mm-hidden");d.innerHTML=this.i18n(b.noResults),a.append(d)}}};O.prototype.search=function(a,b){{var d,c=this,e=this.opts.searchfield;this.conf.searchfield}b=b||""+a.value,b=b.toLowerCase().trim();var g=a.mmSearchfield,h=a.closest(".mm-searchfield"),i=A(h,".mm-btn"),j=B(this.node.pnls,".mm-panel_search")[0],k=g.panels,l=g.noresults,m=g.listitems,n=g.dividers;if(m.forEach(function(a){a.classList.remove("mm-listitem_nosubitems"),a.classList.remove("mm-listitem_onlysubitems"),a.classList.remove("mm-hidden")}),j&&(B(j,".mm-listview")[0].innerHTML=""),k.forEach(function(a){a.scrollTop=0}),b.length){n.forEach(function(a){a.classList.add("mm-hidden")}),m.forEach(function(a){var c=B(a,".mm-listitem__text")[0],d=!1;c&&C(c).toLowerCase().indexOf(b)>-1&&(c.matches(".mm-listitem__btn")?e.showSubPanels&&(d=!0):c.matches("a")?d=!0:e.showTextItems&&(d=!0)),d||a.classList.add("mm-hidden")});var o=m.filter(function(a){return!a.matches(".mm-hidden")}).length;if(e.panel.add){var p=[];k.forEach(function(a){var b=G(A(a,".mm-listitem"));if(b=b.filter(function(a){return!a.matches(".mm-hidden")}),b.length){if(e.panel.dividers){var c=z("li.mm-divider"),d=A(a,".mm-navbar__title")[0];d&&(c.innerHTML=d.innerHTML,p.push(c))}b.forEach(function(a){p.push(a.cloneNode(!0))})}}),p.forEach(function(a){a.querySelectorAll(".mm-toggle, .mm-check").forEach(function(a){a.remove()})}),(d=B(j,".mm-listview")[0]).append.apply(d,p),this.openPanel(j)}else e.showSubPanels&&k.forEach(function(a){var b=A(a,".mm-listitem");G(b).forEach(function(a){var b=a.mmChild;b&&A(b,".mm-listitem").forEach(function(a){a.classList.remove("mm-hidden")})})}),k.slice().reverse().forEach(function(b,d){var e=b.mmParent;if(e){var f=A(b,".mm-listitem");G(f).length?(e.matches(".mm-hidden")&&e.classList.remove("mm-hidden"),e.classList.add("mm-listitem_onlysubitems")):a.closest(".mm-panel")||((b.matches(".mm-panel_opened")||b.matches(".mm-panel_opened-parent"))&&setTimeout(function(){c.openPanel(e.closest(".mm-panel"))},1.5*(d+1)*c.conf.openingInterval),e.classList.add("mm-listitem_nosubitems"))}}),k.forEach(function(a){var b=A(a,".mm-listitem");G(b).forEach(function(a){D(a,".mm-listitem_vertical").forEach(function(a){a.matches(".mm-hidden")&&(a.classList.remove("mm-hidden"),a.classList.add("mm-listitem_onlysubitems"))})})}),k.forEach(function(a){var b=A(a,".mm-listitem");G(b).forEach(function(a){var b=E(a,".mm-divider")[0];b&&b.classList.remove("mm-hidden")})});i.forEach(function(a){return a.classList.remove("mm-hidden")}),l.forEach(function(a){A(a,".mm-panel__noresultsmsg").forEach(function(a){return a.classList[o?"add":"remove"]("mm-hidden")})}),e.panel.add&&(e.panel.splash&&A(j,".mm-panel__content").forEach(function(a){return a.classList.add("mm-hidden")}),m.forEach(function(a){return a.classList.remove("mm-hidden")}),n.forEach(function(a){return a.classList.remove("mm-hidden")}))}else if(m.forEach(function(a){return a.classList.remove("mm-hidden")}),n.forEach(function(a){return a.classList.remove("mm-hidden")}),i.forEach(function(a){return a.classList.add("mm-hidden")}),l.forEach(function(a){A(a,".mm-panel__noresultsmsg").forEach(function(a){return a.classList.add("mm-hidden")})}),e.panel.add)if(e.panel.splash)A(j,".mm-panel__content").forEach(function(a){return a.classList.remove("mm-hidden")});else if(!a.closest(".mm-panel_search")){var q=B(this.node.pnls,".mm-panel_opened-parent");this.openPanel(q.slice(-1)[0])}this.trigger("updateListview")};var dd={add:!1,addTo:"panels"},ed=dd;O.options.sectionIndexer=ed;var gd=function(){var a=this,b=fd(this.opts.sectionIndexer);this.opts.sectionIndexer=i(b,O.options.sectionIndexer),b.add&&this.bind("initPanels:after",function(){if(!a.node.indx){var b="";"abcdefghijklmnopqrstuvwxyz".split("").forEach(function(a){b+='<a href="#">'+a+"</a>"});var c=z("div.mm-sectionindexer");c.innerHTML=b,a.node.pnls.prepend(c),a.node.indx=c,a.node.indx.addEventListener("click",function(a){var b=a.target;b.matches("a")&&a.preventDefault()});var d=function(b){if(b.target.matches("a")){var c=b.target.textContent,d=B(a.node.pnls,".mm-panel_opened")[0],e=-1,f=d.scrollTop;d.scrollTop=0,A(d,".mm-divider").filter(function(a){return!a.matches(".mm-hidden")}).forEach(function(a){0>e&&c==a.textContent.trim().slice(0,1).toLowerCase()&&(e=a.offsetTop)}),d.scrollTop=e>-1?e:f}};nb?(a.node.indx.addEventListener("touchstart",d),a.node.indx.addEventListener("touchmove",d)):a.node.indx.addEventListener("mouseover",d)}a.bind("openPanel:start",function(b){var c=A(b,".mm-divider").filter(function(a){return!a.matches(".mm-hidden")}).length;a.node.indx.classList[c?"add":"remove"]("mm-sectionindexer_active")})})},hd={current:!0,hover:!1,parent:!1},id=hd;O.options.setSelected=id;var kd=function(){var a=this,b=jd(this.opts.setSelected);if(this.opts.setSelected=i(b,O.options.setSelected),"detect"==b.current){var c=function(b){b=b.split("?")[0].split("#")[0];var d=a.node.menu.querySelector('a[href="'+b+'"], a[href="'+b+'/"]');if(d)a.setSelected(d.parentElement);else{var e=b.split("/").slice(0,-1);e.length&&c(e.join("/"))}};this.bind("initMenu:after",function(){c.call(a,window.location.href)})}else b.current||this.bind("initListview:after",function(a){B(a,".mm-listitem_selected").forEach(function(a){a.classList.remove("mm-listitem_selected")})});b.hover&&this.bind("initMenu:after",function(){a.node.menu.classList.add("mm-menu_selected-hover")}),b.parent&&(this.bind("openPanel:finish",function(b){A(a.node.pnls,".mm-listitem_selected-parent").forEach(function(a){a.classList.remove("mm-listitem_selected-parent")});for(var c=b.mmParent;c;)c.matches(".mm-listitem_vertical")||c.classList.add("mm-listitem_selected-parent"),c=c.closest(".mm-panel"),c=c.mmParent}),this.bind("initMenu:after",function(){a.node.menu.classList.add("mm-menu_selected-parent")}))},ld={collapsed:{use:!1,blockMenu:!0,hideDivider:!1,hideNavbar:!0},expanded:{use:!1,initial:"open"}},md=ld;O.options.sidebar=md;var od=function(){var a=this;if(this.opts.offCanvas){var b=nd(this.opts.sidebar);if(this.opts.sidebar=i(b,O.options.sidebar),b.collapsed.use){this.bind("initMenu:after",function(){if(a.node.menu.classList.add("mm-menu_sidebar-collapsed"),b.collapsed.blockMenu&&a.opts.offCanvas&&!B(a.node.menu,".mm-menu__blocker")[0]){var c=z("a.mm-menu__blocker");c.setAttribute("href","#"+a.node.menu.id),a.node.menu.prepend(c)}b.collapsed.hideNavbar&&a.node.menu.classList.add("mm-menu_hidenavbar"),b.collapsed.hideDivider&&a.node.menu.classList.add("mm-menu_hidedivider")});var c=function(){a.node.wrpr.classList.add("mm-wrapper_sidebar-collapsed")},d=function(){a.node.wrpr.classList.remove("mm-wrapper_sidebar-collapsed")};"boolean"==typeof b.collapsed.use?this.bind("initMenu:after",c):K(b.collapsed.use,c,d)}if(b.expanded.use){this.bind("initMenu:after",function(){a.node.menu.classList.add("mm-menu_sidebar-expanded")});var c=function(){a.node.wrpr.classList.add("mm-wrapper_sidebar-expanded"),a.node.wrpr.matches(".mm-wrapper_sidebar-closed")||a.open()},d=function(){a.node.wrpr.classList.remove("mm-wrapper_sidebar-expanded"),a.close()};"boolean"==typeof b.expanded.use?this.bind("initMenu:after",c):K(b.expanded.use,c,d),this.bind("close:start",function(){a.node.wrpr.matches(".mm-wrapper_sidebar-expanded")&&(a.node.wrpr.classList.add("mm-wrapper_sidebar-closed"),"remember"==b.expanded.initial&&window.localStorage.setItem("mmenuExpandedState","closed"))}),this.bind("open:start",function(){a.node.wrpr.matches(".mm-wrapper_sidebar-expanded")&&(a.node.wrpr.classList.remove("mm-wrapper_sidebar-closed"),"remember"==b.expanded.initial&&window.localStorage.setItem("mmenuExpandedState","open"))});var e=b.expanded.initial;if("remember"==b.expanded.initial){var f=window.localStorage.getItem("mmenuExpandedState");switch(f){case"open":case"closed":e=f}}"closed"==e&&this.bind("initMenu:after",function(){a.node.wrpr.classList.add("mm-wrapper_sidebar-closed")}),this.clck.push(function(c,d){return d.inMenu&&d.inListview&&a.node.wrpr.matches(".mm-wrapper_sidebar-expanded")?{close:"closed"==b.expanded.initial}:void 0})}}};O.configs.classNames.toggles={toggle:"Toggle",check:"Check"};var pd=function(){var a=this;this.bind("initPanel:after",function(b){A(b,"input").forEach(function(b){I(b,a.conf.classNames.toggles.toggle,"mm-toggle"),I(b,a.conf.classNames.toggles.check,"mm-check")})})},qd=function(){this.opts.onClick={close:!0,preventDefault:!1,setSelected:!0}},rd=function(){function f(a){for(var b=z(a.matches("a")?"a":"span"),c=["href","title","target"],d=0;d<c.length;d++)"undefined"!=typeof a.getAttribute(c[d])&&b.setAttribute(c[d],a.getAttribute(c[d]));return b.innerHTML=a.innerHTML,A(b,".sr-only").forEach(function(a){a.remove()}),b}function g(a){var b=z("ul");return B(a).forEach(function(a){var c=z("li");a.matches(".dropdown-divider")?c.classList.add("Divider"):a.matches(".dropdown-item")&&c.append(f(a)),b.append(c)}),b}function h(a){var b=z("ul");return A(a,".nav-item").forEach(function(a){var c=z("li");if(a.matches(".active")&&c.classList.add("Selected"),!a.matches(".nav-link")){var d=B(a,".dropdown-menu")[0];d&&c.append(g(d)),a=B(a,".nav-link")[0]}c.prepend(f(a)),b.append(c)}),b}var a=this;if(this.node.menu.matches(".navbar-collapse")){this.conf.offCanvas&&(this.conf.offCanvas.clone=!1);var b=z("nav"),c=z("div");b.append(c),B(this.node.menu).forEach(function(b){switch(!0){case b.matches(".navbar-nav"):c.append(h(b));break;case b.matches(".dropdown-menu"):c.append(g(b));break;case b.matches(".form-inline"):a.conf.searchfield.form={action:b.getAttribute("action")||null,method:b.getAttribute("method")||null},a.conf.searchfield.input={name:b.querySelector("input").getAttribute("name")||null},a.conf.searchfield.clear=!1,a.conf.searchfield.submit=!0;
break;default:c.append(b.cloneNode(!0))}}),this.bind("initMenu:before",function(){document.body.prepend(b),a.node.menu=b});var d=this.node.menu.parentElement;if(d){var e=d.querySelector(".navbar-toggler");e&&(e.removeAttribute("data-target"),e.removeAttribute("aria-controls"),e.outerHTML=e.outerHTML,e=d.querySelector(".navbar-toggler"),e.addEventListener("click",function(b){b.preventDefault(),b.stopImmediatePropagation(),a[a.vars.opened?"close":"open"]()}))}}},sd=function(){this.conf.offCanvas.page.noSelector.push("#olark")},td=function(){var a;document.addEventListener("turbolinks:before-visit",function(){a=document.querySelector(".mm-wrapper").className.split(" ").filter(function(a){return/mm-/.test(a)})}),document.addEventListener("turbolinks:load",function(){"undefined"!=typeof a&&(document.querySelector(".mm-wrapper").className=a)})},ud=function(){this.conf.classNames.selected="current-menu-item";var a=document.getElementById("wpadminbar");a&&(a.style.position="fixed",a.classList.add("mm-slideout"))};O.addons={offcanvas:Y,screenReader:jb,scrollBugFix:ob,autoHeight:sb,backButton:wb,columns:Ab,counters:Eb,dividers:Ib,drag:Zb,dropdown:dc,fixedElements:gc,iconbar:kc,iconPanels:oc,keyboardNavigation:sc,lazySubmenus:xc,navbars:Jc,pageScroll:Pc,searchfield:$c,sectionIndexer:gd,setSelected:kd,sidebar:od,toggles:pd},O.wrappers={angular:qd,bootstrap:rd,olark:sd,turbolinks:td,wordpress:ud};b["default"]=O;window&&(window.Mmenu=O),function(a){a&&(a.fn.mmenu=function(b,c){var d=a();return this.each(function(e,f){if(!f.mmApi){var g=new O(f,b,c),h=a(g.node.menu);h.data("mmenu",g.API),d=d.add(h)}}),d})}(window.jQuery||window.Zepto||null)}])}),ed.define("perfect-scrollbar",["edjquery"],function(a){!function(a,b){"object"==typeof exports&&"undefined"!=typeof module?module.exports=b():"function"==typeof define&&define.amd?define(b):(a=a||self,a.PerfectScrollbar=b())}(this,function(){"use strict";function a(a){return getComputedStyle(a)}function b(a,b){for(var c in b){var d=b[c];"number"==typeof d&&(d+="px"),a.style[c]=d}return a}function c(a){var b=document.createElement("div");return b.className=a,b}function e(a,b){if(!d)throw new Error("No element matching method supported");return d.call(a,b)}function f(a){a.remove?a.remove():a.parentNode&&a.parentNode.removeChild(a)}function g(a,b){return Array.prototype.filter.call(a.children,function(a){return e(a,b)})}function j(a,b){var c=a.element.classList,d=h.state.scrolling(b);c.contains(d)?clearTimeout(i[b]):c.add(d)}function k(a,b){i[b]=setTimeout(function(){return a.isAlive&&a.element.classList.remove(h.state.scrolling(b))},a.settings.scrollingThreshold)}function l(a,b){j(a,b),k(a,b)}function p(a){if("function"==typeof window.CustomEvent)return new CustomEvent(a);var b=document.createEvent("CustomEvent");return b.initCustomEvent(a,!1,!1,void 0),b}function q(a,b,c,d,e){void 0===d&&(d=!0),void 0===e&&(e=!1);var f;if("top"===b)f=["contentHeight","containerHeight","scrollTop","y","up","down"];else{if("left"!==b)throw new Error("A proper axis should be provided");f=["contentWidth","containerWidth","scrollLeft","x","left","right"]}r(a,c,f,d,e)}function r(a,b,c,d,e){var f=c[0],g=c[1],h=c[2],i=c[3],j=c[4],k=c[5];void 0===d&&(d=!0),void 0===e&&(e=!1);var m=a.element;a.reach[i]=null,m[h]<1&&(a.reach[i]="start"),m[h]>a[f]-a[g]-1&&(a.reach[i]="end"),b&&(m.dispatchEvent(p("ps-scroll-"+i)),0>b?m.dispatchEvent(p("ps-scroll-"+j)):b>0&&m.dispatchEvent(p("ps-scroll-"+k)),d&&l(a,i)),a.reach[i]&&(b||e)&&m.dispatchEvent(p("ps-"+i+"-reach-"+a.reach[i]))}function s(a){return parseInt(a,10)||0}function t(a){return e(a,"input,[contenteditable]")||e(a,"select,[contenteditable]")||e(a,"textarea,[contenteditable]")||e(a,"button,[contenteditable]")}function u(b){var c=a(b);return s(c.width)+s(c.paddingLeft)+s(c.paddingRight)+s(c.borderLeftWidth)+s(c.borderRightWidth)}function w(a){var b=a.element,c=Math.floor(b.scrollTop),d=b.getBoundingClientRect();a.containerWidth=Math.ceil(d.width),a.containerHeight=Math.ceil(d.height),a.contentWidth=b.scrollWidth,a.contentHeight=b.scrollHeight,b.contains(a.scrollbarXRail)||(g(b,h.element.rail("x")).forEach(function(a){return f(a)}),b.appendChild(a.scrollbarXRail)),b.contains(a.scrollbarYRail)||(g(b,h.element.rail("y")).forEach(function(a){return f(a)}),b.appendChild(a.scrollbarYRail)),!a.settings.suppressScrollX&&a.containerWidth+a.settings.scrollXMarginOffset<a.contentWidth?(a.scrollbarXActive=!0,a.railXWidth=a.containerWidth-a.railXMarginWidth,a.railXRatio=a.containerWidth/a.railXWidth,a.scrollbarXWidth=x(a,s(a.railXWidth*a.containerWidth/a.contentWidth)),a.scrollbarXLeft=s((a.negativeScrollAdjustment+b.scrollLeft)*(a.railXWidth-a.scrollbarXWidth)/(a.contentWidth-a.containerWidth))):a.scrollbarXActive=!1,!a.settings.suppressScrollY&&a.containerHeight+a.settings.scrollYMarginOffset<a.contentHeight?(a.scrollbarYActive=!0,a.railYHeight=a.containerHeight-a.railYMarginHeight,a.railYRatio=a.containerHeight/a.railYHeight,a.scrollbarYHeight=x(a,s(a.railYHeight*a.containerHeight/a.contentHeight)),a.scrollbarYTop=s(c*(a.railYHeight-a.scrollbarYHeight)/(a.contentHeight-a.containerHeight))):a.scrollbarYActive=!1,a.scrollbarXLeft>=a.railXWidth-a.scrollbarXWidth&&(a.scrollbarXLeft=a.railXWidth-a.scrollbarXWidth),a.scrollbarYTop>=a.railYHeight-a.scrollbarYHeight&&(a.scrollbarYTop=a.railYHeight-a.scrollbarYHeight),y(b,a),a.scrollbarXActive?b.classList.add(h.state.active("x")):(b.classList.remove(h.state.active("x")),a.scrollbarXWidth=0,a.scrollbarXLeft=0,b.scrollLeft=a.isRtl===!0?a.contentWidth:0),a.scrollbarYActive?b.classList.add(h.state.active("y")):(b.classList.remove(h.state.active("y")),a.scrollbarYHeight=0,a.scrollbarYTop=0,b.scrollTop=0)}function x(a,b){return a.settings.minScrollbarLength&&(b=Math.max(b,a.settings.minScrollbarLength)),a.settings.maxScrollbarLength&&(b=Math.min(b,a.settings.maxScrollbarLength)),b}function y(a,c){var d={width:c.railXWidth},e=Math.floor(a.scrollTop);d.left=c.isRtl?c.negativeScrollAdjustment+a.scrollLeft+c.containerWidth-c.contentWidth:a.scrollLeft,c.isScrollbarXUsingBottom?d.bottom=c.scrollbarXBottom-e:d.top=c.scrollbarXTop+e,b(c.scrollbarXRail,d);var f={top:e,height:c.railYHeight};c.isScrollbarYUsingRight?f.right=c.isRtl?c.contentWidth-(c.negativeScrollAdjustment+a.scrollLeft)-c.scrollbarYRight-c.scrollbarYOuterWidth-9:c.scrollbarYRight-a.scrollLeft:f.left=c.isRtl?c.negativeScrollAdjustment+a.scrollLeft+2*c.containerWidth-c.contentWidth-c.scrollbarYLeft-c.scrollbarYOuterWidth:c.scrollbarYLeft+a.scrollLeft,b(c.scrollbarYRail,f),b(c.scrollbarX,{left:c.scrollbarXLeft,width:c.scrollbarXWidth-c.railBorderXWidth}),b(c.scrollbarY,{top:c.scrollbarYTop,height:c.scrollbarYHeight-c.railBorderYWidth})}function z(a){a.element;a.event.bind(a.scrollbarY,"mousedown",function(a){return a.stopPropagation()}),a.event.bind(a.scrollbarYRail,"mousedown",function(b){var c=b.pageY-window.pageYOffset-a.scrollbarYRail.getBoundingClientRect().top,d=c>a.scrollbarYTop?1:-1;a.element.scrollTop+=d*a.containerHeight,w(a),b.stopPropagation()}),a.event.bind(a.scrollbarX,"mousedown",function(a){return a.stopPropagation()}),a.event.bind(a.scrollbarXRail,"mousedown",function(b){var c=b.pageX-window.pageXOffset-a.scrollbarXRail.getBoundingClientRect().left,d=c>a.scrollbarXLeft?1:-1;a.element.scrollLeft+=d*a.containerWidth,w(a),b.stopPropagation()})}function A(a){B(a,["containerWidth","contentWidth","pageX","railXWidth","scrollbarX","scrollbarXWidth","scrollLeft","x","scrollbarXRail"]),B(a,["containerHeight","contentHeight","pageY","railYHeight","scrollbarY","scrollbarYHeight","scrollTop","y","scrollbarYRail"])}function B(a,b){function s(b){b.touches&&b.touches[0]&&(b[e]=b.touches[0].pageY),o[l]=p+r*(b[e]-q),j(a,m),w(a),b.stopPropagation(),b.preventDefault()}function t(){k(a,m),a[n].classList.remove(h.state.clicking),a.event.unbind(a.ownerDocument,"mousemove",s)}function u(b,g){p=o[l],g&&b.touches&&(b[e]=b.touches[0].pageY),q=b[e],r=(a[d]-a[c])/(a[f]-a[i]),g?a.event.bind(a.ownerDocument,"touchmove",s):(a.event.bind(a.ownerDocument,"mousemove",s),a.event.once(a.ownerDocument,"mouseup",t),b.preventDefault()),a[n].classList.add(h.state.clicking),b.stopPropagation()}var c=b[0],d=b[1],e=b[2],f=b[3],g=b[4],i=b[5],l=b[6],m=b[7],n=b[8],o=a.element,p=null,q=null,r=null;a.event.bind(a[g],"mousedown",function(a){u(a)}),a.event.bind(a[g],"touchstart",function(a){u(a,!0)})}function C(a){function f(c,d){var e=Math.floor(b.scrollTop);if(0===c){if(!a.scrollbarYActive)return!1;if(0===e&&d>0||e>=a.contentHeight-a.containerHeight&&0>d)return!a.settings.wheelPropagation}var f=b.scrollLeft;if(0===d){if(!a.scrollbarXActive)return!1;if(0===f&&0>c||f>=a.contentWidth-a.containerWidth&&c>0)return!a.settings.wheelPropagation}return!0}var b=a.element,c=function(){return e(b,":hover")},d=function(){return e(a.scrollbarX,":focus")||e(a.scrollbarY,":focus")};a.event.bind(a.ownerDocument,"keydown",function(e){if(!(e.isDefaultPrevented&&e.isDefaultPrevented()||e.defaultPrevented)&&(c()||d())){var g=document.activeElement?document.activeElement:a.ownerDocument.activeElement;if(g){if("IFRAME"===g.tagName)g=g.contentDocument.activeElement;else for(;g.shadowRoot;)g=g.shadowRoot.activeElement;if(t(g))return}var h=0,i=0;switch(e.which){case 37:h=e.metaKey?-a.contentWidth:e.altKey?-a.containerWidth:-30;break;case 38:i=e.metaKey?a.contentHeight:e.altKey?a.containerHeight:30;break;case 39:h=e.metaKey?a.contentWidth:e.altKey?a.containerWidth:30;break;case 40:i=e.metaKey?-a.contentHeight:e.altKey?-a.containerHeight:-30;break;case 32:i=e.shiftKey?a.containerHeight:-a.containerHeight;break;case 33:i=a.containerHeight;break;case 34:i=-a.containerHeight;break;case 36:i=a.contentHeight;break;case 35:i=-a.contentHeight;break;default:return}a.settings.suppressScrollX&&0!==h||a.settings.suppressScrollY&&0!==i||(b.scrollTop-=i,b.scrollLeft+=h,w(a),f(h,i)&&e.preventDefault())}})}function D(b){function d(a,d){var j,e=Math.floor(c.scrollTop),f=0===c.scrollTop,g=e+c.offsetHeight===c.scrollHeight,h=0===c.scrollLeft,i=c.scrollLeft+c.offsetWidth===c.scrollWidth;return j=Math.abs(d)>Math.abs(a)?f||g:h||i,j?!b.settings.wheelPropagation:!0}function e(a){var b=a.deltaX,c=-1*a.deltaY;return("undefined"==typeof b||"undefined"==typeof c)&&(b=-1*a.wheelDeltaX/6,c=a.wheelDeltaY/6),a.deltaMode&&1===a.deltaMode&&(b*=10,c*=10),b!==b&&c!==c&&(b=0,c=a.wheelDelta),a.shiftKey?[-c,-b]:[b,c]}function f(b,d,e){if(!v.isWebKit&&c.querySelector("select:focus"))return!0;if(!c.contains(b))return!1;for(var f=b;f&&f!==c;){if(f.classList.contains(h.element.consuming))return!0;var g=a(f);if(e&&g.overflowY.match(/(scroll|auto)/)){var i=f.scrollHeight-f.clientHeight;if(i>0&&(f.scrollTop>0&&0>e||f.scrollTop<i&&e>0))return!0}if(d&&g.overflowX.match(/(scroll|auto)/)){var j=f.scrollWidth-f.clientWidth;if(j>0&&(f.scrollLeft>0&&0>d||f.scrollLeft<j&&d>0))return!0}f=f.parentNode}return!1}function g(a){var g=e(a),h=g[0],i=g[1];if(!f(a.target,h,i)){var j=!1;b.settings.useBothWheelAxes?b.scrollbarYActive&&!b.scrollbarXActive?(i?c.scrollTop-=i*b.settings.wheelSpeed:c.scrollTop+=h*b.settings.wheelSpeed,j=!0):b.scrollbarXActive&&!b.scrollbarYActive&&(h?c.scrollLeft+=h*b.settings.wheelSpeed:c.scrollLeft-=i*b.settings.wheelSpeed,j=!0):(c.scrollTop-=i*b.settings.wheelSpeed,c.scrollLeft+=h*b.settings.wheelSpeed),w(b),j=j||d(h,i),j&&!a.ctrlKey&&(a.stopPropagation(),a.preventDefault())}}var c=b.element;"undefined"!=typeof window.onwheel?b.event.bind(c,"wheel",g):"undefined"!=typeof window.onmousewheel&&b.event.bind(c,"mousewheel",g)}function E(b){function d(a,d){var e=Math.floor(c.scrollTop),f=c.scrollLeft,g=Math.abs(a),h=Math.abs(d);if(h>g){if(0>d&&e===b.contentHeight-b.containerHeight||d>0&&0===e)return 0===window.scrollY&&d>0&&v.isChrome}else if(g>h&&(0>a&&f===b.contentWidth-b.containerWidth||a>0&&0===f))return!0;return!0}function e(a,d){c.scrollTop-=d,c.scrollLeft-=a,w(b)}function k(a){return a.targetTouches?a.targetTouches[0]:a}function l(a){return a.pointerType&&"pen"===a.pointerType&&0===a.buttons?!1:a.targetTouches&&1===a.targetTouches.length?!0:a.pointerType&&"mouse"!==a.pointerType&&a.pointerType!==a.MSPOINTER_TYPE_MOUSE?!0:!1}function m(a){if(l(a)){var b=k(a);f.pageX=b.pageX,f.pageY=b.pageY,g=(new Date).getTime(),null!==j&&clearInterval(j)}}function n(b,d,e){if(!c.contains(b))return!1;for(var f=b;f&&f!==c;){if(f.classList.contains(h.element.consuming))return!0;var g=a(f);if(e&&g.overflowY.match(/(scroll|auto)/)){var i=f.scrollHeight-f.clientHeight;if(i>0&&(f.scrollTop>0&&0>e||f.scrollTop<i&&e>0))return!0}if(d&&g.overflowX.match(/(scroll|auto)/)){var j=f.scrollWidth-f.clientWidth;if(j>0&&(f.scrollLeft>0&&0>d||f.scrollLeft<j&&d>0))return!0}f=f.parentNode}return!1}function o(a){if(l(a)){var b=k(a),c={pageX:b.pageX,pageY:b.pageY},h=c.pageX-f.pageX,j=c.pageY-f.pageY;if(n(a.target,h,j))return;e(h,j),f=c;var m=(new Date).getTime(),o=m-g;o>0&&(i.x=h/o,i.y=j/o,g=m),d(h,j)&&a.preventDefault()}}function p(){b.settings.swipeEasing&&(clearInterval(j),j=setInterval(function(){return b.isInitialized?(clearInterval(j),void 0):i.x||i.y?Math.abs(i.x)<.01&&Math.abs(i.y)<.01?(clearInterval(j),void 0):(e(30*i.x,30*i.y),i.x*=.8,i.y*=.8,void 0):(clearInterval(j),void 0)},10))}if(v.supportsTouch||v.supportsIePointer){var c=b.element,f={},g=0,i={},j=null;v.supportsTouch?(b.event.bind(c,"touchstart",m),b.event.bind(c,"touchmove",o),b.event.bind(c,"touchend",p)):v.supportsIePointer&&(window.PointerEvent?(b.event.bind(c,"pointerdown",m),b.event.bind(c,"pointermove",o),b.event.bind(c,"pointerup",p)):window.MSPointerEvent&&(b.event.bind(c,"MSPointerDown",m),b.event.bind(c,"MSPointerMove",o),b.event.bind(c,"MSPointerUp",p)))}}var d="undefined"!=typeof Element&&(Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector),h={main:"ps",rtl:"ps__rtl",element:{thumb:function(a){return"ps__thumb-"+a},rail:function(a){return"ps__rail-"+a},consuming:"ps__child--consume"},state:{focus:"ps--focus",clicking:"ps--clicking",active:function(a){return"ps--active-"+a},scrolling:function(a){return"ps--scrolling-"+a}}},i={x:null,y:null},m=function(a){this.element=a,this.handlers={}},n={isEmpty:{configurable:!0}};m.prototype.bind=function(a,b){"undefined"==typeof this.handlers[a]&&(this.handlers[a]=[]),this.handlers[a].push(b),this.element.addEventListener(a,b,!1)},m.prototype.unbind=function(a,b){var c=this;this.handlers[a]=this.handlers[a].filter(function(d){return b&&d!==b?!0:(c.element.removeEventListener(a,d,!1),!1)})},m.prototype.unbindAll=function(){for(var a in this.handlers)this.unbind(a)},n.isEmpty.get=function(){var a=this;return Object.keys(this.handlers).every(function(b){return 0===a.handlers[b].length})},Object.defineProperties(m.prototype,n);var o=function(){this.eventElements=[]};o.prototype.eventElement=function(a){var b=this.eventElements.filter(function(b){return b.element===a})[0];return b||(b=new m(a),this.eventElements.push(b)),b},o.prototype.bind=function(a,b,c){this.eventElement(a).bind(b,c)},o.prototype.unbind=function(a,b,c){var d=this.eventElement(a);d.unbind(b,c),d.isEmpty&&this.eventElements.splice(this.eventElements.indexOf(d),1)},o.prototype.unbindAll=function(){this.eventElements.forEach(function(a){return a.unbindAll()}),this.eventElements=[]},o.prototype.once=function(a,b,c){var d=this.eventElement(a),e=function(a){d.unbind(b,e),c(a)};d.bind(b,e)};var v={isWebKit:"undefined"!=typeof document&&"WebkitAppearance"in document.documentElement.style,supportsTouch:"undefined"!=typeof window&&("ontouchstart"in window||"maxTouchPoints"in window.navigator&&window.navigator.maxTouchPoints>0||window.DocumentTouch&&document instanceof window.DocumentTouch),supportsIePointer:"undefined"!=typeof navigator&&navigator.msMaxTouchPoints,isChrome:"undefined"!=typeof navigator&&/Chrome/i.test(navigator&&navigator.userAgent)},F=function(){return{handlers:["click-rail","drag-thumb","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollingThreshold:1e3,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:!1,suppressScrollY:!1,swipeEasing:!0,useBothWheelAxes:!1,wheelPropagation:!0,wheelSpeed:1}},G={"click-rail":z,"drag-thumb":A,keyboard:C,wheel:D,touch:E},H=function(d,e){var f=this;if(void 0===e&&(e={}),"string"==typeof d&&(d=document.querySelector(d)),!d||!d.nodeName)throw new Error("no element is specified to initialize PerfectScrollbar");this.element=d,d.classList.add(h.main),this.settings=F();for(var g in e)this.settings[g]=e[g];this.containerWidth=null,this.containerHeight=null,this.contentWidth=null,this.contentHeight=null;var i=function(){return d.classList.add(h.state.focus)},j=function(){return d.classList.remove(h.state.focus)};this.isRtl="rtl"===a(d).direction,this.isRtl===!0&&d.classList.add(h.rtl),this.isNegativeScroll=function(){var a=d.scrollLeft,b=null;return d.scrollLeft=-1,b=d.scrollLeft<0,d.scrollLeft=a,b}(),this.negativeScrollAdjustment=this.isNegativeScroll?d.scrollWidth-d.clientWidth:0,this.event=new o,this.ownerDocument=d.ownerDocument||document,this.scrollbarXRail=c(h.element.rail("x")),d.appendChild(this.scrollbarXRail),this.scrollbarX=c(h.element.thumb("x")),this.scrollbarXRail.appendChild(this.scrollbarX),this.scrollbarX.setAttribute("tabindex",0),this.event.bind(this.scrollbarX,"focus",i),this.event.bind(this.scrollbarX,"blur",j),this.scrollbarXActive=null,this.scrollbarXWidth=null,this.scrollbarXLeft=null;var k=a(this.scrollbarXRail);this.scrollbarXBottom=parseInt(k.bottom,10),isNaN(this.scrollbarXBottom)?(this.isScrollbarXUsingBottom=!1,this.scrollbarXTop=s(k.top)):this.isScrollbarXUsingBottom=!0,this.railBorderXWidth=s(k.borderLeftWidth)+s(k.borderRightWidth),b(this.scrollbarXRail,{display:"block"}),this.railXMarginWidth=s(k.marginLeft)+s(k.marginRight),b(this.scrollbarXRail,{display:""}),this.railXWidth=null,this.railXRatio=null,this.scrollbarYRail=c(h.element.rail("y")),d.appendChild(this.scrollbarYRail),this.scrollbarY=c(h.element.thumb("y")),this.scrollbarYRail.appendChild(this.scrollbarY),this.scrollbarY.setAttribute("tabindex",0),this.event.bind(this.scrollbarY,"focus",i),this.event.bind(this.scrollbarY,"blur",j),this.scrollbarYActive=null,this.scrollbarYHeight=null,this.scrollbarYTop=null;var l=a(this.scrollbarYRail);this.scrollbarYRight=parseInt(l.right,10),isNaN(this.scrollbarYRight)?(this.isScrollbarYUsingRight=!1,this.scrollbarYLeft=s(l.left)):this.isScrollbarYUsingRight=!0,this.scrollbarYOuterWidth=this.isRtl?u(this.scrollbarY):null,this.railBorderYWidth=s(l.borderTopWidth)+s(l.borderBottomWidth),b(this.scrollbarYRail,{display:"block"}),this.railYMarginHeight=s(l.marginTop)+s(l.marginBottom),b(this.scrollbarYRail,{display:""}),this.railYHeight=null,this.railYRatio=null,this.reach={x:d.scrollLeft<=0?"start":d.scrollLeft>=this.contentWidth-this.containerWidth?"end":null,y:d.scrollTop<=0?"start":d.scrollTop>=this.contentHeight-this.containerHeight?"end":null},this.isAlive=!0,this.settings.handlers.forEach(function(a){return G[a](f)}),this.lastScrollTop=Math.floor(d.scrollTop),this.lastScrollLeft=d.scrollLeft,this.event.bind(this.element,"scroll",function(a){return f.onScroll(a)}),w(this)};return H.prototype.update=function(){this.isAlive&&(this.negativeScrollAdjustment=this.isNegativeScroll?this.element.scrollWidth-this.element.clientWidth:0,b(this.scrollbarXRail,{display:"block"}),b(this.scrollbarYRail,{display:"block"}),this.railXMarginWidth=s(a(this.scrollbarXRail).marginLeft)+s(a(this.scrollbarXRail).marginRight),this.railYMarginHeight=s(a(this.scrollbarYRail).marginTop)+s(a(this.scrollbarYRail).marginBottom),b(this.scrollbarXRail,{display:"none"}),b(this.scrollbarYRail,{display:"none"}),w(this),q(this,"top",0,!1,!0),q(this,"left",0,!1,!0),b(this.scrollbarXRail,{display:""}),b(this.scrollbarYRail,{display:""}))},H.prototype.onScroll=function(){this.isAlive&&(w(this),q(this,"top",this.element.scrollTop-this.lastScrollTop),q(this,"left",this.element.scrollLeft-this.lastScrollLeft),this.lastScrollTop=Math.floor(this.element.scrollTop),this.lastScrollLeft=this.element.scrollLeft)},H.prototype.destroy=function(){this.isAlive&&(this.event.unbindAll(),f(this.scrollbarX),f(this.scrollbarY),f(this.scrollbarXRail),f(this.scrollbarYRail),this.removePsClasses(),this.element=null,this.scrollbarX=null,this.scrollbarY=null,this.scrollbarXRail=null,this.scrollbarYRail=null,this.isAlive=!1)},H.prototype.removePsClasses=function(){this.element.className=this.element.className.split(" ").filter(function(a){return!a.match(/^ps([-_].+|)$/)}).join(" ")},H})}),ed.define("site/vendors/prism",function(){!function(){var a=/\blang(?:uage)?-(?!\*)(\w+)\b/i,b=self.Prism={util:{type:function(a){return Object.prototype.toString.call(a).match(/\[object (\w+)\]/)[1]},clone:function(a){var c=b.util.type(a);switch(c){case"Object":var d={};for(var e in a)a.hasOwnProperty(e)&&(d[e]=b.util.clone(a[e]));return d;case"Array":return a.slice()}return a}},languages:{extend:function(a,c){var d=b.util.clone(b.languages[a]);for(var e in c)d[e]=c[e];return d},insertBefore:function(a,c,d,e){e=e||b.languages;var f=e[a],g={};for(var h in f)if(f.hasOwnProperty(h)){if(h==c)for(var i in d)d.hasOwnProperty(i)&&(g[i]=d[i]);g[h]=f[h]}return e[a]=g},DFS:function(a,c){for(var d in a)c.call(a,d,a[d]),"Object"===b.util.type(a)&&b.languages.DFS(a[d],c)}},highlightAll:function(a,c){for(var f,d=document.querySelectorAll('code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'),e=0;f=d[e++];)b.highlightElement(f,a===!0,c)},highlightElement:function(d,e,f){for(var g,h,i=d;i&&!a.test(i.className);)i=i.parentNode;if(i&&(g=(i.className.match(a)||[,""])[1],h=b.languages[g]),h){d.className=d.className.replace(a,"").replace(/\s+/g," ")+" language-"+g,i=d.parentNode,/pre/i.test(i.nodeName)&&(i.className=i.className.replace(a,"").replace(/\s+/g," ")+" language-"+g);var j=d.textContent;if(j){j=j.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ");var k={element:d,language:g,grammar:h,code:j};if(b.hooks.run("before-highlight",k),e&&self.Worker){var l=new Worker(b.filename);l.onmessage=function(a){k.highlightedCode=c.stringify(JSON.parse(a.data),g),b.hooks.run("before-insert",k),k.element.innerHTML=k.highlightedCode,f&&f.call(k.element),b.hooks.run("after-highlight",k)},l.postMessage(JSON.stringify({language:k.language,code:k.code}))}else k.highlightedCode=b.highlight(k.code,k.grammar,k.language),b.hooks.run("before-insert",k),k.element.innerHTML=k.highlightedCode,f&&f.call(d),b.hooks.run("after-highlight",k)}}},highlight:function(a,d,e){return c.stringify(b.tokenize(a,d),e)},tokenize:function(a,c){var e=b.Token,f=[a],g=c.rest;if(g){for(var h in g)c[h]=g[h];delete c.rest}a:for(var h in c)if(c.hasOwnProperty(h)&&c[h]){var i=c[h],j=i.inside,k=!!i.lookbehind,l=0;i=i.pattern||i;for(var m=0;m<f.length;m++){var n=f[m];if(f.length>a.length)break a;if(!(n instanceof e)){i.lastIndex=0;var o=i.exec(n);if(o){k&&(l=o[1].length);var p=o.index-1+l,o=o[0].slice(l),q=o.length,r=p+q,s=n.slice(0,p+1),t=n.slice(r+1),u=[m,1];s&&u.push(s);var v=new e(h,j?b.tokenize(o,j):o);u.push(v),t&&u.push(t),Array.prototype.splice.apply(f,u)}}}}return f},hooks:{all:{},add:function(a,c){var d=b.hooks.all;d[a]=d[a]||[],d[a].push(c)},run:function(a,c){var d=b.hooks.all[a];if(d&&d.length)for(var f,e=0;f=d[e++];)f(c)}}},c=b.Token=function(a,b){this.type=a,this.content=b};if(c.stringify=function(a,d,e){if("string"==typeof a)return a;if("[object Array]"==Object.prototype.toString.call(a))return a.map(function(b){return c.stringify(b,d,a)}).join("");var f={type:a.type,content:c.stringify(a.content,d,e),tag:"span",classes:["token",a.type],attributes:{},language:d,parent:e};"comment"==f.type&&(f.attributes.spellcheck="true"),b.hooks.run("wrap",f);var g="";for(var h in f.attributes)g+=h+'="'+(f.attributes[h]||"")+'"';return"<"+f.tag+' class="'+f.classes.join(" ")+'" '+g+">"+f.content+"</"+f.tag+">"},!self.document)return self.addEventListener("message",function(a){var c=JSON.parse(a.data),d=c.language,e=c.code;self.postMessage(JSON.stringify(b.tokenize(e,b.languages[d]))),self.close()},!1),void 0;var d=document.getElementsByTagName("script");d=d[d.length-1],d&&(b.filename=d.src,document.addEventListener&&!d.hasAttribute("data-manual")&&document.addEventListener("DOMContentLoaded",b.highlightAll))}(),Prism.languages.markup={comment:/&lt;!--[\w\W]*?-->/g,prolog:/&lt;\?.+?\?>/,doctype:/&lt;!DOCTYPE.+?>/,cdata:/&lt;!\[CDATA\[[\w\W]*?]]>/i,tag:{pattern:/&lt;\/?[\w:-]+\s*(?:\s+[\w:-]+(?:=(?:("|')(\\?[\w\W])*?\1|\w+))?\s*)*\/?>/gi,inside:{tag:{pattern:/^&lt;\/?[\w:-]+/i,inside:{punctuation:/^&lt;\/?/,namespace:/^[\w-]+?:/}},"attr-value":{pattern:/=(?:('|")[\w\W]*?(\1)|[^\s>]+)/gi,inside:{punctuation:/=|>|"/g}},punctuation:/\/?>/g,"attr-name":{pattern:/[\w:-]+/g,inside:{namespace:/^[\w-]+?:/}}}},entity:/&amp;#?[\da-z]{1,8};/gi},Prism.hooks.add("wrap",function(a){"entity"===a.type&&(a.attributes.title=a.content.replace(/&amp;/,"&"))}),Prism.languages.css={comment:/\/\*[\w\W]*?\*\//g,atrule:{pattern:/@[\w-]+?.*?(;|(?=\s*{))/gi,inside:{punctuation:/[;:]/g}},url:/url\((["']?).*?\1\)/gi,selector:/[^\{\}\s][^\{\};]*(?=\s*\{)/g,property:/(\b|\B)[\w-]+(?=\s*:)/gi,string:/("|')(\\?.)*?\1/g,important:/\B!important\b/gi,ignore:/&(lt|gt|amp);/gi,punctuation:/[\{\};:]/g},Prism.languages.markup&&Prism.languages.insertBefore("markup","tag",{style:{pattern:/(&lt;|<)style[\w\W]*?(>|&gt;)[\w\W]*?(&lt;|<)\/style(>|&gt;)/gi,inside:{tag:{pattern:/(&lt;|<)style[\w\W]*?(>|&gt;)|(&lt;|<)\/style(>|&gt;)/gi,inside:Prism.languages.markup.tag.inside},rest:Prism.languages.css}}}),Prism.languages.css.selector={pattern:/[^\{\}\s][^\{\}]*(?=\s*\{)/g,inside:{"pseudo-element":/:(?:after|before|first-letter|first-line|selection)|::[-\w]+/g,"pseudo-class":/:[-\w]+(?:\(.*\))?/g,"class":/\.[-:\.\w]+/g,id:/#[-:\.\w]+/g}},Prism.languages.insertBefore("css","ignore",{hexcode:/#[\da-f]{3,6}/gi,entity:/\\[\da-f]{1,8}/gi,number:/[\d%\.]+/g,"function":/(attr|calc|cross-fade|cycle|element|hsla?|image|lang|linear-gradient|matrix3d|matrix|perspective|radial-gradient|repeating-linear-gradient|repeating-radial-gradient|rgba?|rotatex|rotatey|rotatez|rotate3d|rotate|scalex|scaley|scalez|scale3d|scale|skewx|skewy|skew|steps|translatex|translatey|translatez|translate3d|translate|url|var)/gi}),Prism.languages.clike={comment:{pattern:/(^|[^\\])(\/\*[\w\W]*?\*\/|(^|[^:])\/\/.*?(\r?\n|$))/g,lookbehind:!0},string:/("|')(\\?.)*?\1/g,"class-name":{pattern:/((?:(?:class|interface|extends|implements|trait|instanceof|new)\s+)|(?:catch\s+\())[a-z0-9_\.\\]+/gi,lookbehind:!0,inside:{punctuation:/(\.|\\)/}},keyword:/\b(if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/g,"boolean":/\b(true|false)\b/g,"function":{pattern:/[a-z0-9_]+\(/gi,inside:{punctuation:/\(/}},number:/\b-?(0x[\dA-Fa-f]+|\d*\.?\d+([Ee]-?\d+)?)\b/g,operator:/[-+]{1,2}|!|&lt;=?|>=?|={1,3}|(&amp;){1,2}|\|?\||\?|\*|\/|\~|\^|\%/g,ignore:/&(lt|gt|amp);/gi,punctuation:/[{}[\];(),.:]/g},Prism.languages.javascript=Prism.languages.extend("clike",{keyword:/\b(var|let|if|else|while|do|for|return|in|instanceof|function|new|with|typeof|try|throw|catch|finally|null|break|continue)\b/g,number:/\b-?(0x[\dA-Fa-f]+|\d*\.?\d+([Ee]-?\d+)?|NaN|-?Infinity)\b/g}),Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:/(^|[^\/])\/(?!\/)(\[.+?]|\\.|[^\/\r\n])+\/[gim]{0,3}(?=\s*($|[\r\n,.;})]))/g,lookbehind:!0}}),Prism.languages.markup&&Prism.languages.insertBefore("markup","tag",{script:{pattern:/(&lt;|<)script[\w\W]*?(>|&gt;)[\w\W]*?(&lt;|<)\/script(>|&gt;)/gi,inside:{tag:{pattern:/(&lt;|<)script[\w\W]*?(>|&gt;)|(&lt;|<)\/script(>|&gt;)/gi,inside:Prism.languages.markup.tag.inside},rest:Prism.languages.javascript}}}),Prism.languages.java=Prism.languages.extend("clike",{keyword:/\b(abstract|continue|for|new|switch|assert|default|goto|package|synchronized|boolean|do|if|private|this|break|double|implements|protected|throw|byte|else|import|public|throws|case|enum|instanceof|return|transient|catch|extends|int|short|try|char|final|interface|static|void|class|finally|long|strictfp|volatile|const|float|native|super|while)\b/g,number:/\b0b[01]+\b|\b0x[\da-f]*\.?[\da-fp\-]+\b|\b\d*\.?\d+[e]?[\d]*[df]\b|\W\d*\.?\d+\b/gi,operator:{pattern:/([^\.]|^)([-+]{1,2}|!|=?&lt;|=?&gt;|={1,2}|(&amp;){1,2}|\|?\||\?|\*|\/|%|\^|(&lt;){2}|($gt;){2,3}|:|~)/g,lookbehind:!0}}),Prism.languages.php=Prism.languages.extend("clike",{keyword:/\b(and|or|xor|array|as|break|case|cfunction|class|const|continue|declare|default|die|do|else|elseif|enddeclare|endfor|endforeach|endif|endswitch|endwhile|extends|for|foreach|function|include|include_once|global|if|new|return|static|switch|use|require|require_once|var|while|abstract|interface|public|implements|extends|private|protected|parent|static|throw|null|echo|print|trait|namespace|use|final|yield|goto|instanceof|finally|try|catch)\b/gi,constant:/\b[A-Z0-9_]{2,}\b/g}),Prism.languages.insertBefore("php","keyword",{delimiter:/(\?>|&lt;\?php|&lt;\?)/gi,variable:/(\$\w+)\b/gi,"package":{pattern:/(\\|namespace\s+|use\s+)[\w\\]+/g,lookbehind:!0,inside:{punctuation:/\\/}}}),Prism.languages.insertBefore("php","operator",{property:{pattern:/(->)[\w]+/g,lookbehind:!0}}),Prism.languages.markup&&(Prism.hooks.add("before-highlight",function(a){"php"===a.language&&(a.tokenStack=[],a.code=a.code.replace(/(?:&lt;\?php|&lt;\?|<\?php|<\?)[\w\W]*?(?:\?&gt;|\?>)/gi,function(b){return a.tokenStack.push(b),"{{{PHP"+a.tokenStack.length+"}}}"}))}),Prism.hooks.add("after-highlight",function(a){if("php"===a.language){for(var c,b=0;c=a.tokenStack[b];b++)a.highlightedCode=a.highlightedCode.replace("{{{PHP"+(b+1)+"}}}",Prism.highlight(c,a.grammar,"php"));a.element.innerHTML=a.highlightedCode}}),Prism.hooks.add("wrap",function(a){"php"===a.language&&"markup"===a.type&&(a.content=a.content.replace(/(\{\{\{PHP[0-9]+\}\}\})/g,'<span class="token php">$1</span>'))}),Prism.languages.insertBefore("php","comment",{markup:{pattern:/(&lt;|<)[^?]\/?(.*?)(>|&gt;)/g,inside:Prism.languages.markup},php:/\{\{\{PHP[0-9]+\}\}\}/g})),Prism.languages.insertBefore("php","variable",{"this":/\$this/g,global:/\$_?(GLOBALS|SERVER|GET|POST|FILES|REQUEST|SESSION|ENV|COOKIE|HTTP_RAW_POST_DATA|argc|argv|php_errormsg|http_response_header)/g,scope:{pattern:/\b[\w\\]+::/g,inside:{keyword:/(static|self|parent)/,punctuation:/(::|\\)/}}}),Prism.languages.coffeescript=Prism.languages.extend("javascript",{"block-comment":/([#]{3}\s*\r?\n(.*\s*\r*\n*)\s*?\r?\n[#]{3})/g,comment:/(\s|^)([#]{1}[^#^\r^\n]{2,}?(\r?\n|$))/g,keyword:/\b(this|window|delete|class|extends|namespace|extend|ar|let|if|else|while|do|for|each|of|return|in|instanceof|new|with|typeof|try|catch|finally|null|undefined|break|continue)\b/g}),Prism.languages.insertBefore("coffeescript","keyword",{"function":{pattern:/[a-z|A-z]+\s*[:|=]\s*(\([.|a-z\s|,|:|{|}|\"|\'|=]*\))?\s*-&gt;/gi,inside:{"function-name":/[_?a-z-|A-Z-]+(\s*[:|=])| @[_?$?a-z-|A-Z-]+(\s*)| /g,operator:/[-+]{1,2}|!|=?&lt;|=?&gt;|={1,2}|(&amp;){1,2}|\|?\||\?|\*|\//g}},"attr-name":/[_?a-z-|A-Z-]+(\s*:)| @[_?$?a-z-|A-Z-]+(\s*)| /g}),Prism.languages.scss=Prism.languages.extend("css",{comment:{pattern:/(^|[^\\])(\/\*[\w\W]*?\*\/|\/\/.*?(\r?\n|$))/g,lookbehind:!0},atrule:/@[\w-]+(?=\s+(\(|\{|;))/gi,url:/([-a-z]+-)*url(?=\()/gi,selector:/([^@;\{\}\(\)]?([^@;\{\}\(\)]|&amp;|\#\{\$[-_\w]+\})+)(?=\s*\{(\}|\s|[^\}]+(:|\{)[^\}]+))/gm}),Prism.languages.insertBefore("scss","atrule",{keyword:/@(if|else if|else|for|each|while|import|extend|debug|warn|mixin|include|function|return)|(?=@for\s+\$[-_\w]+\s)+from/i}),Prism.languages.insertBefore("scss","property",{variable:/((\$[-_\w]+)|(#\{\$[-_\w]+\}))/i}),Prism.languages.insertBefore("scss","ignore",{placeholder:/%[-_\w]+/i,statement:/\B!(default|optional)\b/gi,"boolean":/\b(true|false)\b/g,"null":/\b(null)\b/g,operator:/\s+([-+]{1,2}|={1,2}|!=|\|?\||\?|\*|\/|\%)\s+/g}),Prism.languages.bash=Prism.languages.extend("clike",{comment:{pattern:/(^|[^"{\\])(#.*?(\r?\n|$))/g,lookbehind:!0},string:{pattern:/("|')(\\?[\s\S])*?\1/g,inside:{property:/\$([a-zA-Z0-9_#\?\-\*!@]+|\{[^\}]+\})/g}},keyword:/\b(if|then|else|elif|fi|for|break|continue|while|in|case|function|select|do|done|until|echo|exit|return|set|declare)\b/g}),Prism.languages.insertBefore("bash","keyword",{property:/\$([a-zA-Z0-9_#\?\-\*!@]+|\{[^}]+\})/g}),Prism.languages.insertBefore("bash","comment",{important:/(^#!\s*\/bin\/bash)|(^#!\s*\/bin\/sh)/g}),Prism.languages.c=Prism.languages.extend("clike",{keyword:/\b(asm|typeof|inline|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|union|unsigned|void|volatile|while)\b/g,operator:/[-+]{1,2}|!=?|&lt;{1,2}=?|&gt;{1,2}=?|\-&gt;|={1,2}|\^|~|%|(&amp;){1,2}|\|?\||\?|\*|\//g}),Prism.languages.insertBefore("c","keyword",{property:/#\s*[a-zA-Z]+/g}),Prism.languages.cpp=Prism.languages.extend("c",{keyword:/\b(alignas|alignof|asm|auto|bool|break|case|catch|char|char16_t|char32_t|class|compl|const|constexpr|const_cast|continue|decltype|default|delete|delete\[\]|do|double|dynamic_cast|else|enum|explicit|export|extern|float|for|friend|goto|if|inline|int|long|mutable|namespace|new|new\[\]|noexcept|nullptr|operator|private|protected|public|register|reinterpret_cast|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/g,operator:/[-+]{1,2}|!=?|&lt;{1,2}=?|&gt;{1,2}=?|\-&gt;|:{1,2}|={1,2}|\^|~|%|(&amp;){1,2}|\|?\||\?|\*|\/|\b(and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/g}),Prism.languages.python={comment:{pattern:/(^|[^\\])#.*?(\r?\n|$)/g,lookbehind:!0},string:/("|')(\\?.)*?\1/g,keyword:/\b(as|assert|break|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|pass|print|raise|return|try|while|with|yield)\b/g,"boolean":/\b(True|False)\b/g,number:/\b-?(0x)?\d*\.?[\da-f]+\b/g,operator:/[-+]{1,2}|=?&lt;|=?&gt;|!|={1,2}|(&){1,2}|(&amp;){1,2}|\|?\||\?|\*|\/|~|\^|%|\b(or|and|not)\b/g,ignore:/&(lt|gt|amp);/gi,punctuation:/[{}[\];(),.:]/g},Prism.languages.sql={comment:{pattern:/(^|[^\\])(\/\*[\w\W]*?\*\/|((--)|(\/\/)).*?(\r?\n|$))/g,lookbehind:!0},string:/("|')(\\?.)*?\1/g,keyword:/\b(ACTION|ADD|AFTER|ALGORITHM|ALTER|ANALYZE|APPLY|AS|ASC|AUTHORIZATION|BACKUP|BDB|BEGIN|BERKELEYDB|BIGINT|BINARY|BIT|BLOB|BOOL|BOOLEAN|BREAK|BROWSE|BTREE|BULK|BY|CALL|CASCADE|CASCADED|CASE|CHAIN|CHAR VARYING|CHARACTER VARYING|CHECK|CHECKPOINT|CLOSE|CLUSTERED|COALESCE|COLUMN|COLUMNS|COMMENT|COMMIT|COMMITTED|COMPUTE|CONNECT|CONSISTENT|CONSTRAINT|CONTAINS|CONTAINSTABLE|CONTINUE|CONVERT|CREATE|CROSS|CURRENT|CURRENT_DATE|CURRENT_TIME|CURRENT_TIMESTAMP|CURRENT_USER|CURSOR|DATA|DATABASE|DATABASES|DATETIME|DBCC|DEALLOCATE|DEC|DECIMAL|DECLARE|DEFAULT|DEFINER|DELAYED|DELETE|DENY|DESC|DESCRIBE|DETERMINISTIC|DISABLE|DISCARD|DISK|DISTINCT|DISTINCTROW|DISTRIBUTED|DO|DOUBLE|DOUBLE PRECISION|DROP|DUMMY|DUMP|DUMPFILE|DUPLICATE KEY|ELSE|ENABLE|ENCLOSED BY|END|ENGINE|ENUM|ERRLVL|ERRORS|ESCAPE|ESCAPED BY|EXCEPT|EXEC|EXECUTE|EXIT|EXPLAIN|EXTENDED|FETCH|FIELDS|FILE|FILLFACTOR|FIRST|FIXED|FLOAT|FOLLOWING|FOR|FOR EACH ROW|FORCE|FOREIGN|FREETEXT|FREETEXTTABLE|FROM|FULL|FUNCTION|GEOMETRY|GEOMETRYCOLLECTION|GLOBAL|GOTO|GRANT|GROUP|HANDLER|HASH|HAVING|HOLDLOCK|IDENTITY|IDENTITY_INSERT|IDENTITYCOL|IF|IGNORE|IMPORT|INDEX|INFILE|INNER|INNODB|INOUT|INSERT|INT|INTEGER|INTERSECT|INTO|INVOKER|ISOLATION LEVEL|JOIN|KEY|KEYS|KILL|LANGUAGE SQL|LAST|LEFT|LIMIT|LINENO|LINES|LINESTRING|LOAD|LOCAL|LOCK|LONGBLOB|LONGTEXT|MATCH|MATCHED|MEDIUMBLOB|MEDIUMINT|MEDIUMTEXT|MERGE|MIDDLEINT|MODIFIES SQL DATA|MODIFY|MULTILINESTRING|MULTIPOINT|MULTIPOLYGON|NATIONAL|NATIONAL CHAR VARYING|NATIONAL CHARACTER|NATIONAL CHARACTER VARYING|NATIONAL VARCHAR|NATURAL|NCHAR|NCHAR VARCHAR|NEXT|NO|NO SQL|NOCHECK|NOCYCLE|NONCLUSTERED|NULLIF|NUMERIC|OF|OFF|OFFSETS|ON|OPEN|OPENDATASOURCE|OPENQUERY|OPENROWSET|OPTIMIZE|OPTION|OPTIONALLY|ORDER|OUT|OUTER|OUTFILE|OVER|PARTIAL|PARTITION|PERCENT|PIVOT|PLAN|POINT|POLYGON|PRECEDING|PRECISION|PREV|PRIMARY|PRINT|PRIVILEGES|PROC|PROCEDURE|PUBLIC|PURGE|QUICK|RAISERROR|READ|READS SQL DATA|READTEXT|REAL|RECONFIGURE|REFERENCES|RELEASE|RENAME|REPEATABLE|REPLICATION|REQUIRE|RESTORE|RESTRICT|RETURN|RETURNS|REVOKE|RIGHT|ROLLBACK|ROUTINE|ROWCOUNT|ROWGUIDCOL|ROWS?|RTREE|RULE|SAVE|SAVEPOINT|SCHEMA|SELECT|SERIAL|SERIALIZABLE|SESSION|SESSION_USER|SET|SETUSER|SHARE MODE|SHOW|SHUTDOWN|SIMPLE|SMALLINT|SNAPSHOT|SOME|SONAME|START|STARTING BY|STATISTICS|STATUS|STRIPED|SYSTEM_USER|TABLE|TABLES|TABLESPACE|TEMPORARY|TEMPTABLE|TERMINATED BY|TEXT|TEXTSIZE|THEN|TIMESTAMP|TINYBLOB|TINYINT|TINYTEXT|TO|TOP|TRAN|TRANSACTION|TRANSACTIONS|TRIGGER|TRUNCATE|TSEQUAL|TYPE|TYPES|UNBOUNDED|UNCOMMITTED|UNDEFINED|UNION|UNPIVOT|UPDATE|UPDATETEXT|USAGE|USE|USER|USING|VALUE|VALUES|VARBINARY|VARCHAR|VARCHARACTER|VARYING|VIEW|WAITFOR|WARNINGS|WHEN|WHERE|WHILE|WITH|WITH ROLLUP|WITHIN|WORK|WRITE|WRITETEXT)\b/gi,"boolean":/\b(TRUE|FALSE|NULL)\b/gi,number:/\b-?(0x)?\d*\.?[\da-f]+\b/g,operator:/\b(ALL|AND|ANY|BETWEEN|EXISTS|IN|LIKE|NOT|OR|IS|UNIQUE|CHARACTER SET|COLLATE|DIV|OFFSET|REGEXP|RLIKE|SOUNDS LIKE|XOR)\b|[-+]{1}|!|=?&lt;|=?&gt;|={1}|(&amp;){1,2}|\|?\||\?|\*|\//gi,ignore:/&(lt|gt|amp);/gi,punctuation:/[;[\]()`,.]/g},Prism.languages.groovy=Prism.languages.extend("clike",{keyword:/\b(as|def|in|abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|native|new|package|private|protected|public|return|short|static|strictfp|super|switch|synchronized|this|throw|throws|transient|try|void|volatile|while)\b/g,string:/("""|''')[\W\w]*?\1|("|'|\/)[\W\w]*?\2/g,number:/\b0b[01_]+\b|\b0x[\da-f_]+(\.[\da-f_p\-]+)?\b|\b[\d_]+(\.[\d_]+[e]?[\d]*)?[glidf]\b|[\d_]+(\.[\d_]+)?\b/gi,operator:/={0,2}~|\?\.|\*?\.@|\.&amp;|\.(?=\w)|\.{2}(&lt;)?(?=\w)|-&gt;|\?:|[-+]{1,2}|!|&lt;=&gt;|(&gt;){1,3}|(&lt;){1,2}|={1,2}|(&amp;){1,2}|\|{1,2}|\?|\*{1,2}|\/|\^|%/g,punctuation:/\.+|[{}[\];(),:$]/g,annotation:/@\w+/}),Prism.languages.insertBefore("groovy","punctuation",{"spock-block":/\b(setup|given|when|then|and|cleanup|expect|where):/g}),Prism.hooks.add("wrap",function(a){if("groovy"===a.language&&"string"===a.type){var b=a.content[0];
"'"!=b&&(a.content=Prism.highlight(a.content,{expression:{pattern:/([^\\])(\$(\{.*?\}|[\w\.]*))/,lookbehind:!0,inside:Prism.languages.groovy}}),a.classes.push("/"===b?"regex":"gstring"))}}),Prism.languages.http={"request-line":{pattern:/^(POST|GET|PUT|DELETE|OPTIONS)\b\shttps?:\/\/\S+\sHTTP\/[0-9.]+/g,inside:{property:/^\b(POST|GET|PUT|DELETE|OPTIONS)\b/g,"attr-name":/:\w+/g}},"response-status":{pattern:/^HTTP\/1.[01] [0-9]+.*/g,inside:{property:/[0-9]+[A-Z\s-]+$/g}},keyword:/^[\w-]+:(?=.+)/gm};var a={"application/json":Prism.languages.javascript,"application/xml":Prism.languages.markup,"text/xml":Prism.languages.markup,"text/html":Prism.languages.markup};for(var b in a)if(a[b]){var c={};c[b]={pattern:new RegExp("(content-type:\\s*"+b+"[\\w\\W]*?)\\n\\n[\\w\\W]*","gi"),lookbehind:!0,inside:{rest:a[b]}},Prism.languages.insertBefore("http","keyword",c)}Prism.languages.ruby=Prism.languages.extend("clike",{comment:/#[^\r\n]*(\r?\n|$)/g,keyword:/\b(alias|and|BEGIN|begin|break|case|class|def|define_method|defined|do|each|else|elsif|END|end|ensure|false|for|if|in|module|new|next|nil|not|or|raise|redo|require|rescue|retry|return|self|super|then|throw|true|undef|unless|until|when|while|yield)\b/g,builtin:/\b(Array|Bignum|Binding|Class|Continuation|Dir|Exception|FalseClass|File|Stat|File|Fixnum|Fload|Hash|Integer|IO|MatchData|Method|Module|NilClass|Numeric|Object|Proc|Range|Regexp|String|Struct|TMS|Symbol|ThreadGroup|Thread|Time|TrueClass)\b/,constant:/\b[A-Z][a-zA-Z_0-9]*[?!]?\b/g}),Prism.languages.insertBefore("ruby","keyword",{regex:{pattern:/(^|[^\/])\/(?!\/)(\[.+?]|\\.|[^\/\r\n])+\/[gim]{0,3}(?=\s*($|[\r\n,.;})]))/g,lookbehind:!0},variable:/[@$&]+\b[a-zA-Z_][a-zA-Z_0-9]*[?!]?\b/g,symbol:/:\b[a-zA-Z_][a-zA-Z_0-9]*[?!]?\b/g}),Prism.languages.gherkin={comment:{pattern:/(^|[^\\])(\/\*[\w\W]*?\*\/|((#)|(\/\/)).*?(\r?\n|$))/g,lookbehind:!0},string:/("|')(\\?.)*?\1/g,atrule:/\b(And|Given|When|Then|In order to|As an|I want to|As a)\b/g,keyword:/\b(Scenario Outline|Scenario|Feature|Background|Story)\b/g},Prism.languages.csharp=Prism.languages.extend("clike",{keyword:/\b(abstract|as|base|bool|break|byte|case|catch|char|checked|class|const|continue|decimal|default|delegate|do|double|else|enum|event|explicit|extern|false|finally|fixed|float|for|foreach|goto|if|implicit|in|int|interface|internal|is|lock|long|namespace|new|null|object|operator|out|override|params|private|protected|public|readonly|ref|return|sbyte|sealed|short|sizeof|stackalloc|static|string|struct|switch|this|throw|true|try|typeof|uint|ulong|unchecked|unsafe|ushort|using|virtual|void|volatile|while|add|alias|ascending|async|await|descending|dynamic|from|get|global|group|into|join|let|orderby|partial|remove|select|set|value|var|where|yield)\b/g,string:/@?("|')(\\?.)*?\1/g,preprocessor:/^\s*#.*/gm,number:/\b-?(0x)?\d*\.?\d+\b/g}),Prism.hooks.add("after-highlight",function(a){var b=a.element.parentNode;if(b&&/pre/i.test(b.nodeName)&&-1!==b.className.indexOf("line-numbers")){var d,c=1+a.code.split("\n").length;lines=new Array(c),lines=lines.join("<span></span>"),d=document.createElement("span"),d.className="line-numbers-rows",d.innerHTML=lines,b.hasAttribute("data-start")&&(b.style.counterReset="linenumber "+(parseInt(b.getAttribute("data-start"),10)-1)),a.element.appendChild(d)}})}),ed.define("selectize",["edjquery","site/vendors/sifter","site/vendors/microplugin"],function(a,b,c){"use strict";var d=function(a,b){if("string"!=typeof b||b.length){var c="string"==typeof b?new RegExp(b,"i"):b,d=function(a){var b=0;if(3===a.nodeType){var e=a.data.search(c);if(e>=0&&a.data.length>0){var f=a.data.match(c),g=document.createElement("span");g.className="highlight";var h=a.splitText(e),j=(h.splitText(f[0].length),h.cloneNode(!0));g.appendChild(j),h.parentNode.replaceChild(g,h),b=1}}else if(1===a.nodeType&&a.childNodes&&!/(script|style)/i.test(a.tagName))for(var k=0;k<a.childNodes.length;++k)k+=d(a.childNodes[k]);return b};return a.each(function(){d(this)})}},e=function(){};e.prototype={on:function(a,b){this._events=this._events||{},this._events[a]=this._events[a]||[],this._events[a].push(b)},off:function(a,b){var c=arguments.length;return 0===c?delete this._events:1===c?delete this._events[a]:(this._events=this._events||{},a in this._events!=!1&&this._events[a].splice(this._events[a].indexOf(b),1),void 0)},trigger:function(a){if(this._events=this._events||{},a in this._events!=!1)for(var b=0;b<this._events[a].length;b++)this._events[a][b].apply(this,Array.prototype.slice.call(arguments,1))}},e.mixin=function(a){for(var b=["on","off","trigger"],c=0;c<b.length;c++)a.prototype[b[c]]=e.prototype[b[c]]};var f=/Mac/.test(navigator.userAgent),g=65,i=13,j=27,k=37,l=38,m=80,n=39,o=40,p=78,q=8,r=46,s=16,t=f?91:17,u=f?18:17,v=9,w=1,x=2,y=!/android/i.test(window.navigator.userAgent)&&!!document.createElement("form").validity,z=function(a){return"undefined"!=typeof a},A=function(a){return"undefined"==typeof a||null===a?null:"boolean"==typeof a?a?"1":"0":a+""},B=function(a){return(a+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},C=function(a){return(a+"").replace(/\$/g,"$$$$")},D={};D.before=function(a,b,c){var d=a[b];a[b]=function(){return c.apply(a,arguments),d.apply(a,arguments)}},D.after=function(a,b,c){var d=a[b];a[b]=function(){var b=d.apply(a,arguments);return c.apply(a,arguments),b}};var E=function(a){var b=!1;return function(){b||(b=!0,a.apply(this,arguments))}},F=function(a,b){var c;return function(){var d=this,e=arguments;window.clearTimeout(c),c=window.setTimeout(function(){a.apply(d,e)},b)}},G=function(a,b,c){var d,e=a.trigger,f={};a.trigger=function(){var c=arguments[0];return-1===b.indexOf(c)?e.apply(a,arguments):(f[c]=arguments,void 0)},c.apply(a,[]),a.trigger=e;for(d in f)f.hasOwnProperty(d)&&e.apply(a,f[d])},H=function(a,b,c,d){a.on(b,c,function(b){for(var c=b.target;c&&c.parentNode!==a[0];)c=c.parentNode;return b.currentTarget=c,d.apply(this,[b])})},I=function(a){var b={};if("selectionStart"in a)b.start=a.selectionStart,b.length=a.selectionEnd-b.start;else if(document.selection){a.focus();var c=document.selection.createRange(),d=document.selection.createRange().text.length;c.moveStart("character",-a.value.length),b.start=c.text.length-d,b.length=d}return b},J=function(a,b,c){var d,e,f={};if(c)for(d=0,e=c.length;e>d;d++)f[c[d]]=a.css(c[d]);else f=a.css();b.css(f)},K=function(b,c){if(!b)return 0;var d=a("<test>").css({position:"absolute",top:-99999,left:-99999,width:"auto",padding:0,whiteSpace:"pre"}).text(b).appendTo("body");J(c,d,["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"]);var e=d.width();return d.remove(),e},L=function(a){var b=null,c=function(c,d){var e,f,g,h,i,j,k,l;c=c||window.event||{},d=d||{},c.metaKey||c.altKey||(d.force||a.data("grow")!==!1)&&(e=a.val(),c.type&&"keydown"===c.type.toLowerCase()&&(f=c.keyCode,g=f>=97&&122>=f||f>=65&&90>=f||f>=48&&57>=f||32===f,f===r||f===q?(l=I(a[0]),l.length?e=e.substring(0,l.start)+e.substring(l.start+l.length):f===q&&l.start?e=e.substring(0,l.start-1)+e.substring(l.start+1):f===r&&"undefined"!=typeof l.start&&(e=e.substring(0,l.start)+e.substring(l.start+1))):g&&(j=c.shiftKey,k=String.fromCharCode(c.keyCode),k=j?k.toUpperCase():k.toLowerCase(),e+=k)),h=a.attr("placeholder"),!e&&h&&(e=h),i=K(e,a)+4,i!==b&&(b=i,a.width(i),a.triggerHandler("resize")))};a.on("keydown keyup update blur",c),c()},M=function(c,d){var f,g,h,i,j=this;i=c[0],i.selectize=j;var k=window.getComputedStyle&&window.getComputedStyle(i,null);if(h=k?k.getPropertyValue("direction"):i.currentStyle&&i.currentStyle.direction,h=h||c.parents("[dir]:first").attr("dir")||"",a.extend(j,{order:0,settings:d,$input:c,tabIndex:c.attr("tabindex")||"",tagType:"select"===i.tagName.toLowerCase()?w:x,rtl:/rtl/i.test(h),eventNS:".selectize"+ ++M.count,highlightedValue:null,isOpen:!1,isDisabled:!1,isRequired:c.is("[required]"),isInvalid:!1,isLocked:!1,isFocused:!1,isInputHidden:!1,isSetup:!1,isShiftDown:!1,isCmdDown:!1,isCtrlDown:!1,ignoreFocus:!1,ignoreBlur:!1,ignoreHover:!1,hasOptions:!1,currentResults:null,lastValue:"",caretPos:0,loading:0,loadedSearches:{},$activeOption:null,$activeItems:[],optgroups:{},options:{},userOptions:{},items:[],renderCache:{},onSearchChange:null===d.loadThrottle?j.onSearchChange:F(j.onSearchChange,d.loadThrottle)}),j.sifter=new b(this.options,{diacritics:d.diacritics}),j.settings.options){for(f=0,g=j.settings.options.length;g>f;f++)j.registerOption(j.settings.options[f]);delete j.settings.options}if(j.settings.optgroups){for(f=0,g=j.settings.optgroups.length;g>f;f++)j.registerOptionGroup(j.settings.optgroups[f]);delete j.settings.optgroups}j.settings.mode=j.settings.mode||(1===j.settings.maxItems?"single":"multi"),"boolean"!=typeof j.settings.hideSelected&&(j.settings.hideSelected="multi"===j.settings.mode),j.initializePlugins(j.settings.plugins),j.setupCallbacks(),j.setupTemplates(),j.setup()};return e.mixin(M),c.mixin(M),a.extend(M.prototype,{setup:function(){var i,j,k,l,m,n,o,r,v,b=this,c=b.settings,d=b.eventNS,e=a(window),g=a(document),h=b.$input;if(o=b.settings.mode,r=h.attr("class")||"",i=a("<div>").addClass(c.wrapperClass).addClass(r).addClass(o),j=a("<div>").addClass(c.inputClass).addClass("items").appendTo(i),k=a('<input type="text" autocomplete="off" />').appendTo(j).attr("tabindex",h.is(":disabled")?"-1":b.tabIndex),n=a(c.dropdownParent||i),l=a("<div>").addClass(c.dropdownClass).addClass(o).hide().appendTo(n),m=a("<div>").addClass(c.dropdownContentClass).appendTo(l),b.settings.copyClassesToDropdown&&l.addClass(r),i.css({width:h[0].style.width}),b.plugins.names.length&&(v="plugin-"+b.plugins.names.join(" plugin-"),i.addClass(v),l.addClass(v)),(null===c.maxItems||c.maxItems>1)&&b.tagType===w&&h.attr("multiple","multiple"),b.settings.placeholder&&k.attr("placeholder",c.placeholder),!b.settings.splitOn&&b.settings.delimiter){var x=b.settings.delimiter.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");b.settings.splitOn=new RegExp("\\s*"+x+"+\\s*")}h.attr("autocorrect")&&k.attr("autocorrect",h.attr("autocorrect")),h.attr("autocapitalize")&&k.attr("autocapitalize",h.attr("autocapitalize")),b.$wrapper=i,b.$control=j,b.$control_input=k,b.$dropdown=l,b.$dropdown_content=m,l.on("mouseenter","[data-selectable]",function(){return b.onOptionHover.apply(b,arguments)}),l.on("mousedown click","[data-selectable]",function(){return b.onOptionSelect.apply(b,arguments)}),H(j,"mousedown","*:not(input)",function(){return b.onItemSelect.apply(b,arguments)}),L(k),j.on({mousedown:function(){return b.onMouseDown.apply(b,arguments)},click:function(){return b.onClick.apply(b,arguments)}}),k.on({mousedown:function(a){a.stopPropagation()},keydown:function(){return b.onKeyDown.apply(b,arguments)},keyup:function(){return b.onKeyUp.apply(b,arguments)},keypress:function(){return b.onKeyPress.apply(b,arguments)},resize:function(){b.positionDropdown.apply(b,[])},blur:function(){return b.onBlur.apply(b,arguments)},focus:function(){return b.ignoreBlur=!1,b.onFocus.apply(b,arguments)},paste:function(){return b.onPaste.apply(b,arguments)}}),g.on("keydown"+d,function(a){b.isCmdDown=a[f?"metaKey":"ctrlKey"],b.isCtrlDown=a[f?"altKey":"ctrlKey"],b.isShiftDown=a.shiftKey}),g.on("keyup"+d,function(a){a.keyCode===u&&(b.isCtrlDown=!1),a.keyCode===s&&(b.isShiftDown=!1),a.keyCode===t&&(b.isCmdDown=!1)}),g.on("mousedown"+d,function(a){if(b.isFocused){if(a.target===b.$dropdown[0]||a.target.parentNode===b.$dropdown[0])return!1;b.$control.has(a.target).length||a.target===b.$control[0]||b.blur(a.target)}}),e.on(["scroll"+d,"resize"+d].join(" "),function(){b.isOpen&&b.positionDropdown.apply(b,arguments)}),e.on("mousemove"+d,function(){b.ignoreHover=!1}),this.revertSettings={$children:h.children().detach(),tabindex:h.attr("tabindex")},h.attr("tabindex",-1).hide().after(b.$wrapper),a.isArray(c.items)&&(b.setValue(c.items),delete c.items),y&&h.on("invalid"+d,function(a){a.preventDefault(),b.isInvalid=!0,b.refreshState()}),b.updateOriginalInput(),b.refreshItems(),b.refreshState(),b.updatePlaceholder(),b.isSetup=!0,h.is(":disabled")&&b.disable(),b.on("change",this.onChange),h.data("selectize",b),h.addClass("selectized"),b.trigger("initialize"),c.preload===!0&&b.onSearchChange("")},setupTemplates:function(){var b=this,c=b.settings.labelField,d=b.settings.optgroupLabelField,e={optgroup:function(a){return'<div class="optgroup">'+a.html+"</div>"},optgroup_header:function(a,b){return'<div class="optgroup-header">'+b(a[d])+"</div>"},option:function(a,b){return'<div class="option">'+b(a[c])+"</div>"},item:function(a,b){return'<div class="item">'+b(a[c])+"</div>"},option_create:function(a,b){return'<div class="create">Add <strong>'+b(a.input)+"</strong>&hellip;</div>"}};b.settings.render=a.extend({},e,b.settings.render)},setupCallbacks:function(){var a,b,c={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur"};for(a in c)c.hasOwnProperty(a)&&(b=this.settings[c[a]],b&&this.on(a,b))},onClick:function(a){var b=this;b.isFocused||(b.focus(),a.preventDefault())},onMouseDown:function(b){{var c=this,d=b.isDefaultPrevented();a(b.target)}if(c.isFocused){if(b.target!==c.$control_input[0])return"single"===c.settings.mode?c.isOpen?c.close():c.open():d||c.setActiveItem(null),!1}else d||window.setTimeout(function(){c.focus()},0)},onChange:function(){this.$input.trigger("change")},onPaste:function(b){var c=this;c.isFull()||c.isInputHidden||c.isLocked?b.preventDefault():c.settings.splitOn&&setTimeout(function(){for(var b=a.trim(c.$control_input.val()||"").split(c.settings.splitOn),d=0,e=b.length;e>d;d++)c.createItem(b[d])},0)},onKeyPress:function(a){if(this.isLocked)return a&&a.preventDefault();var b=String.fromCharCode(a.keyCode||a.which);return this.settings.create&&"multi"===this.settings.mode&&b===this.settings.delimiter?(this.createItem(),a.preventDefault(),!1):void 0},onKeyDown:function(a){var c=(a.target===this.$control_input[0],this);if(c.isLocked)return a.keyCode!==v&&a.preventDefault(),void 0;switch(a.keyCode){case g:if(c.isCmdDown)return c.selectAll(),void 0;break;case j:return c.isOpen&&(a.preventDefault(),a.stopPropagation(),c.close()),void 0;case p:if(!a.ctrlKey||a.altKey)break;case o:if(!c.isOpen&&c.hasOptions)c.open();else if(c.$activeOption){c.ignoreHover=!0;var d=c.getAdjacentOption(c.$activeOption,1);d.length&&c.setActiveOption(d,!0,!0)}return a.preventDefault(),void 0;case m:if(!a.ctrlKey||a.altKey)break;case l:if(c.$activeOption){c.ignoreHover=!0;var e=c.getAdjacentOption(c.$activeOption,-1);e.length&&c.setActiveOption(e,!0,!0)}return a.preventDefault(),void 0;case i:return c.isOpen&&c.$activeOption&&(c.onOptionSelect({currentTarget:c.$activeOption}),a.preventDefault()),void 0;case k:return c.advanceSelection(-1,a),void 0;case n:return c.advanceSelection(1,a),void 0;case v:return c.settings.selectOnTab&&c.isOpen&&c.$activeOption&&(c.onOptionSelect({currentTarget:c.$activeOption}),c.isFull()||a.preventDefault()),c.settings.create&&c.createItem()&&a.preventDefault(),void 0;case q:case r:return c.deleteSelection(a),void 0}return!c.isFull()&&!c.isInputHidden||(f?a.metaKey:a.ctrlKey)?void 0:(a.preventDefault(),void 0)},onKeyUp:function(a){var b=this;if(b.isLocked)return a&&a.preventDefault();var c=b.$control_input.val()||"";b.lastValue!==c&&(b.lastValue=c,b.onSearchChange(c),b.refreshOptions(),b.trigger("type",c))},onSearchChange:function(a){var b=this,c=b.settings.load;c&&(b.loadedSearches.hasOwnProperty(a)||(b.loadedSearches[a]=!0,b.load(function(d){c.apply(b,[a,d])})))},onFocus:function(a){var b=this,c=b.isFocused;return b.isDisabled?(b.blur(),a&&a.preventDefault(),!1):(b.ignoreFocus||(b.isFocused=!0,"focus"===b.settings.preload&&b.onSearchChange(""),c||b.trigger("focus"),b.$activeItems.length||(b.showInput(),b.setActiveItem(null),b.refreshOptions(!!b.settings.openOnFocus)),b.refreshState()),void 0)},onBlur:function(a,b){var c=this;if(c.isFocused&&(c.isFocused=!1,!c.ignoreFocus)){if(!c.ignoreBlur&&document.activeElement===c.$dropdown_content[0])return c.ignoreBlur=!0,c.onFocus(a),void 0;var d=function(){c.close(),c.setTextboxValue(""),c.setActiveItem(null),c.setActiveOption(null),c.setCaret(c.items.length),c.refreshState(),(b||document.body).focus(),c.ignoreFocus=!1,c.trigger("blur")};c.ignoreFocus=!0,c.settings.create&&c.settings.createOnBlur?c.createItem(null,!1,d):d()}},onOptionHover:function(a){this.ignoreHover||this.setActiveOption(a.currentTarget,!1)},onOptionSelect:function(b){var c,d,f=this;b.preventDefault&&(b.preventDefault(),b.stopPropagation()),d=a(b.currentTarget),d.hasClass("create")?f.createItem(null,function(){f.settings.closeAfterSelect&&f.close()}):(c=d.attr("data-value"),"undefined"!=typeof c&&(f.lastQuery=null,f.setTextboxValue(""),f.addItem(c),f.settings.closeAfterSelect?f.close():!f.settings.hideSelected&&b.type&&/mouse/.test(b.type)&&f.setActiveOption(f.getOption(c))))},onItemSelect:function(a){var b=this;b.isLocked||"multi"===b.settings.mode&&(a.preventDefault(),b.setActiveItem(a.currentTarget,a))},load:function(a){var b=this,c=b.$wrapper.addClass(b.settings.loadingClass);b.loading++,a.apply(b,[function(a){b.loading=Math.max(b.loading-1,0),a&&a.length&&(b.addOption(a),b.refreshOptions(b.isFocused&&!b.isInputHidden)),b.loading||c.removeClass(b.settings.loadingClass),b.trigger("load",a)}])},setTextboxValue:function(a){var b=this.$control_input,c=b.val()!==a;c&&(b.val(a).triggerHandler("update"),this.lastValue=a)},getValue:function(){return this.tagType===w&&this.$input.attr("multiple")?this.items:this.items.join(this.settings.delimiter)},setValue:function(a,b){var c=b?[]:["change"];G(this,c,function(){this.clear(b),this.addItems(a,b)})},setActiveItem:function(b,c){var e,f,g,h,i,j,k,l,d=this;if("single"!==d.settings.mode){if(b=a(b),!b.length)return a(d.$activeItems).removeClass("active"),d.$activeItems=[],d.isFocused&&d.showInput(),void 0;if(e=c&&c.type.toLowerCase(),"mousedown"===e&&d.isShiftDown&&d.$activeItems.length){for(l=d.$control.children(".active:last"),h=Array.prototype.indexOf.apply(d.$control[0].childNodes,[l[0]]),i=Array.prototype.indexOf.apply(d.$control[0].childNodes,[b[0]]),h>i&&(k=h,h=i,i=k),f=h;i>=f;f++)j=d.$control[0].childNodes[f],-1===d.$activeItems.indexOf(j)&&(a(j).addClass("active"),d.$activeItems.push(j));c.preventDefault()}else"mousedown"===e&&d.isCtrlDown||"keydown"===e&&this.isShiftDown?b.hasClass("active")?(g=d.$activeItems.indexOf(b[0]),d.$activeItems.splice(g,1),b.removeClass("active")):d.$activeItems.push(b.addClass("active")[0]):(a(d.$activeItems).removeClass("active"),d.$activeItems=[b.addClass("active")[0]]);d.hideInput(),this.isFocused||d.focus()}},setActiveOption:function(b,c,d){var e,f,g,h,i,j=this;j.$activeOption&&j.$activeOption.removeClass("active"),j.$activeOption=null,b=a(b),b.length&&(j.$activeOption=b.addClass("active"),(c||!z(c))&&(e=j.$dropdown_content.height(),f=j.$activeOption.outerHeight(!0),c=j.$dropdown_content.scrollTop()||0,g=j.$activeOption.offset().top-j.$dropdown_content.offset().top+c,h=g,i=g-e+f,g+f>e+c?j.$dropdown_content.stop().animate({scrollTop:i},d?j.settings.scrollDuration:0):c>g&&j.$dropdown_content.stop().animate({scrollTop:h},d?j.settings.scrollDuration:0)))},selectAll:function(){var a=this;"single"!==a.settings.mode&&(a.$activeItems=Array.prototype.slice.apply(a.$control.children(":not(input)").addClass("active")),a.$activeItems.length&&(a.hideInput(),a.close()),a.focus())},hideInput:function(){var a=this;a.setTextboxValue(""),a.$control_input.css({opacity:0,position:"absolute",left:a.rtl?1e4:-1e4}),a.isInputHidden=!0},showInput:function(){this.$control_input.css({opacity:1,position:"relative",left:0}),this.isInputHidden=!1},focus:function(){var a=this;a.isDisabled||(a.ignoreFocus=!0,a.$control_input[0].focus(),window.setTimeout(function(){a.ignoreFocus=!1,a.onFocus()},0))},blur:function(a){this.$control_input[0].blur(),this.onBlur(null,a)},getScoreFunction:function(a){return this.sifter.getScoreFunction(a,this.getSearchOptions())},getSearchOptions:function(){var a=this.settings,b=a.sortField;return"string"==typeof b&&(b=[{field:b}]),{fields:a.searchField,conjunction:a.searchConjunction,sort:b}},search:function(b){var c,f,g,h=this,i=h.settings,j=this.getSearchOptions();if(i.score&&(g=h.settings.score.apply(this,[b]),"function"!=typeof g))throw new Error('Selectize "score" setting must be a function that returns a function');if(b!==h.lastQuery?(h.lastQuery=b,f=h.sifter.search(b,a.extend(j,{score:g})),h.currentResults=f):f=a.extend(!0,{},h.currentResults),i.hideSelected)for(c=f.items.length-1;c>=0;c--)-1!==h.items.indexOf(A(f.items[c].id))&&f.items.splice(c,1);return f},refreshOptions:function(b){var c,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s;"undefined"==typeof b&&(b=!0);var t=this,u=a.trim(t.$control_input.val()),v=t.search(u),w=t.$dropdown_content,x=t.$activeOption&&A(t.$activeOption.attr("data-value"));for(g=v.items.length,"number"==typeof t.settings.maxOptions&&(g=Math.min(g,t.settings.maxOptions)),h={},i=[],c=0;g>c;c++)for(j=t.options[v.items[c].id],k=t.render("option",j),l=j[t.settings.optgroupField]||"",m=a.isArray(l)?l:[l],e=0,f=m&&m.length;f>e;e++)l=m[e],t.optgroups.hasOwnProperty(l)||(l=""),h.hasOwnProperty(l)||(h[l]=[],i.push(l)),h[l].push(k);for(this.settings.lockOptgroupOrder&&i.sort(function(a,b){var c=t.optgroups[a].$order||0,d=t.optgroups[b].$order||0;return c-d}),n=[],c=0,g=i.length;g>c;c++)l=i[c],t.optgroups.hasOwnProperty(l)&&h[l].length?(o=t.render("optgroup_header",t.optgroups[l])||"",o+=h[l].join(""),n.push(t.render("optgroup",a.extend({},t.optgroups[l],{html:o})))):n.push(h[l].join(""));if(w.html(n.join("")),t.settings.highlight&&v.query.length&&v.tokens.length)for(c=0,g=v.tokens.length;g>c;c++)d(w,v.tokens[c].regex);if(!t.settings.hideSelected)for(c=0,g=t.items.length;g>c;c++)t.getOption(t.items[c]).addClass("selected");p=t.canCreate(u),p&&(w.prepend(t.render("option_create",{input:u})),s=a(w[0].childNodes[0])),t.hasOptions=v.items.length>0||p,t.hasOptions?(v.items.length>0?(r=x&&t.getOption(x),r&&r.length?q=r:"single"===t.settings.mode&&t.items.length&&(q=t.getOption(t.items[0])),q&&q.length||(q=s&&!t.settings.addPrecedence?t.getAdjacentOption(s,1):w.find("[data-selectable]:first"))):q=s,t.setActiveOption(q),b&&!t.isOpen&&t.open()):(t.setActiveOption(null),b&&t.isOpen&&t.close())},addOption:function(b){var c,d,e,f=this;if(a.isArray(b))for(c=0,d=b.length;d>c;c++)f.addOption(b[c]);else(e=f.registerOption(b))&&(f.userOptions[e]=!0,f.lastQuery=null,f.trigger("option_add",e,b))},registerOption:function(a){var b=A(a[this.settings.valueField]);return!b||this.options.hasOwnProperty(b)?!1:(a.$order=a.$order||++this.order,this.options[b]=a,b)},registerOptionGroup:function(a){var b=A(a[this.settings.optgroupValueField]);return b?(a.$order=a.$order||++this.order,this.optgroups[b]=a,b):!1},addOptionGroup:function(a,b){b[this.settings.optgroupValueField]=a,(a=this.registerOptionGroup(b))&&this.trigger("optgroup_add",a,b)},removeOptionGroup:function(a){this.optgroups.hasOwnProperty(a)&&(delete this.optgroups[a],this.renderCache={},this.trigger("optgroup_remove",a))},clearOptionGroups:function(){this.optgroups={},this.renderCache={},this.trigger("optgroup_clear")},updateOption:function(b,c){var e,f,g,h,i,j,k,d=this;if(b=A(b),g=A(c[d.settings.valueField]),null!==b&&d.options.hasOwnProperty(b)){if("string"!=typeof g)throw new Error("Value must be set in option data");k=d.options[b].$order,g!==b&&(delete d.options[b],h=d.items.indexOf(b),-1!==h&&d.items.splice(h,1,g)),c.$order=c.$order||k,d.options[g]=c,i=d.renderCache.item,j=d.renderCache.option,i&&(delete i[b],delete i[g]),j&&(delete j[b],delete j[g]),-1!==d.items.indexOf(g)&&(e=d.getItem(b),f=a(d.render("item",c)),e.hasClass("active")&&f.addClass("active"),e.replaceWith(f)),d.lastQuery=null,d.isOpen&&d.refreshOptions(!1)}},removeOption:function(a,b){var c=this;a=A(a);var d=c.renderCache.item,e=c.renderCache.option;d&&delete d[a],e&&delete e[a],delete c.userOptions[a],delete c.options[a],c.lastQuery=null,c.trigger("option_remove",a),c.removeItem(a,b)},clearOptions:function(){var a=this;a.loadedSearches={},a.userOptions={},a.renderCache={},a.options=a.sifter.items={},a.lastQuery=null,a.trigger("option_clear"),a.clear()},getOption:function(a){return this.getElementWithValue(a,this.$dropdown_content.find("[data-selectable]"))},getAdjacentOption:function(b,c){var d=this.$dropdown.find("[data-selectable]"),e=d.index(b)+c;return e>=0&&e<d.length?d.eq(e):a()},getElementWithValue:function(b,c){if(b=A(b),"undefined"!=typeof b&&null!==b)for(var d=0,e=c.length;e>d;d++)if(c[d].getAttribute("data-value")===b)return a(c[d]);return a()},getItem:function(a){return this.getElementWithValue(a,this.$control.children())},addItems:function(b,c){for(var d=a.isArray(b)?b:[b],e=0,f=d.length;f>e;e++)this.isPending=f-1>e,this.addItem(d[e],c)},addItem:function(b,c){var d=c?[]:["change"];G(this,d,function(){var d,e,f,k,l,g=this,h=g.settings.mode;return b=A(b),-1!==g.items.indexOf(b)?("single"===h&&g.close(),void 0):(g.options.hasOwnProperty(b)&&("single"===h&&g.clear(c),"multi"===h&&g.isFull()||(d=a(g.render("item",g.options[b])),l=g.isFull(),g.items.splice(g.caretPos,0,b),g.insertAtCaret(d),(!g.isPending||!l&&g.isFull())&&g.refreshState(),g.isSetup&&(f=g.$dropdown_content.find("[data-selectable]"),g.isPending||(e=g.getOption(b),k=g.getAdjacentOption(e,1).attr("data-value"),g.refreshOptions(g.isFocused&&"single"!==h),k&&g.setActiveOption(g.getOption(k))),!f.length||g.isFull()?g.close():g.positionDropdown(),g.updatePlaceholder(),g.trigger("item_add",b,d),g.updateOriginalInput({silent:c})))),void 0)})},removeItem:function(a,b){var d,e,f,c=this;d="object"==typeof a?a:c.getItem(a),a=A(d.attr("data-value")),e=c.items.indexOf(a),-1!==e&&(d.remove(),d.hasClass("active")&&(f=c.$activeItems.indexOf(d[0]),c.$activeItems.splice(f,1)),c.items.splice(e,1),c.lastQuery=null,!c.settings.persist&&c.userOptions.hasOwnProperty(a)&&c.removeOption(a,b),e<c.caretPos&&c.setCaret(c.caretPos-1),c.refreshState(),c.updatePlaceholder(),c.updateOriginalInput({silent:b}),c.positionDropdown(),c.trigger("item_remove",a,d))},createItem:function(b,c){var d=this,e=d.caretPos;b=b||a.trim(d.$control_input.val()||"");var f=arguments[arguments.length-1];if("function"!=typeof f&&(f=function(){}),"boolean"!=typeof c&&(c=!0),!d.canCreate(b))return f(),!1;d.lock();var g="function"==typeof d.settings.create?this.settings.create:function(a){var b={};return b[d.settings.labelField]=a,b[d.settings.valueField]=a,b},h=E(function(a){if(d.unlock(),!a||"object"!=typeof a)return f();var b=A(a[d.settings.valueField]);return"string"!=typeof b?f():(d.setTextboxValue(""),d.addOption(a),d.setCaret(e),d.addItem(b),d.refreshOptions(c&&"single"!==d.settings.mode),f(a),void 0)}),i=g.apply(this,[b,h]);return"undefined"!=typeof i&&h(i),!0},refreshItems:function(){this.lastQuery=null,this.isSetup&&this.addItem(this.items),this.refreshState(),this.updateOriginalInput()},refreshState:function(){var a,b=this;b.isRequired&&(b.items.length&&(b.isInvalid=!1),b.$control_input.prop("required",a)),b.refreshClasses()},refreshClasses:function(){var b=this,c=b.isFull(),d=b.isLocked;b.$wrapper.toggleClass("rtl",b.rtl),b.$control.toggleClass("focus",b.isFocused).toggleClass("disabled",b.isDisabled).toggleClass("required",b.isRequired).toggleClass("invalid",b.isInvalid).toggleClass("locked",d).toggleClass("full",c).toggleClass("not-full",!c).toggleClass("input-active",b.isFocused&&!b.isInputHidden).toggleClass("dropdown-active",b.isOpen).toggleClass("has-options",!a.isEmptyObject(b.options)).toggleClass("has-items",b.items.length>0),b.$control_input.data("grow",!c&&!d)},isFull:function(){return null!==this.settings.maxItems&&this.items.length>=this.settings.maxItems},updateOriginalInput:function(a){var b,c,d,e,f=this;if(a=a||{},f.tagType===w){for(d=[],b=0,c=f.items.length;c>b;b++)e=f.options[f.items[b]][f.settings.labelField]||"",d.push('<option value="'+B(f.items[b])+'" selected="selected">'+B(e)+"</option>");d.length||this.$input.attr("multiple")||d.push('<option value="" selected="selected"></option>'),f.$input.html(d.join(""))}else f.$input.val(f.getValue()),f.$input.attr("value",f.$input.val());f.isSetup&&(a.silent||f.trigger("change",f.$input.val()))},updatePlaceholder:function(){if(this.settings.placeholder){var a=this.$control_input;this.items.length?a.removeAttr("placeholder"):a.attr("placeholder",this.settings.placeholder),a.triggerHandler("update",{force:!0})}},open:function(){var a=this;a.isLocked||a.isOpen||"multi"===a.settings.mode&&a.isFull()||(a.focus(),a.isOpen=!0,a.refreshState(),a.$dropdown.css({visibility:"hidden",display:"block"}),a.positionDropdown(),a.$dropdown.css({visibility:"visible"}),a.trigger("dropdown_open",a.$dropdown))},close:function(){var a=this,b=a.isOpen;"single"===a.settings.mode&&a.items.length&&a.hideInput(),a.isOpen=!1,a.$dropdown.hide(),a.setActiveOption(null),a.refreshState(),b&&a.trigger("dropdown_close",a.$dropdown)},positionDropdown:function(){var a=this.$control,b="body"===this.settings.dropdownParent?a.offset():a.position();b.top+=a.outerHeight(!0),this.$dropdown.css({width:a.outerWidth(!0),top:b.top,left:b.left})},clear:function(a){var b=this;b.items.length&&(b.$control.children(":not(input)").remove(),b.items=[],b.lastQuery=null,b.setCaret(0),b.setActiveItem(null),b.updatePlaceholder(),b.updateOriginalInput({silent:a}),b.refreshState(),b.showInput(),b.trigger("clear"))},insertAtCaret:function(b){var c=Math.min(this.caretPos,this.items.length);0===c?this.$control.prepend(b):a(this.$control[0].childNodes[c]).before(b),this.setCaret(c+1)},deleteSelection:function(b){var c,d,e,f,g,h,i,j,k,l=this;if(e=b&&b.keyCode===q?-1:1,f=I(l.$control_input[0]),l.$activeOption&&!l.settings.hideSelected&&(i=l.getAdjacentOption(l.$activeOption,-1).attr("data-value")),g=[],l.$activeItems.length){for(k=l.$control.children(".active:"+(e>0?"last":"first")),h=l.$control.children(":not(input)").index(k),e>0&&h++,c=0,d=l.$activeItems.length;d>c;c++)g.push(a(l.$activeItems[c]).attr("data-value"));b&&(b.preventDefault(),b.stopPropagation())}else(l.isFocused||"single"===l.settings.mode)&&l.items.length&&(0>e&&0===f.start&&0===f.length?g.push(l.items[l.caretPos-1]):e>0&&f.start===l.$control_input.val().length&&g.push(l.items[l.caretPos]));if(!g.length||"function"==typeof l.settings.onDelete&&l.settings.onDelete.apply(l,[g])===!1)return!1;for("undefined"!=typeof h&&l.setCaret(h);g.length;)l.removeItem(g.pop());return l.showInput(),l.positionDropdown(),l.refreshOptions(!0),i&&(j=l.getOption(i),j.length&&l.setActiveOption(j)),!0},advanceSelection:function(a,b){var c,d,e,f,g,h,i=this;0!==a&&(i.rtl&&(a*=-1),c=a>0?"last":"first",d=I(i.$control_input[0]),i.isFocused&&!i.isInputHidden?(f=i.$control_input.val().length,g=0>a?0===d.start&&0===d.length:d.start===f,g&&!f&&i.advanceCaret(a,b)):(h=i.$control.children(".active:"+c),h.length&&(e=i.$control.children(":not(input)").index(h),i.setActiveItem(null),i.setCaret(a>0?e+1:e))))},advanceCaret:function(a,b){var d,e,c=this;0!==a&&(d=a>0?"next":"prev",c.isShiftDown?(e=c.$control_input[d](),e.length&&(c.hideInput(),c.setActiveItem(e),b&&b.preventDefault())):c.setCaret(c.caretPos+a))},setCaret:function(b){var c=this;if(b="single"===c.settings.mode?c.items.length:Math.max(0,Math.min(c.items.length,b)),!c.isPending){var d,e,g,h;for(g=c.$control.children(":not(input)"),d=0,e=g.length;e>d;d++)h=a(g[d]).detach(),b>d?c.$control_input.before(h):c.$control.append(h)}c.caretPos=b},lock:function(){this.close(),this.isLocked=!0,this.refreshState()},unlock:function(){this.isLocked=!1,this.refreshState()},disable:function(){var a=this;a.$input.prop("disabled",!0),a.$control_input.prop("disabled",!0).prop("tabindex",-1),a.isDisabled=!0,a.lock()},enable:function(){var a=this;a.$input.prop("disabled",!1),a.$control_input.prop("disabled",!1).prop("tabindex",a.tabIndex),a.isDisabled=!1,a.unlock()
},destroy:function(){var b=this,c=b.eventNS,d=b.revertSettings;b.trigger("destroy"),b.off(),b.$wrapper.remove(),b.$dropdown.remove(),b.$input.html("").append(d.$children).removeAttr("tabindex").removeClass("selectized").attr({tabindex:d.tabindex}).show(),b.$control_input.removeData("grow"),b.$input.removeData("selectize"),a(window).off(c),a(document).off(c),a(document.body).off(c),delete b.$input[0].selectize},render:function(a,b){var c,d,f="",g=!1,h=this,i=/^[\t \r\n]*<([a-z][a-z0-9\-_]*(?:\:[a-z][a-z0-9\-_]*)?)/i;return("option"===a||"item"===a)&&(c=A(b[h.settings.valueField]),g=!!c),g&&(z(h.renderCache[a])||(h.renderCache[a]={}),h.renderCache[a].hasOwnProperty(c))?h.renderCache[a][c]:(f=h.settings.render[a].apply(this,[b,B]),("option"===a||"option_create"===a)&&(f=f.replace(i,"<$1 data-selectable")),"optgroup"===a&&(d=b[h.settings.optgroupValueField]||"",f=f.replace(i,'<$1 data-group="'+C(B(d))+'"')),("option"===a||"item"===a)&&(f=f.replace(i,'<$1 data-value="'+C(B(c||""))+'"')),g&&(h.renderCache[a][c]=f),f)},clearCache:function(a){var b=this;"undefined"==typeof a?b.renderCache={}:delete b.renderCache[a]},canCreate:function(a){var b=this;if(!b.settings.create)return!1;var c=b.settings.createFilter;return!(!a.length||"function"==typeof c&&!c.apply(b,[a])||"string"==typeof c&&!new RegExp(c).test(a)||c instanceof RegExp&&!c.test(a))}}),M.count=0,M.defaults={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,persist:!0,diacritics:!0,create:!1,createOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,maxOptions:1e3,maxItems:null,hideSelected:null,addPrecedence:!1,selectOnTab:!1,preload:!1,allowEmptyOption:!1,closeAfterSelect:!1,scrollDuration:60,loadThrottle:300,loadingClass:"loading",dataAttr:"data-data",optgroupField:"optgroup",valueField:"value",labelField:"text",optgroupLabelField:"label",optgroupValueField:"value",lockOptgroupOrder:!1,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"selectize-control",inputClass:"selectize-input",dropdownClass:"selectize-dropdown",dropdownContentClass:"selectize-dropdown-content",dropdownParent:null,copyClassesToDropdown:!0,render:{}},a.fn.selectize=function(b){var c=a.fn.selectize.defaults,d=a.extend({},c,b),e=d.dataAttr,f=d.labelField,g=d.valueField,h=d.optgroupField,i=d.optgroupLabelField,j=d.optgroupValueField,k=function(b,c){var h,i,j,k,l=b.attr(e);if(l)for(c.options=JSON.parse(l),h=0,i=c.options.length;i>h;h++)c.items.push(c.options[h][g]);else{var m=a.trim(b.val()||"");if(!d.allowEmptyOption&&!m.length)return;for(j=m.split(d.delimiter),h=0,i=j.length;i>h;h++)k={},k[f]=j[h],k[g]=j[h],c.options.push(k);c.items=j}},l=function(b,c){var k,l,m,n,p=c.options,q={},r=function(a){var b=e&&a.attr(e);return"string"==typeof b&&b.length?JSON.parse(b):null},s=function(b,e){b=a(b);var i=A(b.attr("value"));if(i||d.allowEmptyOption)if(q.hasOwnProperty(i)){if(e){var j=q[i][h];j?a.isArray(j)?j.push(e):q[i][h]=[j,e]:q[i][h]=e}}else{var k=r(b)||{};k[f]=k[f]||b.text(),k[g]=k[g]||i,k[h]=k[h]||e,q[i]=k,p.push(k),b.is(":selected")&&c.items.push(i)}},t=function(b){var d,e,f,g,h;for(b=a(b),f=b.attr("label"),f&&(g=r(b)||{},g[i]=f,g[j]=f,c.optgroups.push(g)),h=a("option",b),d=0,e=h.length;e>d;d++)s(h[d],f)};for(c.maxItems=b.attr("multiple")?null:1,n=b.children(),k=0,l=n.length;l>k;k++)m=n[k].tagName.toLowerCase(),"optgroup"===m?t(n[k]):"option"===m&&s(n[k])};return this.each(function(){if(!this.selectize){var e,f=a(this),g=this.tagName.toLowerCase(),h=f.attr("placeholder")||f.attr("data-placeholder");h||d.allowEmptyOption||(h=f.children('option[value=""]').text());var i={placeholder:h,options:[],optgroups:[],items:[]};"select"===g?l(f,i):k(f,i),e=new M(f,a.extend(!0,{},c,i,b))}})},a.fn.selectize.defaults=M.defaults,a.fn.selectize.support={validity:y},M.define("drag_drop",function(){if(!a.fn.sortable)throw new Error('The "drag_drop" plugin requires jQuery UI "sortable".');if("multi"===this.settings.mode){var c=this;c.lock=function(){var a=c.lock;return function(){var b=c.$control.data("sortable");return b&&b.disable(),a.apply(c,arguments)}}(),c.unlock=function(){var a=c.unlock;return function(){var b=c.$control.data("sortable");return b&&b.enable(),a.apply(c,arguments)}}(),c.setup=function(){var b=c.setup;return function(){b.apply(this,arguments);var d=c.$control.sortable({items:"[data-value]",forcePlaceholderSize:!0,disabled:c.isLocked,start:function(a,b){b.placeholder.css("width",b.helper.css("width")),d.css({overflow:"visible"})},stop:function(){d.css({overflow:"hidden"});var b=c.$activeItems?c.$activeItems.slice():null,e=[];d.children("[data-value]").each(function(){e.push(a(this).attr("data-value"))}),c.setValue(e),c.setActiveItem(b)}})}}()}}),M.define("dropdown_header",function(b){var c=this;b=a.extend({title:"Untitled",headerClass:"selectize-dropdown-header",titleRowClass:"selectize-dropdown-header-title",labelClass:"selectize-dropdown-header-label",closeClass:"selectize-dropdown-header-close",html:function(a){return'<div class="'+a.headerClass+'"><div class="'+a.titleRowClass+'"><span class="'+a.labelClass+'">'+a.title+'</span><a href="javascript:void(0)" class="'+a.closeClass+'">&times;</a></div></div>'}},b),c.setup=function(){var d=c.setup;return function(){d.apply(c,arguments),c.$dropdown_header=a(b.html(b)),c.$dropdown.prepend(c.$dropdown_header)}}()}),M.define("optgroup_columns",function(b){var c=this;b=a.extend({equalizeWidth:!0,equalizeHeight:!0},b),this.getAdjacentOption=function(b,c){var d=b.closest("[data-group]").find("[data-selectable]"),e=d.index(b)+c;return e>=0&&e<d.length?d.eq(e):a()},this.onKeyDown=function(){var a=c.onKeyDown;return function(b){var d,e,f,g;return!this.isOpen||b.keyCode!==k&&b.keyCode!==n?a.apply(this,arguments):(c.ignoreHover=!0,g=this.$activeOption.closest("[data-group]"),d=g.find("[data-selectable]").index(this.$activeOption),g=b.keyCode===k?g.prev("[data-group]"):g.next("[data-group]"),f=g.find("[data-selectable]"),e=f.eq(Math.min(f.length-1,d)),e.length&&this.setActiveOption(e),void 0)}}();var d=function(){var a,b=d.width,c=document;return"undefined"==typeof b&&(a=c.createElement("div"),a.innerHTML='<div style="width:50px;height:50px;position:absolute;left:-50px;top:-50px;overflow:auto;"><div style="width:1px;height:100px;"></div></div>',a=a.firstChild,c.body.appendChild(a),b=d.width=a.offsetWidth-a.clientWidth,c.body.removeChild(a)),b},e=function(){var e,f,g,h,i,j,k;if(k=a("[data-group]",c.$dropdown_content),f=k.length,f&&c.$dropdown_content.width()){if(b.equalizeHeight){for(g=0,e=0;f>e;e++)g=Math.max(g,k.eq(e).height());k.css({height:g})}b.equalizeWidth&&(j=c.$dropdown_content.innerWidth()-d(),h=Math.round(j/f),k.css({width:h}),f>1&&(i=j-h*(f-1),k.eq(f-1).css({width:i})))}};(b.equalizeHeight||b.equalizeWidth)&&(D.after(this,"positionDropdown",e),D.after(this,"refreshOptions",e))}),M.define("remove_button",function(b){if("single"!==this.settings.mode){b=a.extend({label:"&times;",title:"Remove",className:"remove",append:!0},b);var c=this,d='<a href="javascript:void(0)" class="'+b.className+'" tabindex="-1" title="'+B(b.title)+'">'+b.label+"</a>",e=function(a,b){var c=a.search(/(<\/[^>]+>\s*)$/);return a.substring(0,c)+b+a.substring(c)};this.setup=function(){var f=c.setup;return function(){if(b.append){var g=c.settings.render.item;c.settings.render.item=function(){return e(g.apply(this,arguments),d)}}f.apply(this,arguments),this.$control.on("click","."+b.className,function(b){if(b.preventDefault(),!c.isLocked){var d=a(b.currentTarget).parent();c.setActiveItem(d),c.deleteSelection()&&c.setCaret(c.items.length)}})}}()}}),M.define("restore_on_backspace",function(a){var b=this;a.text=a.text||function(a){return a[this.settings.labelField]},this.onKeyDown=function(){var c=b.onKeyDown;return function(b){var d,e;return b.keyCode===q&&""===this.$control_input.val()&&!this.$activeItems.length&&(d=this.caretPos-1,d>=0&&d<this.items.length)?(e=this.options[this.items[d]],this.deleteSelection(b)&&(this.setTextboxValue(a.text.apply(this,[e])),this.refreshOptions(!0)),b.preventDefault(),void 0):c.apply(this,arguments)}}()}),M}),ed.define("site/vendors/sifter",["edjquery"],function(a){var b=function(a,b){this.items=a,this.settings=b||{diacritics:!0}};b.prototype.tokenize=function(a){if(a=e(String(a||"").toLowerCase()),!a||!a.length)return[];var b,c,d,g,i=[],j=a.split(/ +/);for(b=0,c=j.length;c>b;b++){if(d=f(j[b]),this.settings.diacritics)for(g in h)h.hasOwnProperty(g)&&(d=d.replace(new RegExp(g,"g"),h[g]));i.push({string:j[b],regex:new RegExp(d,"i")})}return i},b.prototype.iterator=function(a,b){var c;c=g(a)?Array.prototype.forEach||function(a){for(var b=0,c=this.length;c>b;b++)a(this[b],b,this)}:function(a){for(var b in this)this.hasOwnProperty(b)&&a(this[b],b,this)},c.apply(a,[b])},b.prototype.getScoreFunction=function(a,b){var c,d,e,f;c=this,a=c.prepareSearch(a,b),e=a.tokens,d=a.options.fields,f=e.length;var g=function(a,b){var c,d;return a?(a=String(a||""),d=a.search(b.regex),-1===d?0:(c=b.string.length/a.length,0===d&&(c+=.5),c)):0},h=function(){var a=d.length;return a?1===a?function(a,b){return g(b[d[0]],a)}:function(b,c){for(var e=0,f=0;a>e;e++)f+=g(c[d[e]],b);return f/a}:function(){return 0}}();return f?1===f?function(a){return h(e[0],a)}:"and"===a.options.conjunction?function(a){for(var b,c=0,d=0;f>c;c++){if(b=h(e[c],a),0>=b)return 0;d+=b}return d/f}:function(a){for(var b=0,c=0;f>b;b++)c+=h(e[b],a);return c/f}:function(){return 0}},b.prototype.getSortFunction=function(a,b){var d,e,f,g,h,i,j,k,l,m,n;if(f=this,a=f.prepareSearch(a,b),n=!a.query&&b.sort_empty||b.sort,l=function(a,b){return"$score"===a?b.score:f.items[b.id][a]},h=[],n)for(d=0,e=n.length;e>d;d++)(a.query||"$score"!==n[d].field)&&h.push(n[d]);if(a.query){for(m=!0,d=0,e=h.length;e>d;d++)if("$score"===h[d].field){m=!1;break}m&&h.unshift({field:"$score",direction:"desc"})}else for(d=0,e=h.length;e>d;d++)if("$score"===h[d].field){h.splice(d,1);break}for(k=[],d=0,e=h.length;e>d;d++)k.push("desc"===h[d].direction?-1:1);return i=h.length,i?1===i?(g=h[0].field,j=k[0],function(a,b){return j*c(l(g,a),l(g,b))}):function(a,b){var d,e,j;for(d=0;i>d;d++)if(j=h[d].field,e=k[d]*c(l(j,a),l(j,b)))return e;return 0}:null},b.prototype.prepareSearch=function(a,b){if("object"==typeof a)return a;b=d({},b);var c=b.fields,e=b.sort,f=b.sort_empty;return c&&!g(c)&&(b.fields=[c]),e&&!g(e)&&(b.sort=[e]),f&&!g(f)&&(b.sort_empty=[f]),{options:b,query:String(a||"").toLowerCase(),tokens:this.tokenize(a),total:0,items:[]}},b.prototype.search=function(a,b){var e,f,h,i,c=this;return f=this.prepareSearch(a,b),b=f.options,a=f.query,i=b.score||c.getScoreFunction(f),a.length?c.iterator(c.items,function(a,c){e=i(a),(b.filter===!1||e>0)&&f.items.push({score:e,id:c})}):c.iterator(c.items,function(a,b){f.items.push({score:1,id:b})}),h=c.getSortFunction(f,b),h&&f.items.sort(h),f.total=f.items.length,"number"==typeof b.limit&&(f.items=f.items.slice(0,b.limit)),f};var c=function(a,b){return"number"==typeof a&&"number"==typeof b?a>b?1:b>a?-1:0:(a=i(String(a||"")),b=i(String(b||"")),a>b?1:b>a?-1:0)},d=function(a){var c,d,e,f;for(c=1,d=arguments.length;d>c;c++)if(f=arguments[c])for(e in f)f.hasOwnProperty(e)&&(a[e]=f[e]);return a},e=function(a){return(a+"").replace(/^\s+|\s+$|/g,"")},f=function(a){return(a+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")},g=Array.isArray||a&&a.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},h={a:"[a\xc0\xc1\xc2\xc3\xc4\xc5\xe0\xe1\xe2\xe3\xe4\xe5\u0100\u0101\u0105\u0104]",c:"[c\xc7\xe7\u0107\u0106\u010d\u010c]",d:"[d\u0111\u0110\u010f\u010e]",e:"[e\xc8\xc9\xca\xcb\xe8\xe9\xea\xeb\u011b\u011a\u0112\u0113\u0119\u0118]",i:"[i\xcc\xcd\xce\xcf\xec\xed\xee\xef\u012a\u012b]",l:"[l\u0142\u0141]",n:"[n\xd1\xf1\u0148\u0147\u0144\u0143]",o:"[o\xd2\xd3\xd4\xd5\xd5\xd6\xd8\xf2\xf3\xf4\xf5\xf6\xf8\u014c\u014d]",r:"[r\u0159\u0158]",s:"[s\u0160\u0161\u015b\u015a]",t:"[t\u0165\u0164]",u:"[u\xd9\xda\xdb\xdc\xf9\xfa\xfb\xfc\u016f\u016e\u016a\u016b]",y:"[y\u0178\xff\xfd\xdd]",z:"[z\u017d\u017e\u017c\u017b\u017a\u0179]"},i=function(){var a,b,c,d,e="",f={};for(c in h)if(h.hasOwnProperty(c))for(d=h[c].substring(2,h[c].length-1),e+=d,a=0,b=d.length;b>a;a++)f[d.charAt(a)]=c;var g=new RegExp("["+e+"]","g");return function(a){return a.replace(g,function(a){return f[a]}).toLowerCase()}}();return b}),ed.define("toastr",["edjquery"],function(){!function(a){a(["jquery"],function(a){return function(){function h(a,b,c){return v({type:e.error,iconClass:w().iconClasses.error,message:a,optionsOverride:c,title:b})}function i(c,d){return c||(c=w()),b=a("#"+c.containerId),"ed"==c.containerId&&(b=a("#"+c.containerId+".ed-toastr")),c.containerId&&b.length?b:(d&&(b=s(c)),b)}function j(a,b,c){return v({type:e.info,iconClass:w().iconClasses.info,message:a,optionsOverride:c,title:b})}function k(a,b,c){return v({type:e.custom,iconClass:w().iconClasses.custom,message:a,optionsOverride:c,title:b})}function l(a){c=a}function m(a,b,c){return v({type:e.success,iconClass:w().iconClasses.success,message:a,optionsOverride:c,title:b})}function n(a,b,c){return v({type:e.warning,iconClass:w().iconClasses.warning,message:a,optionsOverride:c,title:b})}function o(a,c){var d=w();b||i(d),r(a,d,c)||q(d)}function p(c){var d=w();return b||i(d),c&&0===a(":focus",c).length?(x(c),void 0):(b.children().length&&b.remove(),void 0)}function q(c){for(var d=b.children(),e=d.length-1;e>=0;e--)r(a(d[e]),c)}function r(b,c,d){var e=d&&d.force?d.force:!1;return b&&(e||0===a(":focus",b).length)?(b[c.hideMethod]({duration:c.hideDuration,easing:c.hideEasing,complete:function(){x(b)}}),!0):!1}function s(c){return b=a("<div/>").attr("id",c.containerId).addClass(c.positionClass).addClass(c.containerClass),b.appendTo(a(c.target)),b}function t(){return{tapToDismiss:!0,toastClass:"toast",containerId:"toast-container",debug:!1,avatar:"",contentWrapper:"",type:"",scrollTo:"",showMethod:"fadeIn",showDuration:300,showEasing:"swing",onShown:void 0,hideMethod:"fadeOut",hideDuration:1e3,hideEasing:"swing",onHidden:void 0,closeMethod:!1,closeDuration:!1,closeEasing:!1,closeOnHover:!0,extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning",custom:"toast-ed"},iconClass:"toast-info",containerClass:"",positionClass:"toast-bottom-right",timeOut:5e3,titleClass:"toast-title",messageClass:"toast-message",escapeHtml:!1,target:"body",closeHtml:'<button type="button">&times;</button>',closeClass:"toast-close-button",newestOnTop:!0,preventDuplicates:!1,progressBar:!1,progressClass:"toast-progress",rtl:!1}}function u(a){c&&c(a)}function v(c){function s(a){return null==a&&(a=""),a.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function t(){A(),C(),E(),D(),G(),H(),I(),B(),v()}function v(){var a="";switch(c.iconClass){case"toast-success":case"toast-ed":case"toast-info":a="polite";break;default:a="assertive"}j.attr("aria-live",a)}function y(){e.closeOnHover&&j.hover(M,L),!e.onclick&&e.tapToDismiss&&j.click(K),"ed"==e.containerId&&j.click(F),e.closeButton&&p&&p.click(function(a){a.stopPropagation?a.stopPropagation():void 0!==a.cancelBubble&&a.cancelBubble!==!0&&(a.cancelBubble=!0),e.onCloseClick&&e.onCloseClick(a),K(!0)}),e.onclick&&j.click(function(a){e.onclick(a),K()})}function z(){j.hide(),j[e.showMethod]({duration:e.showDuration,easing:e.showEasing,complete:e.onShown}),e.timeOut>0&&(h=setTimeout(K,e.timeOut),q.maxHideTime=parseFloat(e.timeOut),q.hideEta=(new Date).getTime()+q.maxHideTime,e.progressBar&&(q.intervalId=setInterval(N,10)))}function A(){c.iconClass&&j.addClass(e.toastClass).addClass(f)}function B(){e.newestOnTop?b.prepend(j):b.append(j)}function C(){if(c.title){var a=c.title;e.escapeHtml&&(a=s(c.title)),m.append(a).addClass(e.titleClass),j.append(m)}}function D(){if(c.message){var a=c.message;if(e.escapeHtml&&(a=s(c.message)),n.append(a).addClass(e.messageClass),"ed"==e.containerId&&e.contentWrapper)return e.type&&"default"!=e.type?(l.append(n),void 0):(k.append(n),void 0);j.append(n)}}function E(){if(e.avatar){if("ed"==e.containerId&&e.contentWrapper)return l.append(e.avatar),void 0;j.append(e.avatar)}}function F(){if(e.scrollTo&&"ed"==e.containerId){var a=e.scrollTo;a.css({background:"#D1ECFF",transition:"background 1.0s ease-in-out"}),a[0].scrollIntoView({behavior:"smooth",block:"center"}),setTimeout(function(){a.css({background:e.background})},3e3)}}function G(){if(e.closeButton){if(p.addClass(e.closeClass).attr("role","button"),"ed"==e.containerId&&e.contentWrapper)return k.prepend(p),void 0;j.prepend(p)}}function H(){e.progressBar&&(o.addClass(e.progressClass),j.prepend(o))}function I(){e.rtl&&j.addClass("rtl")}function J(a,b){if(a.preventDuplicates){if(b.message===g)return!0;g=b.message}return!1}function K(b){var c=b&&e.closeMethod!==!1?e.closeMethod:e.hideMethod,d=b&&e.closeDuration!==!1?e.closeDuration:e.hideDuration,f=b&&e.closeEasing!==!1?e.closeEasing:e.hideEasing;return!a(":focus",j).length||b?(clearTimeout(q.intervalId),j[c]({duration:d,easing:f,complete:function(){x(j),clearTimeout(h),e.onHidden&&"hidden"!==r.state&&e.onHidden(),r.state="hidden",r.endTime=new Date,u(r)}})):void 0}function L(){(e.timeOut>0||e.extendedTimeOut>0)&&(h=setTimeout(K,e.extendedTimeOut),q.maxHideTime=parseFloat(e.extendedTimeOut),q.hideEta=(new Date).getTime()+q.maxHideTime)}function M(){clearTimeout(h),q.hideEta=0,j.stop(!0,!0)[e.showMethod]({duration:e.showDuration,easing:e.showEasing})}function N(){var a=(q.hideEta-(new Date).getTime())/q.maxHideTime*100;o.width(a+"%")}var e=w(),f=c.iconClass||e.iconClass;if("undefined"!=typeof c.optionsOverride&&(e=a.extend(e,c.optionsOverride),f=c.optionsOverride.iconClass||f),!J(e,c)){d++,b=i(e,!0);var h=null,j=a("<div/>");if("ed"==e.containerId&&e.contentWrapper){var k=a("<div/>").addClass("ed-toast");if(j.append(k),e.type&&"default"!=e.type){var l=a("<div/>").addClass("ed-toast__body l-stack");k.append(l)}}var m=a("<div/>"),n=a("<div/>"),o=a("<div/>"),p=a(e.closeHtml),q={intervalId:null,hideEta:null,maxHideTime:null},r={toastId:d,state:"visible",startTime:new Date,options:e,map:c};return t(),z(),y(),u(r),e.debug&&console&&console.log(r),j}}function w(){return a.extend({},t(),f.options)}function x(a){b||(b=i()),a.is(":visible")||(a.remove(),a=null,b.hasClass("ed-toastr")||0!==b.children().length||(b.remove(),g=void 0))}var b,c,g,d=0,e={error:"error",info:"info",success:"success",warning:"warning",custom:"custom"},f={clear:o,remove:p,error:h,getContainer:i,info:j,custom:k,options:{},subscribe:l,success:m,version:"2.1.4",warning:n};return f}()})}("function"==typeof define&&define.amd?define:function(a,b){"undefined"!=typeof module&&module.exports?module.exports=b(require("jquery")):window.toastr=b(window.jQuery)})}),ed.define("site/src/actions",["edq","easydiscuss","select2"],function(a,b){a(document).on("click.post.quote","[data-ed-post-quote]",function(){var b=a(this),c=b.parents("[data-ed-actions]"),d=c.data("id"),e=b.find("input.raw_message").val(),f=c.data("editor");if("bbcode"==f){var g='[quotePost id="'+d+'"]'+e+"[/quotePost]",h=a("[data-ed-editor]"),i=h.val(),j=i+"\n\n"+g;a.trim(i).length<=0&&(j=g),h.val(j),h.focus()}else{var g="<blockquote>"+e+"</blockquote><br />";if(window.CKEDITOR)try{window.CKEDITOR.instances.dc_content.setData(g)}catch(k){}else window.jInsertEditorText(g,"dc_content")}}),a(document).on("click.post.action","[data-ed-dialogs]",function(){var c=a(this),d=c.data("namespace"),e=c.parents("[data-ed-actions]"),f=e.data("id");b.dialog({content:b.ajax(d,{id:f})})}),a(document).on("click.post.lock","[data-ed-post-lock-buttons]",function(){var c=a(this),d=c.parents("[data-ed-actions]"),e=d.data("id"),f=c.data("task"),g="site/views/post/"+f,h=a("[data-ed-post-wrapper]"),i=a("[data-ed-post-notifications]");"lock"==f?h.addClass("is-locked"):h.removeClass("is-locked"),b.ajax(g,{id:e}).done(function(a){window.clearAlertMessages(),i.html(a).addClass("o-alert o-alert--success")}).fail(function(a){window.clearAlertMessages(),i.html(a).addClass("o-alert o-alert--danger")})}),a(document).on("click.post.edit","[data-ed-edit-reply]",function(){var c=a(this),d=c.parents("[data-ed-reply-item]"),e=d.data("id"),f=d.find("[data-ed-post-reply-seq]").data("ed-post-reply-seq"),g=d.find("[data-ed-reply-editor]");b.ajax("site/views/post/editReply",{id:e,seq:f}).done(function(a){g.html(a)})}),a(document).on("click.post.label","[data-ed-assign-label]",function(){{var c=a(this),d=c.parents("[data-ed-actions]"),e=c.parents("[data-ed-post-item]"),f=e.find("[data-post-status]"),g=c.parents("[data-ed-assign-labels-list]"),h=g.find("[data-ed-assign-label-divider]"),i=d.data("id");c.data("task")}a("[data-ed-assign-label]").removeClass("t-d--none");var k=c.data("label-id"),l=c.data("label-title");a("[data-ed-labels]").removeClass("active"),0!=k&&c.parent().addClass("active");var m=f.find("[data-ed-label]"),n=m.length>0;!k&&n&&m.addClass("t-d--none"),k&&h.removeClass("t-d--none"),k||h.addClass("t-d--none"),b.ajax("site/views/post/label",{id:i,title:l,labelId:k}).done(function(a){k&&n&&m.replaceWith(a),k&&!n&&f.prepend(a)})}),a(document).on("click.post.merge","[data-ed-post-merge]",function(){var d=a(this),e=d.parents("[data-ed-actions]"),f=e.data("id");a("body").addClass("is-dialog-select2"),b.dialog({content:b.ajax("site/views/post/mergeForm",{id:f}).done(function(){var c=150,d=b.getUrl(),e=b.getToken();setTimeout(function(){var b=a("[data-field-suggest]");b.select2({theme:"si",ajax:{url:d,dataType:"json",delay:250,data:function(a){var b={id:f,text:a.term,namespace:"site/views/post/mergePostSuggest",option:"com_easydiscuss",tmpl:"component",format:"ajax",no_html:"1"};return b[e]=1,b},processResults:function(b){var d=void 0!==b&&b.length>0?b[0].data[0]:[],e=[];return d.length>0&&a.each(d,function(a,b){e.push({id:b.id,text:b.id+" - "+b.title})}),{results:e}},cache:!0}})},c)}),bindings:{"{closeButton} click":function(){c()},"{dialogCloseButton} click":function(){c()}}})});var c=function(){a("body").removeClass("is-dialog-select2"),b.dialog().close()}}),ed.define("site/src/assignments",["edq","easydiscuss"],function(a,b){var c=a("[data-ed-assignments]"),d=!1,e=c.data("id");a(document).off("click","[data-ed-assignments] [data-moderator-selection]").on("click","[data-ed-assignments] [data-moderator-selection]",function(){var a=c.find("[data-moderators]"),e=a.find("[data-loader]"),f=c.data("category-id");d||b.ajax("site/views/assignment/getModerators",{category_id:f}).done(function(b){e.addClass("t-d--none"),d=!0,a.append(b)})}),a(document).on("click","[data-ed-moderator-item]",function(c){c.stopImmediatePropagation();var d=a(this),f=d.data("id"),g=a("[data-assignee]"),h=d.siblings("[data-tpl]");a("[data-moderator-selection]").click(),g.html(h.html()),b.ajax("site/views/assignment/assign",{moderatorId:f,postId:e}).done(function(){})})}),ed.define("site/src/comments",["edq","easydiscuss"],function(a,b){var c={wrapper:"[data-ed-comments-wrapper]",container:"[data-ed-comment-container]",content:"[data-ed-comment-content]",item:"[data-ed-comment-item]",input:"[data-ed-comment-message]",list:"[data-ed-comment-list]",listWrapper:"[data-ed-comment-list-wrapper]",form:"[data-ed-comment-form]",submitCommentButton:"[data-ed-comment-submit]"};a(document).on("click.comments.toggle","[data-ed-toggle-comment]",function(){var b=a(this),d=b.parents(c.wrapper),e=d.find(c.container),f=d.find(c.form);if(f.toggleClass("t-d--none"),!f.hasClass("t-d--none"))return e.removeClass("t-d--none"),void 0;var g=d.find(c.list);g.children().length<=0&&e.addClass("t-d--none")}),a(document).on("keydown.comments.input",c.input,function(b){if(13==b.keyCode&&b.metaKey){var d=a(this),e=d.parents(c.form),f=e.find(c.submitCommentButton);f.click()}}),a(document).on("click.comments.submit",c.submitCommentButton,function(){var d=a(this),e=d.parents(c.wrapper),f=e.find(c.listWrapper),g=e.find(c.list),h=e.data("id"),i=e.find(c.input),j=e.find("[data-ed-comment-tnc-checkbox]:checked").length>0,k=e.find("[data-comment-hp]"),l=e.data("ordering");d.addClass("is-loading"),d.attr("disabled",!0);var m={id:h,comments:i.val(),tncCheckbox:j};return""!=k.val()&&(m[k.attr("name")]=k.val()),b.ajax("site/views/comment/save",m).done(function(a){f.removeClass("is-empty"),"asc"==l?g.append(a):g.prepend(a),i.val(""),d.removeClass("is-loading"),d.removeAttr("disabled")}).fail(function(a){d.removeClass("is-loading"),d.removeAttr("disabled"),b.dialog({content:a})}),!0}),a(document).on("click","[data-ed-comment-edit]",function(){var d=a(this),e=d.parents(c.item),f=e.data("id"),g=e.find("[data-ed-comment-edit-form]"),h=e.find(c.content);b.ajax("site/views/comment/getForm",{id:f,isEdit:!0}).done(function(a){h.addClass("t-d--none"),g.html(a),e.find(c.input).val(h.text().trim())})}),a(document).on("click.comments.cancel","[data-ed-comment-cancel]",function(){var b=a(this),e=(b.data("id"),b.parents(c.item)),f=e.find("[data-ed-comment-edit-form]"),g=e.find(c.content);g.removeClass("t-d--none"),f.html("")}),a(document).on("click.comments.update","[data-ed-comment-update]",function(){var d=a(this),e=d.parents(c.wrapper),f=e.data("id"),g=d.parents(c.item),h=g.data("id"),i=g.find(c.input).val(),j=g.find("[data-ed-comment-edit-form]"),k=g.find(c.content);b.ajax("site/views/comment/update",{id:h,postId:f,comment:i}).done(function(a){k.removeClass("t-d--none"),j.html(""),k.html(a)})}),a(document).on("click.comments.delete","[data-ed-comments-delete]",function(){var d=a(this),e=d.parents(c.wrapper),f=e.find(c.listWrapper),g=e.find(c.list),h=d.parents(c.item),i=h.data("id");b.dialog({content:b.ajax("site/views/comment/confirmDelete",{id:i}),bindings:{"{submitButton} click":function(){h.remove(),g.children().length<=0&&f.addClass("is-empty"),b.ajax("site/views/comment/delete",{id:i}).done(function(){b.dialog().close()})}}})}),a(document).on("click.comments.loadmore","[data-ed-comment-load-more]",function(){var d=a(this).parents(c.wrapper),e=d.data("ordering"),f=d.data("id"),g=d.find(c.list),h="asc"==e?1:0,i=g.find(c.item).length;if(h){i=g.find('[data-ed-comment-item][data-is-new="0"]').length;var j=[],k=g.find('[data-is-new="1"]');k.length>0&&k.each(function(b,c){var d=a(c),e=d.data("id");j.push(e)})}var l=a(this);b.ajax("site/views/post/getComments",{id:f,excludeIds:j,start:i}).done(function(b,c){if(h){var d=g.find('[data-is-new="0"]'),e=d.last();a(b).insertAfter(e)}else g.append(b);c||l.hide()})}),a(document).on("click.comments.convert","[data-comment-convert-link]",function(){var d=a(this),e=d.parents(c.item),f=e.data("id"),g=d.parents(c.wrapper).data("id");b.dialog({content:b.ajax("site/views/comment/confirmConvert",{commentId:f,postId:g})})}),a(document).on("click","[data-ed-comment-tnc-link]",function(){var c=a(this),d=c.is(":checked");console.log(d),b.dialog({content:b.ajax("site/views/comment/showTnc",{})})}),a(document).on("change.comments.tnc","[data-ed-comment-tnc-checkbox]",function(){var b=a(this),d=b.is(":checked"),e=b.parents(c.form);return d?(e.find(c.submitCommentButton).removeAttr("disabled"),void 0):(e.find(c.submitCommentButton).attr("disabled",!0),void 0)})}),ed.define("site/src/conversations",["edq","easydiscuss","markitup","jquery.expanding","jquery.scrollto"],function(a){a(document).on("click.conversation","[data-ed-conversations-api]",function(){var b=a(this).data("userid");EasyDiscuss.dialog({content:EasyDiscuss.ajax("site/views/conversation/compose",{id:b}),bindings:{init:function(){console.log("initializing")}}})}),a(document).ready(function(){var b=a("[data-ed-conversation-contents-wrapper]"),c=a("[data-ed-conversation-contents]"),d=a("[data-ed-conversation-reply-form]"),e=a("[data-ed-conversation-reply-form-notice]"),f=a("[data-ed-conversation-reply-button]"),g=a("[data-ed-conversation-reply-textarea]"),h=a("[data-ed-conversations-list]"),i=a("[data-ed-conversations-list-items]"),j=i.find("[data-ed-conversations-item]"),k=a("[data-ed-conversation-title]"),l=function(){var b=a("[data-ed-conversation-contents-scroller]"),c=a("[data-ed-conversation-latest]");b.scrollTo(c)},m=function(){g.val("")},n=function(b){var c=a("[data-ed-conversations-list-items]"),d=c.find("[data-ed-conversations-item]");d.removeClass("is-active"),b.addClass("is-active"),l()},o=function(b,c){-1!=a.inArray(c,["archive","unarchive"])&&EasyDiscuss.dialog({content:EasyDiscuss.ajax("site/views/conversation/toggleArchive",{id:b,type:c})})},p=function(a){EasyDiscuss.dialog({content:EasyDiscuss.ajax("site/views/conversation/confirmDelete",{id:a})})},q=function(a){EasyDiscuss.ajax("site/views/conversation/unread",{id:a}).done(function(){})},r=function(a){EasyDiscuss.ajax("site/views/conversation/read",{id:a}).done(function(){})},s=a("[data-ed-conversation-menu]");s.live("click",function(b){b.stopPropagation(),b.preventDefault();{var c=a(this).parents(j.selector),d=c.data("id"),e=a(this).data("type");a(this)}o(d,e),"delete"==e&&p(d),"unread"==e&&(q(d),c.removeClass("is-active"),c.addClass("is-unread"),c.find(".open").removeClass("open"))}),l(),j.find("[data-ed-toggle=dropdown]").live("click",function(a){a.stopPropagation(),a.preventDefault()}),g.markItUp({markupSet:EasyDiscuss.bbcode}),g.expandingTextarea(),j.live("click",function(e){e.stopPropagation(),e.preventDefault();var f=a(this),g=f.find("[data-link]"),h=a(this).data("id");history.pushState({},document.title,g.attr("href")),d.data("id",h),b.addClass("is-loading"),c.html(""),EasyDiscuss.ajax("site/views/conversation/getConversation",{id:h}).done(function(a,b){k.html(a),c.html(b),n(f),r(h)}).fail(function(a){c.html(a)}).always(function(){b.removeClass("is-loading"),i.find('[data-ed-conversations-item][data-id="'+h+'"]').removeClass("is-unread")})}),f.live("click",function(b){b.preventDefault();var f=d.data("id"),h=(a(this),d.find("[data-ed-conversation-reply-textarea]")),i=h.val();EasyDiscuss.ajax("site/controllers/conversation/reply",{id:f,message:i}).done(function(b,d){e.addClass("text-success").html(d);var f=a(b);c.append(f),m(),l()}).fail(function(a){e.addClass("text-danger").html(a)})});var t=a("[data-ed-conversation-archive]");t.live("click",function(){var a=d.data("id");o(a,"archive")});var u=a("[data-ed-conversation-unread]");u.live("click",function(){var a=d.data("id");q(a),i.find('[data-ed-conversations-item][data-id="'+a+'"]').removeClass("is-active"),i.find('[data-ed-conversations-item][data-id="'+a+'"]').addClass("is-unread")});var v=a("[data-ed-conversation-delete]");v.live("click",function(){var a=d.data("id");p(a)});var w=a("[data-ed-conversations-toggle]"),x=a("[data-ed-conversations-sidebar]");w.on("click",function(){a(x).hasClass("is-open")?a(x).removeClass("is-open"):(a(x).removeClass("is-open"),a(x).addClass("is-open"))});var y=a("[data-ed-conversations-tab]");y.on("click",function(c){c.stopPropagation(),c.preventDefault();var d=a(this).data("type"),e=a(this),f=e.find("> a");history.pushState({},document.title,f.attr("href")),y.removeClass("active"),e.addClass("active"),h.addClass("is-loading"),b.addClass("is-loading"),EasyDiscuss.ajax("site/views/conversation/getConversations",{type:d}).done(function(c){h.removeClass("is-loading"),h.removeClass("is-empty"),b.removeClass("is-loading"),b.removeClass("is-empty"),a("[data-ed-content-wrapper]").removeClass("has-active"),c.length<1&&(h.addClass("is-empty"),b.addClass("is-empty")),c.length>1&&a("[data-ed-content-wrapper]").addClass("has-active"),i.html(c);var e=a(i.selector).children(":first");e.click()})})})}),ed.define("dependencies",["edq","easydiscuss"],function(a,b){a(document).on("mouseover.tooltip.data-ed-api","[data-ed-provide=tooltip]",function(){a(this).tooltip({delay:{show:200,hide:100},animation:!1,template:'<div id="ed" class="tooltip"><div class="tooltip-inner"></div></div>',container:"body"}).tooltip("show")}),a(document).on("mouseover","[rel=ed-popover]",function(){a(this).popover({container:"body",delay:{show:100,hide:100},animation:!1,trigger:"hover"})}),a(document).on("click.easydiscuss.subscribe","[data-ed-subscribe]",function(){var c=a(this),d=c.data("type"),e=c.data("cid");b.dialog({content:b.ajax("site/views/subscription/form",{type:d,cid:e})})
}),a(document).on("click","[data-ed-unsubscribe]",function(){var c=a(this),d=c.data("sid"),e=c.data("type"),f=c.data("cid");b.dialog({content:b.ajax("site/views/subscription/unsubscribeDialog",{sid:d,type:e,cid:f})})}),a(document).on("click.conversation","[data-ed-conversations-api]",function(){var c=a(this).data("userid");b.dialog({content:b.ajax("site/views/conversation/compose",{id:c}),bindings:{init:function(){console.log("initializing")}}})})}),ed.define("site/src/favourites",["edq","easydiscuss"],function(a,b){a(document).on("click.favourites","[data-ed-favourites]",function(){var c=a(this),d=c.parent("[data-ed-favourites-wrapper]"),e=d.data("id"),f=d.find("[data-counter]"),g=parseInt(f.text()),h=c.data("task");"favourite"==h&&(d.addClass("is-active"),g+=1),"unfavourite"==h&&(d.removeClass("is-active"),g-=1),f.html(g),a(document).trigger("easydiscuss.favourites",[e,h,g]),b.ajax("site/views/favourites/"+h,{postid:e}).done(function(a){c.attr("data-original-title",a),"favourite"==h&&c.data("task","unfavourite"),"unfavourite"==h&&c.data("task","favourite")})}),a(document).on("click.favourites.popbox","[data-ed-favourites-wrapper] [data-counter-popbox]",function(){var c=a(this),d=c.parent("[data-ed-likes-wrapper]"),e=d.data("id");b.dialog({content:b.ajax("site/views/popbox/popbox",{postid:e})})})}),ed.define("site/src/filters",["edq","easydiscuss","abstract"],function(a,b,c){var d=new c(function(c){return{opts:{"{wrapper}":"[data-ed-list-wrapper]","{list}":"[data-ed-list]","{selection}":"[data-ed-filters-selection]","{selectionWrapper}":"[data-ed-selection-wrapper]","{filterItem}":"[data-ed-filter]","{filtersWrapper}":"[data-ed-filters]",activeFilter:"all",sort:"latest",categoryIds:[],tagIds:[],postLabels:[],postTypes:[],postPriorities:[]},init:function(){c.initializeSelectedOptions(),a("body").on("easydiscuss.render",this.filter),a("body").on("easydiscuss.sorting",this.sorting)},initializeSelectedOptions:function(){var b=c.selection().find("[data-ed-remove-filter=label]");b.each(function(b,d){c.opts.postLabels.push(a(d).data("id"))});var d=c.selection().find("[data-ed-remove-filter=type]");d.each(function(b,d){c.opts.postTypes.push(a(d).data("id"))})},updateMainSelection:function(b){var d=a.trim(b.html());c.filtersWrapper().find("[data-main-filter-title]").html(d)},insertSelection:function(b){var d=b.clone();d.attr("data-ed-remove-filter",d.data("ed-filter")).addClass("o-label o-label--ed-filter-label t-bg--primary-100 t-text--primary-300 t-border--primary-100 t-text--truncate").removeAttr("data-ed-filter").removeClass("is-active").html(d.html()+'  &nbsp;<i class="fa fa-times t-text--600"></i>');var e=a('<div class="t-d--flex t-text--truncate">').html(d),f=a('<div class="t-min-width--0" data-selection-item>').html(e);c.selection().append(f),c.hasSelections()&&c.selectionWrapper().removeClass("t-d--none")},removeSelection:function(a){var b=a.data("ed-filter"),d=a.data("id"),e=c.selection().find("[data-ed-remove-filter="+b+"][data-id="+d+"]").parents("[data-selection-item]");e.remove(),c.hasSelections()||c.selectionWrapper().addClass("t-d--none")},setOptions:function(a,b){return c.opts[a]=b,c.getOptions()},getTotalSelections:function(){return c.selection().children().length},getOptions:function(){var a={filter:c.opts.activeFilter,postLabels:c.opts.postLabels,postTypes:c.opts.postTypes,postPriorities:c.opts.postPriorities,sort:c.opts.sort};return a},getActiveMainFilter:function(){var a=c.filterItem().filter(".is-active");return a},getSearchValue:function(){var a=c.filtersWrapper().data("search");return a},hasSelections:function(){var a=c.getTotalSelections();return a>0},shouldRouteWithCategory:function(){var a=c.filtersWrapper().data("route-category");return a},sorting:function(a,b,d,e,f){c.setOptions("sort",b),options=c.getOptions(),c.setLoading(),c.render(options,d,e,f)},filter:function(a,b,d,e,f,g,h){"main"!=b&&"category"!=b&&f.hasClass("is-active")&&c.insertSelection(f),"main"==b||"category"==b||f.hasClass("is-active")||c.removeSelection(f),"main"==b&&c.updateMainSelection(f),c.setLoading(),"category"==b&&(e=c.getOptions()),"main"==b&&(e=c.setOptions("activeFilter",e)),"type"==b&&(e=c.setOptions("postTypes",e)),"label"==b&&(e=c.setOptions("postLabels",e)),"priority"==b&&(e=c.setOptions("postPriorities",e)),c.render(e,d,g,h)},doneLoading:function(){c.wrapper().removeClass("is-loading")},setLoading:function(){c.list().html(""),c.wrapper().addClass("is-loading")},render:function(d,e,f,g){d.categoryIds=e,d.tagIds=g,d.baseUrl=f,d.routeWithCategory=c.shouldRouteWithCategory();var h=c.getSearchValue();h&&(d.search=h),b.ajax("site/views/posts/render",d).done(function(b,d,e){return a("body").trigger("easydiscuss.search.result",e),c.updateRoute(d),0==b.length?(c.wrapper().addClass("is-empty"),void 0):(c.wrapper().removeClass("is-empty"),c.list().html(b),void 0)}).always(function(){c.doneLoading()})},updateRoute:function(a){history.pushState({},document.title,a)}}});return d}),ed.define("site/src/floatlabels",["edq","easydiscuss","abstract"],function(a){var d=".o-form-group",e=".o-form-control";a(document).on("focus.form.group change.form.group",e,function(){var b=a(this),c=b.closest(d);c.addClass("is-focused")}),a(document).on("blur.form.group",e,function(){var b=a(this),c=b.closest(d),e=b.val();return""!==a.trim(e)?(c.addClass("is-filled"),c.removeClass("is-focused"),void 0):(c.removeClass("is-filled"),c.removeClass("is-focused"),void 0)}),a(e).trigger("blur.form.group")}),ed.define("site/src/likes",["edq","easydiscuss"],function(a,b){a(document).on("click.likes","[data-ed-likes]",function(){var c=a(this),d=c.closest("[data-ed-post-wrapper]"),e=c.parent("[data-ed-likes-wrapper]"),f=e.data("id"),g=e.find("[data-counter]"),i=(d.find("[data-meta-likes]"),parseInt(g.text())),j=c.data("task"),k=c.closest("[data-ed-reply-item]").length;"like"==j&&(e.addClass("is-active"),i+=1),"like"!=j&&(e.removeClass("is-active"),i-=1),g.text(i),a(document).trigger("easydiscuss.likes",[f,j,i,k]),b.ajax("site/views/likes/"+j,{postid:f}).done(function(a){c.attr("data-original-title",a),"like"==j&&c.data("task","unlike"),"unlike"==j&&c.data("task","like")})})}),ed.define("site/src/operationhour",["edq","easydiscuss","abstract"],function(a){var e=a("[data-operationhour]"),f=e.data("operationhour-servertz"),g=e.data("operationhour-hourformat"),h=function(){var b=new Date,c=b.getHours(),d=b.getMinutes(),e=b.getSeconds();if(d=(10>d?"0":"")+d,e=(10>e?"0":"")+e,"12"==g){var f=12>c?"AM":"PM";c=c>12?c-12:c,c=0==c?12:c,a("[data-user-hour]").html(c),a("[data-user-minute]").html(d),a("[data-user-second]").html(e),a("[data-user-meridiem]").html(f)}else a("[data-user-hour]").html(c),a("[data-user-minute]").html(d),a("[data-user-second]").html(e)},i=function(){Date.withOffset=function(a){return d=new Date,utc=d.getTime()+6e4*d.getTimezoneOffset(),nd=new Date(utc+36e5*a)};var b=Date.withOffset(f),c=b.getHours(),e=b.getMinutes(),h=b.getSeconds();if(e=(10>e?"0":"")+e,h=(10>h?"0":"")+h,"12"==g){var i=12>c?"AM":"PM";c=c>12?c-12:c,c=0==c?12:c,a("[data-server-hour]").html(c),a("[data-server-minute]").html(e),a("[data-server-second]").html(h),a("[data-server-meridiem]").html(i)}else a("[data-server-hour]").html(c),a("[data-server-minute]").html(e),a("[data-server-second]").html(h)};setInterval(function(){h(),i()},1e3)}),ed.define("site/src/polls",["edq","easydiscuss"],function(a,b){a(document).on("click.polls.lock","[data-ed-polls-lock]",function(){var c=a(this),d=c.parents("[data-ed-polls]"),e=d.data("post-id"),f=c.data("task"),g=c.parents("[data-ed-post-item]"),h=g.find("[data-ed-polls]");console.log(f),b.ajax("site/views/polls/"+f,{id:e}).done(function(){return"lock"==f?(d.addClass("is-lockpoll"),h.find("[data-ed-poll-choice-checkbox]").attr("disabled","disabled"),void 0):(d.removeClass("is-lockpoll"),h.find("[data-ed-poll-choice-checkbox]").removeAttr("disabled","disabled"),void 0)})})}),ed.define("site/src/postcount",["edq","easydiscuss","abstract"],function(a,b,c){var d=new c(function(c){return{opts:{"{item}":"[data-ed-post-counter]"},init:function(){c.item().length>0&&c.getPostCount()},getPostCount:function(){var d=[];c.item().each(function(b,c){d.push(a(c).data("id"))}),b.ajax("site/views/categories/getPostCount",{ids:d}).done(function(b){b.length>0&&a(b).each(function(b,c){a('[data-ed-post-counter][data-id="'+c.id+'"').html(c.text)})}).always(function(){a("[data-ed-post-counter]").find("div.o-loader").hide()})}}});return d}),ed.define("site/src/ratings",["edq","jquery.raty"],function(a){var b=a("[data-ed-ratings-stars]"),c=b.data("id");b.raty({score:b.data("score"),readOnly:b.data("locked"),starType:"i",starOn:"raty raty-star raty-star--on",starOff:"raty raty-star-o raty-star--off",starHalf:"raty raty-star-half-o",click:function(d){var f=a(this),g=f.parents("[data-ed-ratings]"),h=g.find("[data-ed-ratings-message]"),i=g.find("[data-ed-ratings-total]");b.raty({score:d,readOnly:!0}),EasyDiscuss.ajax("site/views/ratings/submit",{score:d,postId:c}).done(function(a,c,d){b.raty({score:a,readOnly:!0}),h.html(d),i.text(c.toString()),g.addClass("is-voted")})}})}),ed.define("site/src/toolbar",["edq","easydiscuss","abstract"],function(a,b,c){var d=new c(function(a){return{opts:{"{items}":".toolbarItem","{dropdowns}":".dropdown-menu",notifications:{enabled:!1,interval:3e4},"{notificationWrapper}":"[data-ed-notifications-wrapper]","{notificationCounter}":"[data-ed-notifications-counter]",conversations:{enabled:!1,interval:3e4},"{conversationWrapper}":"[data-ed-conversations-wrapper]","{conversationCounter}":"[data-ed-conversations-counter]","{loginLink}":".loginLink","{loginDropDown}":".loginDropDown","{profileLink}":".profileLink","{profileDropDown}":".profileDropDown"},init:function(){a.checkNotifications()},checkNotifications:function(){a.options.notifications.enabled&&!function c(){setTimeout(function(){b.ajax("site/views/notifications/count",{},{type:"jsonp"}).done(function(b){return 0==b?(a.notificationWrapper().removeClass("has-new"),c(),void 0):(a.notificationWrapper().addClass("has-new"),a.notificationCounter().html(b),c(),void 0)})},a.options.notifications.interval)}()},checkConversations:function(){a.options.conversations.enabled&&!function c(){setTimeout(function(){b.ajax("site/views/conversation/count",{},{type:"jsonp"}).done(function(b){return 0==b?(a.conversationWrapper().removeClass("has-new"),c(),void 0):(a.conversationWrapper().addClass("has-new"),a.conversationCounter().html(b),c(),void 0)})},a.options.notifications.interval)}()},"{loginLink} click":function(){a.messageDropDown().hide(),a.notificationDropDown().hide(),a.loginDropDown().toggle()},"{profileLink} tap":function(){a.messageDropDown().hide(),a.notificationDropDown().hide(),a.profileDropDown().toggle()}}});return d}),ed.define("site/src/votes",["edq","easydiscuss","abstract"],function(a,b){var d=a("[data-ed-votes]");a(document).on("click.ed.vote","[data-ed-votes] [data-vote-button]",function(){var c=a(this),e=c.parents(d.selector),f=e.data("id"),g=c.data("direction"),h=e.find("[data-vote-counter]"),i=e.find("[data-vote-undo]"),j=c.closest("[data-ed-reply-item]").length;b.ajax("site/views/votes/add",{id:f,type:g}).done(function(b){h.text(b),i.removeClass("t-d--none"),a(document).trigger("easydiscuss.voted",[f,g,b,j])}).fail(function(a){b.dialog({content:a})})}),a(document).on("click.ed.vote.undo","[data-ed-votes] [data-vote-undo]",function(){var c=a(this),e=c.parents(d.selector),f=e.data("id"),g=e.find("[data-vote-counter]"),h=c.closest("[data-ed-reply-item]").length;b.ajax("site/views/votes/undo",{id:f}).done(function(b){g.text(b),c.addClass("t-d--none"),a(document).trigger("easydiscuss.voted",[f,"undo",b,h])}).fail(function(a){b.dialog({content:a})})})});