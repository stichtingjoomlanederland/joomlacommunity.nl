{"version":3,"sources":["pwtimage.js"],"names":["global","factory","exports","module","define","amd","self","Cropper","_typeof","obj","Symbol","iterator","constructor","prototype","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","Array","isArray","arr2","iter","toString","call","from","IS_BROWSER","window","WINDOW","IS_TOUCH_DEVICE","document","documentElement","HAS_POINTER_EVENT","NAMESPACE","ACTION_ALL","ACTION_CROP","ACTION_MOVE","ACTION_ZOOM","ACTION_EAST","ACTION_WEST","ACTION_SOUTH","ACTION_NORTH","ACTION_NORTH_EAST","ACTION_NORTH_WEST","ACTION_SOUTH_EAST","ACTION_SOUTH_WEST","CLASS_CROP","concat","CLASS_DISABLED","CLASS_HIDDEN","CLASS_HIDE","CLASS_INVISIBLE","CLASS_MODAL","CLASS_MOVE","DATA_ACTION","DATA_PREVIEW","DRAG_MODE_CROP","DRAG_MODE_MOVE","DRAG_MODE_NONE","EVENT_CROP","EVENT_CROP_END","EVENT_CROP_MOVE","EVENT_CROP_START","EVENT_DBLCLICK","EVENT_TOUCH_START","EVENT_TOUCH_MOVE","EVENT_TOUCH_END","EVENT_POINTER_DOWN","EVENT_POINTER_MOVE","EVENT_POINTER_UP","EVENT_READY","EVENT_RESIZE","EVENT_WHEEL","EVENT_ZOOM","MIME_TYPE_JPEG","REGEXP_ACTIONS","REGEXP_DATA_URL","REGEXP_DATA_URL_JPEG","REGEXP_TAG_NAME","MIN_CONTAINER_WIDTH","MIN_CONTAINER_HEIGHT","DEFAULTS","viewMode","dragMode","initialAspectRatio","NaN","aspectRatio","data","preview","responsive","restore","checkCrossOrigin","checkOrientation","modal","guides","center","highlight","background","autoCrop","autoCropArea","movable","rotatable","scalable","zoomable","zoomOnTouch","zoomOnWheel","wheelZoomRatio","cropBoxMovable","cropBoxResizable","toggleDragModeOnDblclick","minCanvasWidth","minCanvasHeight","minCropBoxWidth","minCropBoxHeight","minContainerWidth","minContainerHeight","ready","cropstart","cropmove","cropend","crop","zoom","TEMPLATE","isNaN","Number","isNumber","value","isPositiveNumber","Infinity","isUndefined","isObject","hasOwnProperty","isPlainObject","_constructor","error","isFunction","slice","toArray","forEach","callback","keys","assign","_len","arguments","args","_key","arg","REGEXP_DECIMALS","normalizeDecimalNumber","times","undefined","test","Math","round","REGEXP_SUFFIX","setStyle","element","styles","style","property","hasClass","classList","contains","className","indexOf","addClass","elem","add","trim","removeClass","remove","replace","toggleClass","added","REGEXP_CAMEL_CASE","toParamCase","toLowerCase","getData","name","dataset","getAttribute","setData","setAttribute","removeData","removeAttribute","REGEXP_SPACES","onceSupported","supported","once","listener","options","get","set","addEventListener","removeEventListener","removeListener","type","handler","split","event","listeners","addListener","_handler","_element$listeners","_len2","_key2","apply","dispatchEvent","Event","CustomEvent","detail","bubbles","cancelable","createEvent","initCustomEvent","getOffset","box","getBoundingClientRect","left","pageXOffset","clientLeft","top","pageYOffset","clientTop","location","REGEXP_ORIGINS","isCrossOriginURL","url","parts","match","protocol","hostname","port","addTimestamp","timestamp","Date","getTime","getTransforms","_ref","rotate","scaleX","scaleY","translateX","translateY","values","push","transform","join","WebkitTransform","msTransform","getMaxZoomRatio","pointers","pointers2","ratios","pointer","pointerId","pointer2","x1","abs","startX","y1","startY","x2","endX","y2","endY","z1","sqrt","z2","ratio","sort","a","b","getPointer","_ref2","endOnly","pageX","pageY","end","getPointersCenter","count","_ref3","getAdjustedSizes","_ref4","height","width","isValidWidth","isValidHeight","adjustedWidth","getRotatedSizes","_ref5","degree","arc","PI","sinArc","sin","cosArc","cos","newWidth","newHeight","getSourceCanvas","image","_ref6","_ref7","_ref8","imageAspectRatio","imageNaturalWidth","naturalWidth","imageNaturalHeight","naturalHeight","_ref6$rotate","_ref6$scaleX","_ref6$scaleY","_ref8$fillColor","fillColor","_ref8$imageSmoothingE","imageSmoothingEnabled","_ref8$imageSmoothingQ","imageSmoothingQuality","_ref8$maxWidth","maxWidth","_ref8$maxHeight","maxHeight","_ref8$minWidth","minWidth","_ref8$minHeight","minHeight","canvas","createElement","context","getContext","maxSizes","minSizes","min","max","destMaxSizes","destMinSizes","destWidth","destHeight","params","fillStyle","fillRect","save","translate","scale","drawImage","map","param","floor","fromCharCode","String","getStringFromCharCode","dataView","start","str","getUint8","REGEXP_DATA_URL_HEAD","dataURLToArrayBuffer","dataURL","base64","binary","atob","arrayBuffer","ArrayBuffer","uint8","Uint8Array","charCodeAt","arrayBufferToDataURL","mimeType","chunks","chunkSize","subarray","btoa","resetAndGetOrientation","DataView","orientation","littleEndian","app1Start","ifdStart","byteLength","offset","exifIDCode","tiffOffset","endianness","getUint16","firstIFDOffset","getUint32","_length","_offset","setUint16","parseOrientation","render","initContainer","initCanvas","initCropBox","renderCanvas","cropped","renderCropBox","container","cropper","containerData","offsetWidth","offsetHeight","imageData","rotated","canvasWidth","canvasHeight","canvasData","oldLeft","oldTop","limited","limitCanvas","initialImageData","initialCanvasData","sizeLimited","positionLimited","cropBoxData","_getAdjustedSizes","newCanvasLeft","newCanvasTop","minLeft","minTop","maxLeft","maxTop","changed","transformed","_getRotatedSizes","renderImage","limitCropBox","output","initialCropBoxData","maxCropBoxWidth","maxCropBoxHeight","face","cropBox","disabled","initPreview","crossOrigin","crossOriginUrl","alt","src","viewBox","appendChild","viewBoxImage","previews","ownerDocument","querySelectorAll","querySelector","el","img","html","innerHTML","cssText","resetPreview","cropBoxWidth","cropBoxHeight","originalWidth","originalHeight","getElementsByTagName","events","bind","onCropStart","cropStart","onWheel","wheel","passive","capture","onDblclick","dblclick","onCropMove","cropMove","onCropEnd","cropEnd","onResize","resize","unbind","handlers","getCanvasData","getCropBoxData","setCanvasData","n","setCropBoxData","setDragMode","dragBox","_this","delta","preventDefault","wheeling","setTimeout","deltaY","wheelDelta","buttons","button","ctrlKey","action","changedTouches","touch","identifier","originalEvent","cropping","change","right","bottom","renderable","shiftKey","range","x","y","check","side","move","p","methods","reset","clear","hasSameSize","isImg","replaced","uncreate","load","enable","disable","destroy","originalUrl","offsetX","offsetY","_this$canvasData","moveTo","_originalEvent","zoomTo","pivot","oldRatio","rotateTo","_scaleX","_scaleY","rounded","getContainerData","getImageData","sized","widthChanged","heightChanged","getCroppedCanvas","HTMLCanvasElement","source","_this$getData","initialX","initialY","initialWidth","initialHeight","_options$imageSmoothi","sourceWidth","sourceHeight","srcX","srcY","srcWidth","srcHeight","dstX","dstY","dstWidth","dstHeight","setAspectRatio","mode","croppable","AnotherCropper","tagName","Error","reloading","sizing","init","toDataURL","clone","read","xhr","XMLHttpRequest","onabort","onerror","ontimeout","onprogress","getResponseHeader","abort","onload","response","onloadend","open","responseType","withCredentials","send","_parseOrientation","stop","parentNode","insertBefore","nextSibling","_this2","isIOSWebKit","navigator","userAgent","done","build","sizingImage","body","removeChild","template","getElementsByClassName","unbuild","noConflict","setDefaults","sortableModule","sortableFactory","sortableError","dragEl","parentEl","ghostEl","cloneEl","rootEl","nextEl","lastDownEl","scrollEl","scrollParentEl","scrollCustomFn","oldIndex","newIndex","oldDraggableIndex","newDraggableIndex","activeGroup","putSortable","autoScrolls","scrolling","awaitingDragStarted","ignoreNextClick","sortables","pointerElemChangedInterval","lastPointerElemX","lastPointerElemY","tapEvt","touchEvt","moved","lastTarget","lastDirection","pastFirstInvertThresh","isCircumstantialInvert","lastMode","targetMoveDistance","ghostRelativeParent","ghostRelativeParentInitialScroll","realDragElRect","R_SPACE","expando","win","parseInt","$","jQuery","Zepto","Polymer","captureMode","IE11OrLess","Edge","FireFox","Safari","IOS","PositionGhostAbsolutely","CSSFloatProperty","supportDraggable","supportCssPointerEvents","pointerEvents","_silent","_alignedSilent","savedInputChecked","_detectDirection","elCSS","_css","elWidth","paddingLeft","paddingRight","borderLeftWidth","borderRightWidth","child1","_getChild","child2","firstChildCSS","secondChildCSS","firstChildWidth","marginLeft","marginRight","_getRect","secondChildWidth","display","flexDirection","gridTemplateColumns","touchingSideChild2","_detectNearestEmptySortable","_lastChild","rect","threshold","emptyInsertThreshold","insideHorizontally","insideVertically","_isClientInRowColumn","axis","targetRect","targetS1Opp","targetS2Opp","mouseOnOppAxis","_isElInRowColumn","el1","el2","el1Rect","el2Rect","el1S1Opp","el1S2Opp","el1OppLength","el2S1Opp","el2S2Opp","el2OppLength","_getParentAutoScrollElement","includeSelf","_getWindowScrollingElement","gotSelf","clientWidth","scrollWidth","clientHeight","scrollHeight","elemCSS","overflowX","overflowY","scrollingElement","_scrollBy","scrollLeft","scrollTop","_autoScroll","_throttle","evt","isFallback","scroll","sens","scrollSensitivity","speed","scrollSpeed","clientX","clientY","winScroller","scrollThisInstance","_clearAutoScrolls","scrollFn","layersOut","currentParent","css","vx","vy","canScrollX","canScrollY","scrollPosX","scrollPosY","clearInterval","pid","setInterval","layer","Sortable","active","_emulateDragOver","_onTouchMove","scrollOffsetY","scrollOffsetX","bubbleScroll","autoScroll","_prepareGroup","toFn","pull","to","sameGroup","group","otherGroup","originalGroup","checkPull","checkPut","put","revertClone","_checkAlignment","_computeIsAligned","_hideGhostForTarget","_unhideGhostForTarget","stopPropagation","stopImmediatePropagation","nearestEmptyInsertDetectEvent","touches","nearest","_onDragOver","nodeType","_extend","defaults","store","handle","draggable","nodeName","swapThreshold","invertSwap","invertedSwapThreshold","removeCloneOnHide","direction","ghostClass","chosenClass","dragClass","ignore","filter","preventOnFilter","animation","easing","dataTransfer","textContent","dropBubble","dragoverBubble","dataIdAttr","delay","delayOnTouchOnly","touchStartThreshold","devicePixelRatio","forceFallback","fallbackClass","fallbackOnBody","fallbackTolerance","fallbackOffset","supportPointer","fn","charAt","nativeDraggable","_on","_onTapStart","elementFromPoint","_closest","children","sortableMouseAligned","_getDirection","originalTarget","shadowRoot","path","composedPath","startIndex","startDraggableIndex","_saveInputCheckedState","isContentEditable","_index","_dispatchEvent","some","criteria","_prepareDragStart","_handleAutoScroll","fallback","ogElemScroller","newElem","dragStartFn","_lastX","_lastY","transition","_disableDelayedDragEvents","_triggerDragStart","_toggleClass","_find","_disableDraggable","_onDrop","_disableDelayedDrag","_delayedDragTouchMoveHandler","_dragStartTimer","e","clearTimeout","_off","pointerType","_onDragStart","selection","_nextTick","empty","getSelection","removeAllRanges","err","_dragStarted","_appendGhost","_nulling","forAutoScroll","parent","inserted","matrix","_matrix","d","relativeScrollOffset","_getRelativeScrollOffset","dx","dy","translate3d","ghostRelativeParentRect","cloneNode","_clone","_hideClone","_cloneId","_loopId","effectAllowed","_dragStartId","dragRect","revert","activeSortable","isOwner","canSort","completed","insertion","_showClone","_animate","animated","lastPutMode","elLastChild","_ghostIsLast","_onMove","targetBeforeFirstSwap","aligned","differentLevel","side1","scrolledPastTop","_isScrolledPast","scrollBefore","_getSwapDirection","_getInsertDirection","nextElementSibling","after","moveVector","_unsilent","prevRect","ms","currentRect","_repaint","_offMoveEvents","_offUpEvents","_cancelThrottle","_cancelNextTick","checked","handleEvent","_globalDragOver","order","_generateId","items","id","closest","selector","option","splice","cloneHidden","ctx","includeCTX","_matches","_getParentOrHost","host","dropEffect","state","prop","val","defaultView","getComputedStyle","currentStyle","appliedTransforms","DOMMatrix","WebKitCSSMatrix","CSSMatrix","list","sortable","targetEl","toEl","fromEl","originalEvt","onName","toUpperCase","substr","initEvent","item","pullMode","willInsertAfter","onMoveFn","onMove","retVal","dragged","draggedRect","related","relatedRect","childNum","currentChild","last","lastElementChild","previousElementSibling","elRect","mouseOnAxis","targetS2","spacer","isLastTarget","targetLength","targetS1","invert","dragS1","dragS2","dragElIndex","targetIndex","href","sum","index","substring","matches","msMatchesSelector","webkitMatchesSelector","_","_throttleTimeout","dst","dom","root","inputs","idx","adjustForTransform","adjustForFixed","innerHeight","innerWidth","containerRect","elSide","parentSide","visible","offsetLeft","offsetTop","utils","on","off","find","is","extend","throttle","nextTick","cancelNextTick","detectDirection","getChild","create","version","doc","MODAL_JS_CLASS","MODAL_ID_PREFIX","MODAL_CLASS_SUFFIX","MODAL_DATA_BACKGROUND_ATTR","MODAL_PREFIX_CLASS_ATTR","MODAL_TEXT_ATTR","MODAL_CONTENT_ID_ATTR","MODAL_DESCRIBEDBY_ID_ATTR","MODAL_TITLE_ATTR","MODAL_FOCUS_TO_ATTR","MODAL_CLOSE_TEXT_ATTR","MODAL_CLOSE_TITLE_ATTR","MODAL_CLOSE_IMG_ATTR","MODAL_ROLE","MODAL_BUTTON_CLASS_SUFFIX","MODAL_BUTTON_JS_ID","MODAL_BUTTON_JS_CLASS","MODAL_BUTTON_CONTENT_BACK_ID","MODAL_BUTTON_FOCUS_BACK_ID","MODAL_WRAPPER_CLASS_SUFFIX","MODAL_CONTENT_CLASS_SUFFIX","MODAL_CONTENT_JS_ID","MODAL_CLOSE_IMG_CLASS_SUFFIX","MODAL_CLOSE_TEXT_CLASS_SUFFIX","MODAL_TITLE_ID","MODAL_TITLE_CLASS_SUFFIX","FOCUSABLE_ELEMENTS_STRING","WRAPPER_PAGE_JS","MODAL_JS_ID","MODAL_OVERLAY_ID","MODAL_OVERLAY_CLASS_SUFFIX","MODAL_OVERLAY_TXT","MODAL_OVERLAY_BG_ENABLED_ATTR","VISUALLY_HIDDEN_CLASS","NO_SCROLL_CLASS","ATTR_ROLE","ATTR_OPEN","ATTR_LABELLEDBY","ATTR_DESCRIBEDBY","ATTR_HIDDEN","ATTR_HASPOPUP","ATTR_HASPOPUP_VALUE","findById","getElementById","RegExp","wrapInner","wrapper","firstChild","searchParent","parentClass","found","parentElement","createOverlay","config","overlayText","text","overlayClass","prefixClass","overlayBackgroundEnabled","backgroundEnabled","createModal","modalClassName","modalPrefixClass","modalClassWrapper","buttonCloseClassName","buttonCloseInner","modalCloseImgPath","modalCloseText","contentClassName","titleClassName","title","modalTitle","button_close","modalCloseTitle","modalContentId","modalFocusBackId","content","modalText","describedById","modalDescribedById","contentFromId","closeModal","overlay","contentBackId","contentBack","modalContent","contentFocus","focus","$listModals","node","attach","addListeners","modal_node","iLisible","random","wrapperBody","eventName","parentModalLauncher","modalLauncher","hasAttribute","modalGiveFocusToId","insertAdjacentHTML","closeButton","focusTo","parentButton","modalButtonClose","fromId","$listFocusables","keyCode","onLoad","van11yAccessibleModalWindowAria","vanillaTabScroller","supports","eventTimeout","settings","scroller","tabs","tab","tabsButtonPrevClass","tabsButtonNextClass","tabsOverflowClass","tabsOverflowLeftClass","tabsOverflowRightClass","tabsScrollAmount","tabsAnimationSpeed","beforeSetWidth","afterSetWidth","collection","scope","extended","deep","merge","getClosest","Element","matchesSelector","mozMatchesSelector","oMatchesSelector","s","scrollTo","duration","currentTime","increment","animateScroll","easeInOutQuad","t","c","setup","tabScroller","beforeButton","afterButton","scrollToTab","tabsCalculateScroll","localSettings","tabscroller","tabsWidth","scrollerWidth","calculateScroll","positionLeft","positionRight","parentPaddingLeft","getPropertyValue","parentPaddingRight","scrollerOffset","clickHandler","metaKey","resizeThrottler","pwtImage","croppers","targetId","iFrameLink","wysiwyg","resultFile","altText","captionText","uploadImage","imageLimit","showImageDirect","rootPath","sessionValue","initialise","trigger","Joomla","getOptions","sessionToken","initialiseDragnDrop","dragZone","files","createPreview","cleanUpAfterUpload","directToCanvas","addRepeatImage","modalId","addNewButton","imageField","imageBlock","first","currentId","selectButton","newOnClick","attr","append","prepareUpload","setTargetId","setIframeLink","link","setRootPath","setWysiwyg","setViewMode","getTargetId","saveImage","tokenValue","createNew","postUrl","keepOriginal","useOriginal","sourcePath","subPath","localfile","targetfile","backgroundColor","origin","FormData","Image","ajax","contentType","cache","processData","async","headers","success","friendlyMessage","findErrorMessage","renderMessage","message","warning","messages","imageCanvas","JText","console","log","responseText","replaceWith","loadFolder","fulltab","next","exception","cancelImage","clearImage","imageToolbar","getParentId","method","openImage","hide","folder","folders","folderItems","folderPath","structure","each","folderItem","itemPath","itemFolders","pagination","pages","ceil","page","addToLocalStorage","basePath","prepareImages","itemImages","paginationBar","selectFilter","status","statusText","loadSelectFolders","choicesFolder","clearChoices","setChoices","label","setChoiceByValue","showMoreImages","storedFiles","getFromLocalStorage","getImageElement","imageElement","imageName","lastIndexOf","baseName","pattern","addImageToCanvas","file","upload","ratioSplit","json","base","submit","click","setDestination","choicesDestination","getValue","imageInfo","isSelected","siblings","pathField","altInput","captionInput","show","uploadImagePreview","URL","webkitURL","imageUpload","onchange","imageMaxSize","dimensionSizes","size","alert","createObjectURL","fileName","filesize","previewImage","cleanFile","selected","prev","filename","task","format","mime","search","filteredItems","filterItems","links","elements","query","kb","toFixed","mb","payload","JSON","parse","localStorage","getItem","storedKey","setItem","stringify","local","messageContainer","renderMessages","webpackUniversalModuleDefinition","modules","installedModules","__webpack_require__","moduleId","l","m","getter","o","r","toStringTag","__esModule","ns","getDefault","getModuleExports","object","diff","cloneObject","existsInArray","isIE11","fetchFromObject","getWindowHeight","sortByScore","sortByAlpha","calcWidthOfInput","strToEl","sanitise","isScrolledIntoView","getAdjacentEl","findAncestorByAttrName","wrap","isElement","isType","getType","generateId","generateChars","getRandomNumber","chars","randomChar","prefix","startEl","startPos","operatorDirection","isVisible","tmpEl","cleanedInput","firldChild","input","placeholder","testEl","position","padding","whiteSpace","inputStyle","fontSize","fontFamily","fontWeight","fontStyle","letterSpacing","textTransform","requestAnimationFrame","labelA","labelB","score","customArgs","array","aKeys","bKeys","SCROLLING_SPEED","KEY_CODES","ACTION_TYPES","EVENTS","DEFAULT_CONFIG","DEFAULT_CLASSNAMES","_utils","containerOuter","containerInner","inputCloned","listItems","listSingle","listDropdown","itemSelectable","itemDisabled","itemChoice","groupHeading","activeState","focusState","openState","disabledState","highlightedState","hiddenState","flippedState","loadingState","noResults","noChoices","choices","silent","renderChoiceLimit","maxItemCount","addItems","addItemFilterFn","removeItems","removeItemButton","editItems","duplicateItemsAllowed","delimiter","paste","searchEnabled","searchChoices","searchFloor","searchResultLimit","searchFields","resetScrollPosition","shouldSort","shouldSortItems","sortFn","placeholderValue","searchPlaceholderValue","prependValue","appendValue","renderSelectedChoices","loadingText","noResultsText","noChoicesText","itemSelectText","uniqueItemText","customAddItemText","addItemText","maxItemText","itemComparer","choice","fuseOptions","includeScore","callbackOnInit","callbackOnCreateTemplates","classNames","showDropdown","hideDropdown","addItem","removeItem","highlightItem","highlightChoice","ADD_CHOICE","FILTER_CHOICES","ACTIVATE_CHOICES","CLEAR_CHOICES","ADD_GROUP","ADD_ITEM","REMOVE_ITEM","HIGHLIGHT_ITEM","CLEAR_ALL","BACK_KEY","DELETE_KEY","ENTER_KEY","A_KEY","ESC_KEY","UP_KEY","DOWN_KEY","PAGE_UP_KEY","PAGE_DOWN_KEY","__webpack_exports__","_ponyfill_js__WEBPACK_IMPORTED_MODULE_0__","result","g","Function","WrappedElement","isDisabled","conceal","tabIndex","origStyle","reveal","triggerEvent","eventType","TEMPLATES","_classnames","_interopRequireDefault","_defineProperty","globalClasses","isSelectElement","isSelectOneElement","passedElementType","role","ariaAutoComplete","itemList","_classNames","localClasses","_classNames2","ariaSelected","ariaDisabled","highlighted","_classNames3","customProperties","choiceList","ariaMultiSelectable","choiceGroup","_classNames5","groupId","elementId","dropdown","notice","_classNames6","_default","_freeGlobal","freeSelf","_root","_Symbol","objectProto","_getRawTag_hasOwnProperty","nativeObjectToString","symToStringTag","getRawTag","isOwn","tag","unmasked","_getRawTag","_objectToString_objectProto","_objectToString_nativeObjectToString","objectToString","_objectToString","nullTag","undefinedTag","_baseGetTag_symToStringTag","baseGetTag","_baseGetTag","overArg","func","_overArg","getPrototype","getPrototypeOf","_getPrototype","isObjectLike","lodash_es_isObjectLike","objectTag","funcProto","isPlainObject_objectProto","funcToString","isPlainObject_hasOwnProperty","objectCtorString","proto","Ctor","lodash_es_isPlainObject","es","ActionTypes","INIT","createStore_createStore","reducer","preloadedState","enhancer","currentReducer","currentState","currentListeners","nextListeners","isDispatching","ensureCanMutateNextListeners","getState","subscribe","isSubscribed","unsubscribe","dispatch","replaceReducer","nextReducer","observable","outerSubscribe","observer","observeState","getUndefinedStateErrorMessage","actionType","actionName","getUnexpectedStateShapeWarningMessage","inputState","reducers","unexpectedKeyCache","reducerKeys","argumentName","unexpectedKeys","assertReducerShape","initialState","combineReducers","finalReducers","finalReducerKeys","shapeAssertionError","combination","warningMessage","hasChanged","nextState","_i","previousStateForKey","nextStateForKey","errorMessage","bindActionCreator","actionCreator","bindActionCreators","actionCreators","boundActionCreators","compose","funcs","reduce","_extends","applyMiddleware","middlewares","createStore","_dispatch","chain","middlewareAPI","middleware","isCrushed","symbolObservablePonyfill","freeGlobal","_fuse","_deepmerge","_store","_components","_constants","_templates","_choices","_items","_groups","_misc","_general","Choices","userConfig","_generateInstances","all","userDefaults","arrayMerge","destinationArray","sourceArray","invalidConfigOptions","warn","includes","passedElement","_isTextElement","_isSelectOneElement","_isSelectMultipleElement","_isSelectElement","WrappedInput","WrappedSelect","initialised","_initialState","_currentState","_prevState","_currentValue","_canSearch","_isScrollingOnIe","_highlightPosition","_wasTap","_placeholderValue","_generatePlaceholderValue","_baseId","_direction","_idNames","_presetChoices","_presetItems","_render","_onFocus","_onBlur","_onKeyUp","_onKeyDown","_onClick","_onTouchEnd","_onMouseDown","_onMouseOver","_onFormReset","_onAKey","_onEnterKey","_onEscapeKey","_onDirectionKey","_onDeleteKey","_createTemplates","_createElements","_createStructure","_addEventListeners","shouldDisable","_removeEventListeners","unwrap","clearStore","templates","runEvent","_item$groupId","_item$value","_item$label","getGroupById","groupValue","unhighlightItem","_item$groupId2","_item$value2","_item$label2","highlightAll","unhighlightAll","removeActiveItemsByValue","_this3","activeItems","_removeItem","removeActiveItems","excludedId","_this4","removeHighlightedItems","_this5","highlightedActiveItems","_triggerChange","preventInputFocus","_this6","isActive","distanceFromTopWindow","preventInputBlur","_this7","close","removeActiveDescendant","blur","valueOnly","selectedItems","itemValue","setValue","_this8","_setChoiceOrItem","_this9","choiceValue","_findAndSelectChoiceByValue","_this10","replaceChoices","removeLoadingState","addGroupsAndChoices","groupOrChoice","_addGroup","valueKey","labelKey","_addChoice","_setLoading","clearAll","clearInput","shouldSetInputWidth","_isSearching","activateChoices","_this11","_handleLoadingState","_ajaxCallback","isLoading","stateChanged","groups","shouldRenderChoices","shouldRenderItems","_renderChoices","_renderItems","_this12","_this$_store","activeGroups","activeChoices","choiceListFragment","createDocumentFragment","scrollToTop","activePlaceholders","activeChoice","_createChoicesFragment","_createGroupsFragment","childNodes","canAddItem","_canAddItem","_highlightChoice","_getTemplate","dropdownItem","itemListFragment","_createItemsFragment","fragment","_this13","groupFragment","getGroupChoices","groupChoices","dropdownGroup","_this14","withinGroup","choicesFragment","_this$config","appendChoice","shouldRender","rendererableChoices","_rendererableChoices$","acc","placeholderChoices","normalChoices","choiceLimit","sortedChoices","_this15","_this$config2","addItemToFragment","listItem","_selectPlaceholderChoice","placeholderChoice","_addItem","choiceId","_handleButtonAction","itemId","itemToRemove","_handleItemAction","_this16","hasShiftKey","passedId","_handleChoiceAction","getChoiceById","passedKeyCode","hasActiveDropdown","_handleBackspace","lastItem","hasHighlightedItems","setWidth","setIsLoading","setLoading","placeholderItem","addLoadingState","_handleSearch","isFocussed","_this$config3","hasUnactiveChoices","resultCount","_searchChoices","isDuplicateValue","_this17","results","parsedResults","newValue","currentValue","haystack","searchableChoices","needle","fuse","filterChoices","form","addEventListeners","removeEventListeners","_keyDownActions","hasFocusedInput","hasItems","hasChildren","keyString","hasCtrlDownKeyPressed","keyDownActions","backKey","deleteKey","canShowDropdownNotice","outerHTML","userHasRemovedValue","canReactivateChoices","canSearch","shouldHightlightAll","activeElement","enterKey","targetWasButton","highlightedChoice","downKey","pageUpKey","pageDownKey","directionInt","skipKey","selectableChoiceIdentifier","pop","currentEl","scrollToChoice","touchWasWithinContainer","containerWasExactTarget","buttonTarget","itemTarget","choiceTarget","_ref9","targetWithinDropdown","shouldHighlightChoice","_ref10","clickWasWithinContainer","removeFocusState","_ref11","_this18","focusWasWithinContainer","focusActions","addFocusState","selectOne","selectMultiple","_ref12","_this19","blurWasWithinContainer","blurActions","resetTo","_this20","passedEl","highlightedChoices","setActiveDescendant","_ref13","_ref13$label","_ref13$choiceId","_ref13$groupId","_ref13$customProperti","_ref13$placeholder","_ref13$keyCode","passedValue","passedCustomProperties","passedLabel","passedOptionId","_ref14","_ref14$label","_ref14$isSelected","_ref14$isDisabled","_ref14$groupId","_ref14$customProperti","_ref14$placeholder","_ref14$keyCode","choiceLabel","choiceElementId","addChoice","_ref15","_this21","_ref15$valueKey","_ref15$labelKey","valueOf","addGroup","addGroupChoices","isOptDisabled","_templates$template","_this$config4","userTemplates","Container","Input","List","Dropdown","_addPredefinedChoices","_addPredefinedItems","_this22","passedGroups","optionGroups","placeholderOption","passedOptions","allChoices","hasSelectedChoice","handleChoice","shouldPreselect","_this23","handlePresetItem","itemType","_this24","handleType","string","_this25","foundChoice","instances","matchmask","minMatchCharLength","matchedIndices","len","mask","SPECIAL_CHARS_REGEX","tokenSeparator","regex","isMatch","matchesLen","_ref$errors","errors","_ref$currentLocation","currentLocation","_ref$expectedLocation","expectedLocation","_ref$distance","distance","accuracy","proximity","bitapScore","patternAlphabet","_ref$location","_ref$threshold","_ref$findAllMatches","findAllMatches","_ref$minMatchCharLeng","textLen","currentThreshold","bestLocation","patternLen","matchMask","_score","lastBitArr","finalScore","binMax","binMin","binMid","_score3","finish","bitArr","j","charMatch","_score2","bitapRegexSearch","bitapSearch","Bitap","_ref$maxPatternLength","maxPatternLength","_ref$isCaseSensitive","isCaseSensitive","_ref$tokenSeparator","_this$options","_this$options2","deepValue","dotIndex","firstSegment","remaining","Fuse","_ref$caseSensitive","caseSensitive","_ref$id","_ref$keys","_ref$shouldSort","_ref$getFn","getFn","_ref$sortFn","_ref$tokenize","tokenize","_ref$matchAllTokens","matchAllTokens","_ref$includeMatches","includeMatches","_ref$includeScore","_ref$verbose","verbose","setCollection","opts","limit","_log","_this$_prepareSearche","_prepareSearchers","tokenSearchers","fullSearcher","_this$_search","_search","weights","_computeScore","_sort","_format","tokens","resultMap","_analyze","record","keysLen","weight","_ref2$arrayIndex","arrayIndex","_ref3$tokenSearchers","_ref3$fullSearcher","_ref3$resultMap","_ref3$results","exists","averageScore","numTextMatches","mainSearchResult","words","scores","tokenSearcher","hasMatchInText","word","tokenSearchResult","scoresLen","_i2","checkTextMatches","existingResult","_i3","scoreLen","currScore","bestScore","nScore","finalOutput","transformers","indices","_console","isMergeableObject","isNonNullObject","isSpecial","stringValue","isReactElement","canUseSymbol","REACT_ELEMENT_TYPE","$$typeof","emptyTarget","cloneUnlessOtherwiseSpecified","deepmerge","defaultArrayMerge","mergeObject","destination","sourceIsArray","targetIsArray","sourceAndTargetTypesMatch","deepmergeAll","deepmerge_1","_redux","Store","__REDUX_DEVTOOLS_EXTENSION__","onChange","general","loading","selectableChoices","reverse","hasActiveOptions","originalModule","webpackPolyfill","appReducer","rootReducer","passedState","defaultState","newState","activateOptions","_dropdown","_container","_input","_list","_wrappedInput","_wrappedSelect","dimensions","isOpen","isFlipped","shouldFlip","dropdownPos","windowHeight","activeDescendantID","_onPaste","_onInput","enforceWidth","valueHasDesiredLength","calcWidth","preventPaste","scrollPos","dropdownHeight","choiceHeight","choicePos","containerScrollPos","endpoint","time","_animateScroll","_scrollDown","strength","_scrollUp","choiceListScrollTop","continueAnimation","_wrappedElement","_possibleConstructorReturn","_assertThisInitialized","ReferenceError","_get","receiver","Reflect","_superPropBase","desc","getOwnPropertyDescriptor","_getPrototypeOf","setPrototypeOf","__proto__","_inherits","subClass","superClass","_setPrototypeOf","_WrappedElement","itemValues","joinedValues","appendDocFragment","addOptionToFragment","optionData","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","hasOwn","classes","argType","inner"],"mappings":"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","sourcesContent":["/*!\n * Cropper.js v1.5.4\n * https://fengyuanchen.github.io/cropperjs\n *\n * Copyright 2015-present Chen Fengyuan\n * Released under the MIT license\n *\n * Date: 2019-07-20T02:37:47.411Z\n */\n\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = global || self, global.Cropper = factory());\n}(this, function () { 'use strict';\n\n  function _typeof(obj) {\n    if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n      _typeof = function (obj) {\n        return typeof obj;\n      };\n    } else {\n      _typeof = function (obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n      };\n    }\n\n    return _typeof(obj);\n  }\n\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n\n  function _defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  function _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    return Constructor;\n  }\n\n  function _toConsumableArray(arr) {\n    return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();\n  }\n\n  function _arrayWithoutHoles(arr) {\n    if (Array.isArray(arr)) {\n      for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];\n\n      return arr2;\n    }\n  }\n\n  function _iterableToArray(iter) {\n    if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n  }\n\n  function _nonIterableSpread() {\n    throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n  }\n\n  var IS_BROWSER = typeof window !== 'undefined';\n  var WINDOW = IS_BROWSER ? window : {};\n  var IS_TOUCH_DEVICE = IS_BROWSER ? 'ontouchstart' in WINDOW.document.documentElement : false;\n  var HAS_POINTER_EVENT = IS_BROWSER ? 'PointerEvent' in WINDOW : false;\n  var NAMESPACE = 'cropper'; // Actions\n\n  var ACTION_ALL = 'all';\n  var ACTION_CROP = 'crop';\n  var ACTION_MOVE = 'move';\n  var ACTION_ZOOM = 'zoom';\n  var ACTION_EAST = 'e';\n  var ACTION_WEST = 'w';\n  var ACTION_SOUTH = 's';\n  var ACTION_NORTH = 'n';\n  var ACTION_NORTH_EAST = 'ne';\n  var ACTION_NORTH_WEST = 'nw';\n  var ACTION_SOUTH_EAST = 'se';\n  var ACTION_SOUTH_WEST = 'sw'; // Classes\n\n  var CLASS_CROP = \"\".concat(NAMESPACE, \"-crop\");\n  var CLASS_DISABLED = \"\".concat(NAMESPACE, \"-disabled\");\n  var CLASS_HIDDEN = \"\".concat(NAMESPACE, \"-hidden\");\n  var CLASS_HIDE = \"\".concat(NAMESPACE, \"-hide\");\n  var CLASS_INVISIBLE = \"\".concat(NAMESPACE, \"-invisible\");\n  var CLASS_MODAL = \"\".concat(NAMESPACE, \"-modal\");\n  var CLASS_MOVE = \"\".concat(NAMESPACE, \"-move\"); // Data keys\n\n  var DATA_ACTION = \"\".concat(NAMESPACE, \"Action\");\n  var DATA_PREVIEW = \"\".concat(NAMESPACE, \"Preview\"); // Drag modes\n\n  var DRAG_MODE_CROP = 'crop';\n  var DRAG_MODE_MOVE = 'move';\n  var DRAG_MODE_NONE = 'none'; // Events\n\n  var EVENT_CROP = 'crop';\n  var EVENT_CROP_END = 'cropend';\n  var EVENT_CROP_MOVE = 'cropmove';\n  var EVENT_CROP_START = 'cropstart';\n  var EVENT_DBLCLICK = 'dblclick';\n  var EVENT_TOUCH_START = IS_TOUCH_DEVICE ? 'touchstart' : 'mousedown';\n  var EVENT_TOUCH_MOVE = IS_TOUCH_DEVICE ? 'touchmove' : 'mousemove';\n  var EVENT_TOUCH_END = IS_TOUCH_DEVICE ? 'touchend touchcancel' : 'mouseup';\n  var EVENT_POINTER_DOWN = HAS_POINTER_EVENT ? 'pointerdown' : EVENT_TOUCH_START;\n  var EVENT_POINTER_MOVE = HAS_POINTER_EVENT ? 'pointermove' : EVENT_TOUCH_MOVE;\n  var EVENT_POINTER_UP = HAS_POINTER_EVENT ? 'pointerup pointercancel' : EVENT_TOUCH_END;\n  var EVENT_READY = 'ready';\n  var EVENT_RESIZE = 'resize';\n  var EVENT_WHEEL = 'wheel';\n  var EVENT_ZOOM = 'zoom'; // Mime types\n\n  var MIME_TYPE_JPEG = 'image/jpeg'; // RegExps\n\n  var REGEXP_ACTIONS = /^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/;\n  var REGEXP_DATA_URL = /^data:/;\n  var REGEXP_DATA_URL_JPEG = /^data:image\\/jpeg;base64,/;\n  var REGEXP_TAG_NAME = /^img|canvas$/i; // Misc\n  // Inspired by the default width and height of a canvas element.\n\n  var MIN_CONTAINER_WIDTH = 200;\n  var MIN_CONTAINER_HEIGHT = 100;\n\n  var DEFAULTS = {\n    // Define the view mode of the cropper\n    viewMode: 0,\n    // 0, 1, 2, 3\n    // Define the dragging mode of the cropper\n    dragMode: DRAG_MODE_CROP,\n    // 'crop', 'move' or 'none'\n    // Define the initial aspect ratio of the crop box\n    initialAspectRatio: NaN,\n    // Define the aspect ratio of the crop box\n    aspectRatio: NaN,\n    // An object with the previous cropping result data\n    data: null,\n    // A selector for adding extra containers to preview\n    preview: '',\n    // Re-render the cropper when resize the window\n    responsive: true,\n    // Restore the cropped area after resize the window\n    restore: true,\n    // Check if the current image is a cross-origin image\n    checkCrossOrigin: true,\n    // Check the current image's Exif Orientation information\n    checkOrientation: true,\n    // Show the black modal\n    modal: true,\n    // Show the dashed lines for guiding\n    guides: true,\n    // Show the center indicator for guiding\n    center: true,\n    // Show the white modal to highlight the crop box\n    highlight: true,\n    // Show the grid background\n    background: true,\n    // Enable to crop the image automatically when initialize\n    autoCrop: true,\n    // Define the percentage of automatic cropping area when initializes\n    autoCropArea: 0.8,\n    // Enable to move the image\n    movable: true,\n    // Enable to rotate the image\n    rotatable: true,\n    // Enable to scale the image\n    scalable: true,\n    // Enable to zoom the image\n    zoomable: true,\n    // Enable to zoom the image by dragging touch\n    zoomOnTouch: true,\n    // Enable to zoom the image by wheeling mouse\n    zoomOnWheel: true,\n    // Define zoom ratio when zoom the image by wheeling mouse\n    wheelZoomRatio: 0.1,\n    // Enable to move the crop box\n    cropBoxMovable: true,\n    // Enable to resize the crop box\n    cropBoxResizable: true,\n    // Toggle drag mode between \"crop\" and \"move\" when click twice on the cropper\n    toggleDragModeOnDblclick: true,\n    // Size limitation\n    minCanvasWidth: 0,\n    minCanvasHeight: 0,\n    minCropBoxWidth: 0,\n    minCropBoxHeight: 0,\n    minContainerWidth: 200,\n    minContainerHeight: 100,\n    // Shortcuts of events\n    ready: null,\n    cropstart: null,\n    cropmove: null,\n    cropend: null,\n    crop: null,\n    zoom: null\n  };\n\n  var TEMPLATE = '<div class=\"cropper-container\" touch-action=\"none\">' + '<div class=\"cropper-wrap-box\">' + '<div class=\"cropper-canvas\"></div>' + '</div>' + '<div class=\"cropper-drag-box\"></div>' + '<div class=\"cropper-crop-box\">' + '<span class=\"cropper-view-box\"></span>' + '<span class=\"cropper-dashed dashed-h\"></span>' + '<span class=\"cropper-dashed dashed-v\"></span>' + '<span class=\"cropper-center\"></span>' + '<span class=\"cropper-face\"></span>' + '<span class=\"cropper-line line-e\" data-cropper-action=\"e\"></span>' + '<span class=\"cropper-line line-n\" data-cropper-action=\"n\"></span>' + '<span class=\"cropper-line line-w\" data-cropper-action=\"w\"></span>' + '<span class=\"cropper-line line-s\" data-cropper-action=\"s\"></span>' + '<span class=\"cropper-point point-e\" data-cropper-action=\"e\"></span>' + '<span class=\"cropper-point point-n\" data-cropper-action=\"n\"></span>' + '<span class=\"cropper-point point-w\" data-cropper-action=\"w\"></span>' + '<span class=\"cropper-point point-s\" data-cropper-action=\"s\"></span>' + '<span class=\"cropper-point point-ne\" data-cropper-action=\"ne\"></span>' + '<span class=\"cropper-point point-nw\" data-cropper-action=\"nw\"></span>' + '<span class=\"cropper-point point-sw\" data-cropper-action=\"sw\"></span>' + '<span class=\"cropper-point point-se\" data-cropper-action=\"se\"></span>' + '</div>' + '</div>';\n\n  /**\n   * Check if the given value is not a number.\n   */\n\n  var isNaN = Number.isNaN || WINDOW.isNaN;\n  /**\n   * Check if the given value is a number.\n   * @param {*} value - The value to check.\n   * @returns {boolean} Returns `true` if the given value is a number, else `false`.\n   */\n\n  function isNumber(value) {\n    return typeof value === 'number' && !isNaN(value);\n  }\n  /**\n   * Check if the given value is a positive number.\n   * @param {*} value - The value to check.\n   * @returns {boolean} Returns `true` if the given value is a positive number, else `false`.\n   */\n\n  var isPositiveNumber = function isPositiveNumber(value) {\n    return value > 0 && value < Infinity;\n  };\n  /**\n   * Check if the given value is undefined.\n   * @param {*} value - The value to check.\n   * @returns {boolean} Returns `true` if the given value is undefined, else `false`.\n   */\n\n  function isUndefined(value) {\n    return typeof value === 'undefined';\n  }\n  /**\n   * Check if the given value is an object.\n   * @param {*} value - The value to check.\n   * @returns {boolean} Returns `true` if the given value is an object, else `false`.\n   */\n\n  function isObject(value) {\n    return _typeof(value) === 'object' && value !== null;\n  }\n  var hasOwnProperty = Object.prototype.hasOwnProperty;\n  /**\n   * Check if the given value is a plain object.\n   * @param {*} value - The value to check.\n   * @returns {boolean} Returns `true` if the given value is a plain object, else `false`.\n   */\n\n  function isPlainObject(value) {\n    if (!isObject(value)) {\n      return false;\n    }\n\n    try {\n      var _constructor = value.constructor;\n      var prototype = _constructor.prototype;\n      return _constructor && prototype && hasOwnProperty.call(prototype, 'isPrototypeOf');\n    } catch (error) {\n      return false;\n    }\n  }\n  /**\n   * Check if the given value is a function.\n   * @param {*} value - The value to check.\n   * @returns {boolean} Returns `true` if the given value is a function, else `false`.\n   */\n\n  function isFunction(value) {\n    return typeof value === 'function';\n  }\n  var slice = Array.prototype.slice;\n  /**\n   * Convert array-like or iterable object to an array.\n   * @param {*} value - The value to convert.\n   * @returns {Array} Returns a new array.\n   */\n\n  function toArray(value) {\n    return Array.from ? Array.from(value) : slice.call(value);\n  }\n  /**\n   * Iterate the given data.\n   * @param {*} data - The data to iterate.\n   * @param {Function} callback - The process function for each element.\n   * @returns {*} The original data.\n   */\n\n  function forEach(data, callback) {\n    if (data && isFunction(callback)) {\n      if (Array.isArray(data) || isNumber(data.length)\n      /* array-like */\n      ) {\n          toArray(data).forEach(function (value, key) {\n            callback.call(data, value, key, data);\n          });\n        } else if (isObject(data)) {\n        Object.keys(data).forEach(function (key) {\n          callback.call(data, data[key], key, data);\n        });\n      }\n    }\n\n    return data;\n  }\n  /**\n   * Extend the given object.\n   * @param {*} target - The target object to extend.\n   * @param {*} args - The rest objects for merging to the target object.\n   * @returns {Object} The extended object.\n   */\n\n  var assign = Object.assign || function assign(target) {\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    if (isObject(target) && args.length > 0) {\n      args.forEach(function (arg) {\n        if (isObject(arg)) {\n          Object.keys(arg).forEach(function (key) {\n            target[key] = arg[key];\n          });\n        }\n      });\n    }\n\n    return target;\n  };\n  var REGEXP_DECIMALS = /\\.\\d*(?:0|9){12}\\d*$/;\n  /**\n   * Normalize decimal number.\n   * Check out {@link http://0.30000000000000004.com/}\n   * @param {number} value - The value to normalize.\n   * @param {number} [times=100000000000] - The times for normalizing.\n   * @returns {number} Returns the normalized number.\n   */\n\n  function normalizeDecimalNumber(value) {\n    var times = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 100000000000;\n    return REGEXP_DECIMALS.test(value) ? Math.round(value * times) / times : value;\n  }\n  var REGEXP_SUFFIX = /^width|height|left|top|marginLeft|marginTop$/;\n  /**\n   * Apply styles to the given element.\n   * @param {Element} element - The target element.\n   * @param {Object} styles - The styles for applying.\n   */\n\n  function setStyle(element, styles) {\n    var style = element.style;\n    forEach(styles, function (value, property) {\n      if (REGEXP_SUFFIX.test(property) && isNumber(value)) {\n        value = \"\".concat(value, \"px\");\n      }\n\n      style[property] = value;\n    });\n  }\n  /**\n   * Check if the given element has a special class.\n   * @param {Element} element - The element to check.\n   * @param {string} value - The class to search.\n   * @returns {boolean} Returns `true` if the special class was found.\n   */\n\n  function hasClass(element, value) {\n    return element.classList ? element.classList.contains(value) : element.className.indexOf(value) > -1;\n  }\n  /**\n   * Add classes to the given element.\n   * @param {Element} element - The target element.\n   * @param {string} value - The classes to be added.\n   */\n\n  function addClass(element, value) {\n    if (!value) {\n      return;\n    }\n\n    if (isNumber(element.length)) {\n      forEach(element, function (elem) {\n        addClass(elem, value);\n      });\n      return;\n    }\n\n    if (element.classList) {\n      element.classList.add(value);\n      return;\n    }\n\n    var className = element.className.trim();\n\n    if (!className) {\n      element.className = value;\n    } else if (className.indexOf(value) < 0) {\n      element.className = \"\".concat(className, \" \").concat(value);\n    }\n  }\n  /**\n   * Remove classes from the given element.\n   * @param {Element} element - The target element.\n   * @param {string} value - The classes to be removed.\n   */\n\n  function removeClass(element, value) {\n    if (!value) {\n      return;\n    }\n\n    if (isNumber(element.length)) {\n      forEach(element, function (elem) {\n        removeClass(elem, value);\n      });\n      return;\n    }\n\n    if (element.classList) {\n      element.classList.remove(value);\n      return;\n    }\n\n    if (element.className.indexOf(value) >= 0) {\n      element.className = element.className.replace(value, '');\n    }\n  }\n  /**\n   * Add or remove classes from the given element.\n   * @param {Element} element - The target element.\n   * @param {string} value - The classes to be toggled.\n   * @param {boolean} added - Add only.\n   */\n\n  function toggleClass(element, value, added) {\n    if (!value) {\n      return;\n    }\n\n    if (isNumber(element.length)) {\n      forEach(element, function (elem) {\n        toggleClass(elem, value, added);\n      });\n      return;\n    } // IE10-11 doesn't support the second parameter of `classList.toggle`\n\n\n    if (added) {\n      addClass(element, value);\n    } else {\n      removeClass(element, value);\n    }\n  }\n  var REGEXP_CAMEL_CASE = /([a-z\\d])([A-Z])/g;\n  /**\n   * Transform the given string from camelCase to kebab-case\n   * @param {string} value - The value to transform.\n   * @returns {string} The transformed value.\n   */\n\n  function toParamCase(value) {\n    return value.replace(REGEXP_CAMEL_CASE, '$1-$2').toLowerCase();\n  }\n  /**\n   * Get data from the given element.\n   * @param {Element} element - The target element.\n   * @param {string} name - The data key to get.\n   * @returns {string} The data value.\n   */\n\n  function getData(element, name) {\n    if (isObject(element[name])) {\n      return element[name];\n    }\n\n    if (element.dataset) {\n      return element.dataset[name];\n    }\n\n    return element.getAttribute(\"data-\".concat(toParamCase(name)));\n  }\n  /**\n   * Set data to the given element.\n   * @param {Element} element - The target element.\n   * @param {string} name - The data key to set.\n   * @param {string} data - The data value.\n   */\n\n  function setData(element, name, data) {\n    if (isObject(data)) {\n      element[name] = data;\n    } else if (element.dataset) {\n      element.dataset[name] = data;\n    } else {\n      element.setAttribute(\"data-\".concat(toParamCase(name)), data);\n    }\n  }\n  /**\n   * Remove data from the given element.\n   * @param {Element} element - The target element.\n   * @param {string} name - The data key to remove.\n   */\n\n  function removeData(element, name) {\n    if (isObject(element[name])) {\n      try {\n        delete element[name];\n      } catch (error) {\n        element[name] = undefined;\n      }\n    } else if (element.dataset) {\n      // #128 Safari not allows to delete dataset property\n      try {\n        delete element.dataset[name];\n      } catch (error) {\n        element.dataset[name] = undefined;\n      }\n    } else {\n      element.removeAttribute(\"data-\".concat(toParamCase(name)));\n    }\n  }\n  var REGEXP_SPACES = /\\s\\s*/;\n\n  var onceSupported = function () {\n    var supported = false;\n\n    if (IS_BROWSER) {\n      var once = false;\n\n      var listener = function listener() {};\n\n      var options = Object.defineProperty({}, 'once', {\n        get: function get() {\n          supported = true;\n          return once;\n        },\n\n        /**\n         * This setter can fix a `TypeError` in strict mode\n         * {@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Errors/Getter_only}\n         * @param {boolean} value - The value to set\n         */\n        set: function set(value) {\n          once = value;\n        }\n      });\n      WINDOW.addEventListener('test', listener, options);\n      WINDOW.removeEventListener('test', listener, options);\n    }\n\n    return supported;\n  }();\n  /**\n   * Remove event listener from the target element.\n   * @param {Element} element - The event target.\n   * @param {string} type - The event type(s).\n   * @param {Function} listener - The event listener.\n   * @param {Object} options - The event options.\n   */\n\n\n  function removeListener(element, type, listener) {\n    var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n    var handler = listener;\n    type.trim().split(REGEXP_SPACES).forEach(function (event) {\n      if (!onceSupported) {\n        var listeners = element.listeners;\n\n        if (listeners && listeners[event] && listeners[event][listener]) {\n          handler = listeners[event][listener];\n          delete listeners[event][listener];\n\n          if (Object.keys(listeners[event]).length === 0) {\n            delete listeners[event];\n          }\n\n          if (Object.keys(listeners).length === 0) {\n            delete element.listeners;\n          }\n        }\n      }\n\n      element.removeEventListener(event, handler, options);\n    });\n  }\n  /**\n   * Add event listener to the target element.\n   * @param {Element} element - The event target.\n   * @param {string} type - The event type(s).\n   * @param {Function} listener - The event listener.\n   * @param {Object} options - The event options.\n   */\n\n  function addListener(element, type, listener) {\n    var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n    var _handler = listener;\n    type.trim().split(REGEXP_SPACES).forEach(function (event) {\n      if (options.once && !onceSupported) {\n        var _element$listeners = element.listeners,\n            listeners = _element$listeners === void 0 ? {} : _element$listeners;\n\n        _handler = function handler() {\n          delete listeners[event][listener];\n          element.removeEventListener(event, _handler, options);\n\n          for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n            args[_key2] = arguments[_key2];\n          }\n\n          listener.apply(element, args);\n        };\n\n        if (!listeners[event]) {\n          listeners[event] = {};\n        }\n\n        if (listeners[event][listener]) {\n          element.removeEventListener(event, listeners[event][listener], options);\n        }\n\n        listeners[event][listener] = _handler;\n        element.listeners = listeners;\n      }\n\n      element.addEventListener(event, _handler, options);\n    });\n  }\n  /**\n   * Dispatch event on the target element.\n   * @param {Element} element - The event target.\n   * @param {string} type - The event type(s).\n   * @param {Object} data - The additional event data.\n   * @returns {boolean} Indicate if the event is default prevented or not.\n   */\n\n  function dispatchEvent(element, type, data) {\n    var event; // Event and CustomEvent on IE9-11 are global objects, not constructors\n\n    if (isFunction(Event) && isFunction(CustomEvent)) {\n      event = new CustomEvent(type, {\n        detail: data,\n        bubbles: true,\n        cancelable: true\n      });\n    } else {\n      event = document.createEvent('CustomEvent');\n      event.initCustomEvent(type, true, true, data);\n    }\n\n    return element.dispatchEvent(event);\n  }\n  /**\n   * Get the offset base on the document.\n   * @param {Element} element - The target element.\n   * @returns {Object} The offset data.\n   */\n\n  function getOffset(element) {\n    var box = element.getBoundingClientRect();\n    return {\n      left: box.left + (window.pageXOffset - document.documentElement.clientLeft),\n      top: box.top + (window.pageYOffset - document.documentElement.clientTop)\n    };\n  }\n  var location = WINDOW.location;\n  var REGEXP_ORIGINS = /^(\\w+:)\\/\\/([^:/?#]*):?(\\d*)/i;\n  /**\n   * Check if the given URL is a cross origin URL.\n   * @param {string} url - The target URL.\n   * @returns {boolean} Returns `true` if the given URL is a cross origin URL, else `false`.\n   */\n\n  function isCrossOriginURL(url) {\n    var parts = url.match(REGEXP_ORIGINS);\n    return parts !== null && (parts[1] !== location.protocol || parts[2] !== location.hostname || parts[3] !== location.port);\n  }\n  /**\n   * Add timestamp to the given URL.\n   * @param {string} url - The target URL.\n   * @returns {string} The result URL.\n   */\n\n  function addTimestamp(url) {\n    var timestamp = \"timestamp=\".concat(new Date().getTime());\n    return url + (url.indexOf('?') === -1 ? '?' : '&') + timestamp;\n  }\n  /**\n   * Get transforms base on the given object.\n   * @param {Object} obj - The target object.\n   * @returns {string} A string contains transform values.\n   */\n\n  function getTransforms(_ref) {\n    var rotate = _ref.rotate,\n        scaleX = _ref.scaleX,\n        scaleY = _ref.scaleY,\n        translateX = _ref.translateX,\n        translateY = _ref.translateY;\n    var values = [];\n\n    if (isNumber(translateX) && translateX !== 0) {\n      values.push(\"translateX(\".concat(translateX, \"px)\"));\n    }\n\n    if (isNumber(translateY) && translateY !== 0) {\n      values.push(\"translateY(\".concat(translateY, \"px)\"));\n    } // Rotate should come first before scale to match orientation transform\n\n\n    if (isNumber(rotate) && rotate !== 0) {\n      values.push(\"rotate(\".concat(rotate, \"deg)\"));\n    }\n\n    if (isNumber(scaleX) && scaleX !== 1) {\n      values.push(\"scaleX(\".concat(scaleX, \")\"));\n    }\n\n    if (isNumber(scaleY) && scaleY !== 1) {\n      values.push(\"scaleY(\".concat(scaleY, \")\"));\n    }\n\n    var transform = values.length ? values.join(' ') : 'none';\n    return {\n      WebkitTransform: transform,\n      msTransform: transform,\n      transform: transform\n    };\n  }\n  /**\n   * Get the max ratio of a group of pointers.\n   * @param {string} pointers - The target pointers.\n   * @returns {number} The result ratio.\n   */\n\n  function getMaxZoomRatio(pointers) {\n    var pointers2 = assign({}, pointers);\n    var ratios = [];\n    forEach(pointers, function (pointer, pointerId) {\n      delete pointers2[pointerId];\n      forEach(pointers2, function (pointer2) {\n        var x1 = Math.abs(pointer.startX - pointer2.startX);\n        var y1 = Math.abs(pointer.startY - pointer2.startY);\n        var x2 = Math.abs(pointer.endX - pointer2.endX);\n        var y2 = Math.abs(pointer.endY - pointer2.endY);\n        var z1 = Math.sqrt(x1 * x1 + y1 * y1);\n        var z2 = Math.sqrt(x2 * x2 + y2 * y2);\n        var ratio = (z2 - z1) / z1;\n        ratios.push(ratio);\n      });\n    });\n    ratios.sort(function (a, b) {\n      return Math.abs(a) < Math.abs(b);\n    });\n    return ratios[0];\n  }\n  /**\n   * Get a pointer from an event object.\n   * @param {Object} event - The target event object.\n   * @param {boolean} endOnly - Indicates if only returns the end point coordinate or not.\n   * @returns {Object} The result pointer contains start and/or end point coordinates.\n   */\n\n  function getPointer(_ref2, endOnly) {\n    var pageX = _ref2.pageX,\n        pageY = _ref2.pageY;\n    var end = {\n      endX: pageX,\n      endY: pageY\n    };\n    return endOnly ? end : assign({\n      startX: pageX,\n      startY: pageY\n    }, end);\n  }\n  /**\n   * Get the center point coordinate of a group of pointers.\n   * @param {Object} pointers - The target pointers.\n   * @returns {Object} The center point coordinate.\n   */\n\n  function getPointersCenter(pointers) {\n    var pageX = 0;\n    var pageY = 0;\n    var count = 0;\n    forEach(pointers, function (_ref3) {\n      var startX = _ref3.startX,\n          startY = _ref3.startY;\n      pageX += startX;\n      pageY += startY;\n      count += 1;\n    });\n    pageX /= count;\n    pageY /= count;\n    return {\n      pageX: pageX,\n      pageY: pageY\n    };\n  }\n  /**\n   * Get the max sizes in a rectangle under the given aspect ratio.\n   * @param {Object} data - The original sizes.\n   * @param {string} [type='contain'] - The adjust type.\n   * @returns {Object} The result sizes.\n   */\n\n  function getAdjustedSizes(_ref4) // or 'cover'\n  {\n    var aspectRatio = _ref4.aspectRatio,\n        height = _ref4.height,\n        width = _ref4.width;\n    var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'contain';\n    var isValidWidth = isPositiveNumber(width);\n    var isValidHeight = isPositiveNumber(height);\n\n    if (isValidWidth && isValidHeight) {\n      var adjustedWidth = height * aspectRatio;\n\n      if (type === 'contain' && adjustedWidth > width || type === 'cover' && adjustedWidth < width) {\n        height = width / aspectRatio;\n      } else {\n        width = height * aspectRatio;\n      }\n    } else if (isValidWidth) {\n      height = width / aspectRatio;\n    } else if (isValidHeight) {\n      width = height * aspectRatio;\n    }\n\n    return {\n      width: width,\n      height: height\n    };\n  }\n  /**\n   * Get the new sizes of a rectangle after rotated.\n   * @param {Object} data - The original sizes.\n   * @returns {Object} The result sizes.\n   */\n\n  function getRotatedSizes(_ref5) {\n    var width = _ref5.width,\n        height = _ref5.height,\n        degree = _ref5.degree;\n    degree = Math.abs(degree) % 180;\n\n    if (degree === 90) {\n      return {\n        width: height,\n        height: width\n      };\n    }\n\n    var arc = degree % 90 * Math.PI / 180;\n    var sinArc = Math.sin(arc);\n    var cosArc = Math.cos(arc);\n    var newWidth = width * cosArc + height * sinArc;\n    var newHeight = width * sinArc + height * cosArc;\n    return degree > 90 ? {\n      width: newHeight,\n      height: newWidth\n    } : {\n      width: newWidth,\n      height: newHeight\n    };\n  }\n  /**\n   * Get a canvas which drew the given image.\n   * @param {HTMLImageElement} image - The image for drawing.\n   * @param {Object} imageData - The image data.\n   * @param {Object} canvasData - The canvas data.\n   * @param {Object} options - The options.\n   * @returns {HTMLCanvasElement} The result canvas.\n   */\n\n  function getSourceCanvas(image, _ref6, _ref7, _ref8) {\n    var imageAspectRatio = _ref6.aspectRatio,\n        imageNaturalWidth = _ref6.naturalWidth,\n        imageNaturalHeight = _ref6.naturalHeight,\n        _ref6$rotate = _ref6.rotate,\n        rotate = _ref6$rotate === void 0 ? 0 : _ref6$rotate,\n        _ref6$scaleX = _ref6.scaleX,\n        scaleX = _ref6$scaleX === void 0 ? 1 : _ref6$scaleX,\n        _ref6$scaleY = _ref6.scaleY,\n        scaleY = _ref6$scaleY === void 0 ? 1 : _ref6$scaleY;\n    var aspectRatio = _ref7.aspectRatio,\n        naturalWidth = _ref7.naturalWidth,\n        naturalHeight = _ref7.naturalHeight;\n    var _ref8$fillColor = _ref8.fillColor,\n        fillColor = _ref8$fillColor === void 0 ? 'transparent' : _ref8$fillColor,\n        _ref8$imageSmoothingE = _ref8.imageSmoothingEnabled,\n        imageSmoothingEnabled = _ref8$imageSmoothingE === void 0 ? true : _ref8$imageSmoothingE,\n        _ref8$imageSmoothingQ = _ref8.imageSmoothingQuality,\n        imageSmoothingQuality = _ref8$imageSmoothingQ === void 0 ? 'low' : _ref8$imageSmoothingQ,\n        _ref8$maxWidth = _ref8.maxWidth,\n        maxWidth = _ref8$maxWidth === void 0 ? Infinity : _ref8$maxWidth,\n        _ref8$maxHeight = _ref8.maxHeight,\n        maxHeight = _ref8$maxHeight === void 0 ? Infinity : _ref8$maxHeight,\n        _ref8$minWidth = _ref8.minWidth,\n        minWidth = _ref8$minWidth === void 0 ? 0 : _ref8$minWidth,\n        _ref8$minHeight = _ref8.minHeight,\n        minHeight = _ref8$minHeight === void 0 ? 0 : _ref8$minHeight;\n    var canvas = document.createElement('canvas');\n    var context = canvas.getContext('2d');\n    var maxSizes = getAdjustedSizes({\n      aspectRatio: aspectRatio,\n      width: maxWidth,\n      height: maxHeight\n    });\n    var minSizes = getAdjustedSizes({\n      aspectRatio: aspectRatio,\n      width: minWidth,\n      height: minHeight\n    }, 'cover');\n    var width = Math.min(maxSizes.width, Math.max(minSizes.width, naturalWidth));\n    var height = Math.min(maxSizes.height, Math.max(minSizes.height, naturalHeight)); // Note: should always use image's natural sizes for drawing as\n    // imageData.naturalWidth === canvasData.naturalHeight when rotate % 180 === 90\n\n    var destMaxSizes = getAdjustedSizes({\n      aspectRatio: imageAspectRatio,\n      width: maxWidth,\n      height: maxHeight\n    });\n    var destMinSizes = getAdjustedSizes({\n      aspectRatio: imageAspectRatio,\n      width: minWidth,\n      height: minHeight\n    }, 'cover');\n    var destWidth = Math.min(destMaxSizes.width, Math.max(destMinSizes.width, imageNaturalWidth));\n    var destHeight = Math.min(destMaxSizes.height, Math.max(destMinSizes.height, imageNaturalHeight));\n    var params = [-destWidth / 2, -destHeight / 2, destWidth, destHeight];\n    canvas.width = normalizeDecimalNumber(width);\n    canvas.height = normalizeDecimalNumber(height);\n    context.fillStyle = fillColor;\n    context.fillRect(0, 0, width, height);\n    context.save();\n    context.translate(width / 2, height / 2);\n    context.rotate(rotate * Math.PI / 180);\n    context.scale(scaleX, scaleY);\n    context.imageSmoothingEnabled = imageSmoothingEnabled;\n    context.imageSmoothingQuality = imageSmoothingQuality;\n    context.drawImage.apply(context, [image].concat(_toConsumableArray(params.map(function (param) {\n      return Math.floor(normalizeDecimalNumber(param));\n    }))));\n    context.restore();\n    return canvas;\n  }\n  var fromCharCode = String.fromCharCode;\n  /**\n   * Get string from char code in data view.\n   * @param {DataView} dataView - The data view for read.\n   * @param {number} start - The start index.\n   * @param {number} length - The read length.\n   * @returns {string} The read result.\n   */\n\n  function getStringFromCharCode(dataView, start, length) {\n    var str = '';\n    length += start;\n\n    for (var i = start; i < length; i += 1) {\n      str += fromCharCode(dataView.getUint8(i));\n    }\n\n    return str;\n  }\n  var REGEXP_DATA_URL_HEAD = /^data:.*,/;\n  /**\n   * Transform Data URL to array buffer.\n   * @param {string} dataURL - The Data URL to transform.\n   * @returns {ArrayBuffer} The result array buffer.\n   */\n\n  function dataURLToArrayBuffer(dataURL) {\n    var base64 = dataURL.replace(REGEXP_DATA_URL_HEAD, '');\n    var binary = atob(base64);\n    var arrayBuffer = new ArrayBuffer(binary.length);\n    var uint8 = new Uint8Array(arrayBuffer);\n    forEach(uint8, function (value, i) {\n      uint8[i] = binary.charCodeAt(i);\n    });\n    return arrayBuffer;\n  }\n  /**\n   * Transform array buffer to Data URL.\n   * @param {ArrayBuffer} arrayBuffer - The array buffer to transform.\n   * @param {string} mimeType - The mime type of the Data URL.\n   * @returns {string} The result Data URL.\n   */\n\n  function arrayBufferToDataURL(arrayBuffer, mimeType) {\n    var chunks = []; // Chunk Typed Array for better performance (#435)\n\n    var chunkSize = 8192;\n    var uint8 = new Uint8Array(arrayBuffer);\n\n    while (uint8.length > 0) {\n      // XXX: Babel's `toConsumableArray` helper will throw error in IE or Safari 9\n      // eslint-disable-next-line prefer-spread\n      chunks.push(fromCharCode.apply(null, toArray(uint8.subarray(0, chunkSize))));\n      uint8 = uint8.subarray(chunkSize);\n    }\n\n    return \"data:\".concat(mimeType, \";base64,\").concat(btoa(chunks.join('')));\n  }\n  /**\n   * Get orientation value from given array buffer.\n   * @param {ArrayBuffer} arrayBuffer - The array buffer to read.\n   * @returns {number} The read orientation value.\n   */\n\n  function resetAndGetOrientation(arrayBuffer) {\n    var dataView = new DataView(arrayBuffer);\n    var orientation; // Ignores range error when the image does not have correct Exif information\n\n    try {\n      var littleEndian;\n      var app1Start;\n      var ifdStart; // Only handle JPEG image (start by 0xFFD8)\n\n      if (dataView.getUint8(0) === 0xFF && dataView.getUint8(1) === 0xD8) {\n        var length = dataView.byteLength;\n        var offset = 2;\n\n        while (offset + 1 < length) {\n          if (dataView.getUint8(offset) === 0xFF && dataView.getUint8(offset + 1) === 0xE1) {\n            app1Start = offset;\n            break;\n          }\n\n          offset += 1;\n        }\n      }\n\n      if (app1Start) {\n        var exifIDCode = app1Start + 4;\n        var tiffOffset = app1Start + 10;\n\n        if (getStringFromCharCode(dataView, exifIDCode, 4) === 'Exif') {\n          var endianness = dataView.getUint16(tiffOffset);\n          littleEndian = endianness === 0x4949;\n\n          if (littleEndian || endianness === 0x4D4D\n          /* bigEndian */\n          ) {\n              if (dataView.getUint16(tiffOffset + 2, littleEndian) === 0x002A) {\n                var firstIFDOffset = dataView.getUint32(tiffOffset + 4, littleEndian);\n\n                if (firstIFDOffset >= 0x00000008) {\n                  ifdStart = tiffOffset + firstIFDOffset;\n                }\n              }\n            }\n        }\n      }\n\n      if (ifdStart) {\n        var _length = dataView.getUint16(ifdStart, littleEndian);\n\n        var _offset;\n\n        var i;\n\n        for (i = 0; i < _length; i += 1) {\n          _offset = ifdStart + i * 12 + 2;\n\n          if (dataView.getUint16(_offset, littleEndian) === 0x0112\n          /* Orientation */\n          ) {\n              // 8 is the offset of the current tag's value\n              _offset += 8; // Get the original orientation value\n\n              orientation = dataView.getUint16(_offset, littleEndian); // Override the orientation with its default value\n\n              dataView.setUint16(_offset, 1, littleEndian);\n              break;\n            }\n        }\n      }\n    } catch (error) {\n      orientation = 1;\n    }\n\n    return orientation;\n  }\n  /**\n   * Parse Exif Orientation value.\n   * @param {number} orientation - The orientation to parse.\n   * @returns {Object} The parsed result.\n   */\n\n  function parseOrientation(orientation) {\n    var rotate = 0;\n    var scaleX = 1;\n    var scaleY = 1;\n\n    switch (orientation) {\n      // Flip horizontal\n      case 2:\n        scaleX = -1;\n        break;\n      // Rotate left 180°\n\n      case 3:\n        rotate = -180;\n        break;\n      // Flip vertical\n\n      case 4:\n        scaleY = -1;\n        break;\n      // Flip vertical and rotate right 90°\n\n      case 5:\n        rotate = 90;\n        scaleY = -1;\n        break;\n      // Rotate right 90°\n\n      case 6:\n        rotate = 90;\n        break;\n      // Flip horizontal and rotate right 90°\n\n      case 7:\n        rotate = 90;\n        scaleX = -1;\n        break;\n      // Rotate left 90°\n\n      case 8:\n        rotate = -90;\n        break;\n\n      default:\n    }\n\n    return {\n      rotate: rotate,\n      scaleX: scaleX,\n      scaleY: scaleY\n    };\n  }\n\n  var render = {\n    render: function render() {\n      this.initContainer();\n      this.initCanvas();\n      this.initCropBox();\n      this.renderCanvas();\n\n      if (this.cropped) {\n        this.renderCropBox();\n      }\n    },\n    initContainer: function initContainer() {\n      var element = this.element,\n          options = this.options,\n          container = this.container,\n          cropper = this.cropper;\n      addClass(cropper, CLASS_HIDDEN);\n      removeClass(element, CLASS_HIDDEN);\n      var containerData = {\n        width: Math.max(container.offsetWidth, Number(options.minContainerWidth) || 200),\n        height: Math.max(container.offsetHeight, Number(options.minContainerHeight) || 100)\n      };\n      this.containerData = containerData;\n      setStyle(cropper, {\n        width: containerData.width,\n        height: containerData.height\n      });\n      addClass(element, CLASS_HIDDEN);\n      removeClass(cropper, CLASS_HIDDEN);\n    },\n    // Canvas (image wrapper)\n    initCanvas: function initCanvas() {\n      var containerData = this.containerData,\n          imageData = this.imageData;\n      var viewMode = this.options.viewMode;\n      var rotated = Math.abs(imageData.rotate) % 180 === 90;\n      var naturalWidth = rotated ? imageData.naturalHeight : imageData.naturalWidth;\n      var naturalHeight = rotated ? imageData.naturalWidth : imageData.naturalHeight;\n      var aspectRatio = naturalWidth / naturalHeight;\n      var canvasWidth = containerData.width;\n      var canvasHeight = containerData.height;\n\n      if (containerData.height * aspectRatio > containerData.width) {\n        if (viewMode === 3) {\n          canvasWidth = containerData.height * aspectRatio;\n        } else {\n          canvasHeight = containerData.width / aspectRatio;\n        }\n      } else if (viewMode === 3) {\n        canvasHeight = containerData.width / aspectRatio;\n      } else {\n        canvasWidth = containerData.height * aspectRatio;\n      }\n\n      var canvasData = {\n        aspectRatio: aspectRatio,\n        naturalWidth: naturalWidth,\n        naturalHeight: naturalHeight,\n        width: canvasWidth,\n        height: canvasHeight\n      };\n      canvasData.left = (containerData.width - canvasWidth) / 2;\n      canvasData.top = (containerData.height - canvasHeight) / 2;\n      canvasData.oldLeft = canvasData.left;\n      canvasData.oldTop = canvasData.top;\n      this.canvasData = canvasData;\n      this.limited = viewMode === 1 || viewMode === 2;\n      this.limitCanvas(true, true);\n      this.initialImageData = assign({}, imageData);\n      this.initialCanvasData = assign({}, canvasData);\n    },\n    limitCanvas: function limitCanvas(sizeLimited, positionLimited) {\n      var options = this.options,\n          containerData = this.containerData,\n          canvasData = this.canvasData,\n          cropBoxData = this.cropBoxData;\n      var viewMode = options.viewMode;\n      var aspectRatio = canvasData.aspectRatio;\n      var cropped = this.cropped && cropBoxData;\n\n      if (sizeLimited) {\n        var minCanvasWidth = Number(options.minCanvasWidth) || 0;\n        var minCanvasHeight = Number(options.minCanvasHeight) || 0;\n\n        if (viewMode > 1) {\n          minCanvasWidth = Math.max(minCanvasWidth, containerData.width);\n          minCanvasHeight = Math.max(minCanvasHeight, containerData.height);\n\n          if (viewMode === 3) {\n            if (minCanvasHeight * aspectRatio > minCanvasWidth) {\n              minCanvasWidth = minCanvasHeight * aspectRatio;\n            } else {\n              minCanvasHeight = minCanvasWidth / aspectRatio;\n            }\n          }\n        } else if (viewMode > 0) {\n          if (minCanvasWidth) {\n            minCanvasWidth = Math.max(minCanvasWidth, cropped ? cropBoxData.width : 0);\n          } else if (minCanvasHeight) {\n            minCanvasHeight = Math.max(minCanvasHeight, cropped ? cropBoxData.height : 0);\n          } else if (cropped) {\n            minCanvasWidth = cropBoxData.width;\n            minCanvasHeight = cropBoxData.height;\n\n            if (minCanvasHeight * aspectRatio > minCanvasWidth) {\n              minCanvasWidth = minCanvasHeight * aspectRatio;\n            } else {\n              minCanvasHeight = minCanvasWidth / aspectRatio;\n            }\n          }\n        }\n\n        var _getAdjustedSizes = getAdjustedSizes({\n          aspectRatio: aspectRatio,\n          width: minCanvasWidth,\n          height: minCanvasHeight\n        });\n\n        minCanvasWidth = _getAdjustedSizes.width;\n        minCanvasHeight = _getAdjustedSizes.height;\n        canvasData.minWidth = minCanvasWidth;\n        canvasData.minHeight = minCanvasHeight;\n        canvasData.maxWidth = Infinity;\n        canvasData.maxHeight = Infinity;\n      }\n\n      if (positionLimited) {\n        if (viewMode > (cropped ? 0 : 1)) {\n          var newCanvasLeft = containerData.width - canvasData.width;\n          var newCanvasTop = containerData.height - canvasData.height;\n          canvasData.minLeft = Math.min(0, newCanvasLeft);\n          canvasData.minTop = Math.min(0, newCanvasTop);\n          canvasData.maxLeft = Math.max(0, newCanvasLeft);\n          canvasData.maxTop = Math.max(0, newCanvasTop);\n\n          if (cropped && this.limited) {\n            canvasData.minLeft = Math.min(cropBoxData.left, cropBoxData.left + (cropBoxData.width - canvasData.width));\n            canvasData.minTop = Math.min(cropBoxData.top, cropBoxData.top + (cropBoxData.height - canvasData.height));\n            canvasData.maxLeft = cropBoxData.left;\n            canvasData.maxTop = cropBoxData.top;\n\n            if (viewMode === 2) {\n              if (canvasData.width >= containerData.width) {\n                canvasData.minLeft = Math.min(0, newCanvasLeft);\n                canvasData.maxLeft = Math.max(0, newCanvasLeft);\n              }\n\n              if (canvasData.height >= containerData.height) {\n                canvasData.minTop = Math.min(0, newCanvasTop);\n                canvasData.maxTop = Math.max(0, newCanvasTop);\n              }\n            }\n          }\n        } else {\n          canvasData.minLeft = -canvasData.width;\n          canvasData.minTop = -canvasData.height;\n          canvasData.maxLeft = containerData.width;\n          canvasData.maxTop = containerData.height;\n        }\n      }\n    },\n    renderCanvas: function renderCanvas(changed, transformed) {\n      var canvasData = this.canvasData,\n          imageData = this.imageData;\n\n      if (transformed) {\n        var _getRotatedSizes = getRotatedSizes({\n          width: imageData.naturalWidth * Math.abs(imageData.scaleX || 1),\n          height: imageData.naturalHeight * Math.abs(imageData.scaleY || 1),\n          degree: imageData.rotate || 0\n        }),\n            naturalWidth = _getRotatedSizes.width,\n            naturalHeight = _getRotatedSizes.height;\n\n        var width = canvasData.width * (naturalWidth / canvasData.naturalWidth);\n        var height = canvasData.height * (naturalHeight / canvasData.naturalHeight);\n        canvasData.left -= (width - canvasData.width) / 2;\n        canvasData.top -= (height - canvasData.height) / 2;\n        canvasData.width = width;\n        canvasData.height = height;\n        canvasData.aspectRatio = naturalWidth / naturalHeight;\n        canvasData.naturalWidth = naturalWidth;\n        canvasData.naturalHeight = naturalHeight;\n        this.limitCanvas(true, false);\n      }\n\n      if (canvasData.width > canvasData.maxWidth || canvasData.width < canvasData.minWidth) {\n        canvasData.left = canvasData.oldLeft;\n      }\n\n      if (canvasData.height > canvasData.maxHeight || canvasData.height < canvasData.minHeight) {\n        canvasData.top = canvasData.oldTop;\n      }\n\n      canvasData.width = Math.min(Math.max(canvasData.width, canvasData.minWidth), canvasData.maxWidth);\n      canvasData.height = Math.min(Math.max(canvasData.height, canvasData.minHeight), canvasData.maxHeight);\n      this.limitCanvas(false, true);\n      canvasData.left = Math.min(Math.max(canvasData.left, canvasData.minLeft), canvasData.maxLeft);\n      canvasData.top = Math.min(Math.max(canvasData.top, canvasData.minTop), canvasData.maxTop);\n      canvasData.oldLeft = canvasData.left;\n      canvasData.oldTop = canvasData.top;\n      setStyle(this.canvas, assign({\n        width: canvasData.width,\n        height: canvasData.height\n      }, getTransforms({\n        translateX: canvasData.left,\n        translateY: canvasData.top\n      })));\n      this.renderImage(changed);\n\n      if (this.cropped && this.limited) {\n        this.limitCropBox(true, true);\n      }\n    },\n    renderImage: function renderImage(changed) {\n      var canvasData = this.canvasData,\n          imageData = this.imageData;\n      var width = imageData.naturalWidth * (canvasData.width / canvasData.naturalWidth);\n      var height = imageData.naturalHeight * (canvasData.height / canvasData.naturalHeight);\n      assign(imageData, {\n        width: width,\n        height: height,\n        left: (canvasData.width - width) / 2,\n        top: (canvasData.height - height) / 2\n      });\n      setStyle(this.image, assign({\n        width: imageData.width,\n        height: imageData.height\n      }, getTransforms(assign({\n        translateX: imageData.left,\n        translateY: imageData.top\n      }, imageData))));\n\n      if (changed) {\n        this.output();\n      }\n    },\n    initCropBox: function initCropBox() {\n      var options = this.options,\n          canvasData = this.canvasData;\n      var aspectRatio = options.aspectRatio || options.initialAspectRatio;\n      var autoCropArea = Number(options.autoCropArea) || 0.8;\n      var cropBoxData = {\n        width: canvasData.width,\n        height: canvasData.height\n      };\n\n      if (aspectRatio) {\n        if (canvasData.height * aspectRatio > canvasData.width) {\n          cropBoxData.height = cropBoxData.width / aspectRatio;\n        } else {\n          cropBoxData.width = cropBoxData.height * aspectRatio;\n        }\n      }\n\n      this.cropBoxData = cropBoxData;\n      this.limitCropBox(true, true); // Initialize auto crop area\n\n      cropBoxData.width = Math.min(Math.max(cropBoxData.width, cropBoxData.minWidth), cropBoxData.maxWidth);\n      cropBoxData.height = Math.min(Math.max(cropBoxData.height, cropBoxData.minHeight), cropBoxData.maxHeight); // The width/height of auto crop area must large than \"minWidth/Height\"\n\n      cropBoxData.width = Math.max(cropBoxData.minWidth, cropBoxData.width * autoCropArea);\n      cropBoxData.height = Math.max(cropBoxData.minHeight, cropBoxData.height * autoCropArea);\n      cropBoxData.left = canvasData.left + (canvasData.width - cropBoxData.width) / 2;\n      cropBoxData.top = canvasData.top + (canvasData.height - cropBoxData.height) / 2;\n      cropBoxData.oldLeft = cropBoxData.left;\n      cropBoxData.oldTop = cropBoxData.top;\n      this.initialCropBoxData = assign({}, cropBoxData);\n    },\n    limitCropBox: function limitCropBox(sizeLimited, positionLimited) {\n      var options = this.options,\n          containerData = this.containerData,\n          canvasData = this.canvasData,\n          cropBoxData = this.cropBoxData,\n          limited = this.limited;\n      var aspectRatio = options.aspectRatio;\n\n      if (sizeLimited) {\n        var minCropBoxWidth = Number(options.minCropBoxWidth) || 0;\n        var minCropBoxHeight = Number(options.minCropBoxHeight) || 0;\n        var maxCropBoxWidth = limited ? Math.min(containerData.width, canvasData.width, canvasData.width + canvasData.left, containerData.width - canvasData.left) : containerData.width;\n        var maxCropBoxHeight = limited ? Math.min(containerData.height, canvasData.height, canvasData.height + canvasData.top, containerData.height - canvasData.top) : containerData.height; // The min/maxCropBoxWidth/Height must be less than container's width/height\n\n        minCropBoxWidth = Math.min(minCropBoxWidth, containerData.width);\n        minCropBoxHeight = Math.min(minCropBoxHeight, containerData.height);\n\n        if (aspectRatio) {\n          if (minCropBoxWidth && minCropBoxHeight) {\n            if (minCropBoxHeight * aspectRatio > minCropBoxWidth) {\n              minCropBoxHeight = minCropBoxWidth / aspectRatio;\n            } else {\n              minCropBoxWidth = minCropBoxHeight * aspectRatio;\n            }\n          } else if (minCropBoxWidth) {\n            minCropBoxHeight = minCropBoxWidth / aspectRatio;\n          } else if (minCropBoxHeight) {\n            minCropBoxWidth = minCropBoxHeight * aspectRatio;\n          }\n\n          if (maxCropBoxHeight * aspectRatio > maxCropBoxWidth) {\n            maxCropBoxHeight = maxCropBoxWidth / aspectRatio;\n          } else {\n            maxCropBoxWidth = maxCropBoxHeight * aspectRatio;\n          }\n        } // The minWidth/Height must be less than maxWidth/Height\n\n\n        cropBoxData.minWidth = Math.min(minCropBoxWidth, maxCropBoxWidth);\n        cropBoxData.minHeight = Math.min(minCropBoxHeight, maxCropBoxHeight);\n        cropBoxData.maxWidth = maxCropBoxWidth;\n        cropBoxData.maxHeight = maxCropBoxHeight;\n      }\n\n      if (positionLimited) {\n        if (limited) {\n          cropBoxData.minLeft = Math.max(0, canvasData.left);\n          cropBoxData.minTop = Math.max(0, canvasData.top);\n          cropBoxData.maxLeft = Math.min(containerData.width, canvasData.left + canvasData.width) - cropBoxData.width;\n          cropBoxData.maxTop = Math.min(containerData.height, canvasData.top + canvasData.height) - cropBoxData.height;\n        } else {\n          cropBoxData.minLeft = 0;\n          cropBoxData.minTop = 0;\n          cropBoxData.maxLeft = containerData.width - cropBoxData.width;\n          cropBoxData.maxTop = containerData.height - cropBoxData.height;\n        }\n      }\n    },\n    renderCropBox: function renderCropBox() {\n      var options = this.options,\n          containerData = this.containerData,\n          cropBoxData = this.cropBoxData;\n\n      if (cropBoxData.width > cropBoxData.maxWidth || cropBoxData.width < cropBoxData.minWidth) {\n        cropBoxData.left = cropBoxData.oldLeft;\n      }\n\n      if (cropBoxData.height > cropBoxData.maxHeight || cropBoxData.height < cropBoxData.minHeight) {\n        cropBoxData.top = cropBoxData.oldTop;\n      }\n\n      cropBoxData.width = Math.min(Math.max(cropBoxData.width, cropBoxData.minWidth), cropBoxData.maxWidth);\n      cropBoxData.height = Math.min(Math.max(cropBoxData.height, cropBoxData.minHeight), cropBoxData.maxHeight);\n      this.limitCropBox(false, true);\n      cropBoxData.left = Math.min(Math.max(cropBoxData.left, cropBoxData.minLeft), cropBoxData.maxLeft);\n      cropBoxData.top = Math.min(Math.max(cropBoxData.top, cropBoxData.minTop), cropBoxData.maxTop);\n      cropBoxData.oldLeft = cropBoxData.left;\n      cropBoxData.oldTop = cropBoxData.top;\n\n      if (options.movable && options.cropBoxMovable) {\n        // Turn to move the canvas when the crop box is equal to the container\n        setData(this.face, DATA_ACTION, cropBoxData.width >= containerData.width && cropBoxData.height >= containerData.height ? ACTION_MOVE : ACTION_ALL);\n      }\n\n      setStyle(this.cropBox, assign({\n        width: cropBoxData.width,\n        height: cropBoxData.height\n      }, getTransforms({\n        translateX: cropBoxData.left,\n        translateY: cropBoxData.top\n      })));\n\n      if (this.cropped && this.limited) {\n        this.limitCanvas(true, true);\n      }\n\n      if (!this.disabled) {\n        this.output();\n      }\n    },\n    output: function output() {\n      this.preview();\n      dispatchEvent(this.element, EVENT_CROP, this.getData());\n    }\n  };\n\n  var preview = {\n    initPreview: function initPreview() {\n      var element = this.element,\n          crossOrigin = this.crossOrigin;\n      var preview = this.options.preview;\n      var url = crossOrigin ? this.crossOriginUrl : this.url;\n      var alt = element.alt || 'The image to preview';\n      var image = document.createElement('img');\n\n      if (crossOrigin) {\n        image.crossOrigin = crossOrigin;\n      }\n\n      image.src = url;\n      image.alt = alt;\n      this.viewBox.appendChild(image);\n      this.viewBoxImage = image;\n\n      if (!preview) {\n        return;\n      }\n\n      var previews = preview;\n\n      if (typeof preview === 'string') {\n        previews = element.ownerDocument.querySelectorAll(preview);\n      } else if (preview.querySelector) {\n        previews = [preview];\n      }\n\n      this.previews = previews;\n      forEach(previews, function (el) {\n        var img = document.createElement('img'); // Save the original size for recover\n\n        setData(el, DATA_PREVIEW, {\n          width: el.offsetWidth,\n          height: el.offsetHeight,\n          html: el.innerHTML\n        });\n\n        if (crossOrigin) {\n          img.crossOrigin = crossOrigin;\n        }\n\n        img.src = url;\n        img.alt = alt;\n        /**\n         * Override img element styles\n         * Add `display:block` to avoid margin top issue\n         * Add `height:auto` to override `height` attribute on IE8\n         * (Occur only when margin-top <= -height)\n         */\n\n        img.style.cssText = 'display:block;' + 'width:100%;' + 'height:auto;' + 'min-width:0!important;' + 'min-height:0!important;' + 'max-width:none!important;' + 'max-height:none!important;' + 'image-orientation:0deg!important;\"';\n        el.innerHTML = '';\n        el.appendChild(img);\n      });\n    },\n    resetPreview: function resetPreview() {\n      forEach(this.previews, function (element) {\n        var data = getData(element, DATA_PREVIEW);\n        setStyle(element, {\n          width: data.width,\n          height: data.height\n        });\n        element.innerHTML = data.html;\n        removeData(element, DATA_PREVIEW);\n      });\n    },\n    preview: function preview() {\n      var imageData = this.imageData,\n          canvasData = this.canvasData,\n          cropBoxData = this.cropBoxData;\n      var cropBoxWidth = cropBoxData.width,\n          cropBoxHeight = cropBoxData.height;\n      var width = imageData.width,\n          height = imageData.height;\n      var left = cropBoxData.left - canvasData.left - imageData.left;\n      var top = cropBoxData.top - canvasData.top - imageData.top;\n\n      if (!this.cropped || this.disabled) {\n        return;\n      }\n\n      setStyle(this.viewBoxImage, assign({\n        width: width,\n        height: height\n      }, getTransforms(assign({\n        translateX: -left,\n        translateY: -top\n      }, imageData))));\n      forEach(this.previews, function (element) {\n        var data = getData(element, DATA_PREVIEW);\n        var originalWidth = data.width;\n        var originalHeight = data.height;\n        var newWidth = originalWidth;\n        var newHeight = originalHeight;\n        var ratio = 1;\n\n        if (cropBoxWidth) {\n          ratio = originalWidth / cropBoxWidth;\n          newHeight = cropBoxHeight * ratio;\n        }\n\n        if (cropBoxHeight && newHeight > originalHeight) {\n          ratio = originalHeight / cropBoxHeight;\n          newWidth = cropBoxWidth * ratio;\n          newHeight = originalHeight;\n        }\n\n        setStyle(element, {\n          width: newWidth,\n          height: newHeight\n        });\n        setStyle(element.getElementsByTagName('img')[0], assign({\n          width: width * ratio,\n          height: height * ratio\n        }, getTransforms(assign({\n          translateX: -left * ratio,\n          translateY: -top * ratio\n        }, imageData))));\n      });\n    }\n  };\n\n  var events = {\n    bind: function bind() {\n      var element = this.element,\n          options = this.options,\n          cropper = this.cropper;\n\n      if (isFunction(options.cropstart)) {\n        addListener(element, EVENT_CROP_START, options.cropstart);\n      }\n\n      if (isFunction(options.cropmove)) {\n        addListener(element, EVENT_CROP_MOVE, options.cropmove);\n      }\n\n      if (isFunction(options.cropend)) {\n        addListener(element, EVENT_CROP_END, options.cropend);\n      }\n\n      if (isFunction(options.crop)) {\n        addListener(element, EVENT_CROP, options.crop);\n      }\n\n      if (isFunction(options.zoom)) {\n        addListener(element, EVENT_ZOOM, options.zoom);\n      }\n\n      addListener(cropper, EVENT_POINTER_DOWN, this.onCropStart = this.cropStart.bind(this));\n\n      if (options.zoomable && options.zoomOnWheel) {\n        addListener(cropper, EVENT_WHEEL, this.onWheel = this.wheel.bind(this), {\n          passive: false,\n          capture: true\n        });\n      }\n\n      if (options.toggleDragModeOnDblclick) {\n        addListener(cropper, EVENT_DBLCLICK, this.onDblclick = this.dblclick.bind(this));\n      }\n\n      addListener(element.ownerDocument, EVENT_POINTER_MOVE, this.onCropMove = this.cropMove.bind(this));\n      addListener(element.ownerDocument, EVENT_POINTER_UP, this.onCropEnd = this.cropEnd.bind(this));\n\n      if (options.responsive) {\n        addListener(window, EVENT_RESIZE, this.onResize = this.resize.bind(this));\n      }\n    },\n    unbind: function unbind() {\n      var element = this.element,\n          options = this.options,\n          cropper = this.cropper;\n\n      if (isFunction(options.cropstart)) {\n        removeListener(element, EVENT_CROP_START, options.cropstart);\n      }\n\n      if (isFunction(options.cropmove)) {\n        removeListener(element, EVENT_CROP_MOVE, options.cropmove);\n      }\n\n      if (isFunction(options.cropend)) {\n        removeListener(element, EVENT_CROP_END, options.cropend);\n      }\n\n      if (isFunction(options.crop)) {\n        removeListener(element, EVENT_CROP, options.crop);\n      }\n\n      if (isFunction(options.zoom)) {\n        removeListener(element, EVENT_ZOOM, options.zoom);\n      }\n\n      removeListener(cropper, EVENT_POINTER_DOWN, this.onCropStart);\n\n      if (options.zoomable && options.zoomOnWheel) {\n        removeListener(cropper, EVENT_WHEEL, this.onWheel, {\n          passive: false,\n          capture: true\n        });\n      }\n\n      if (options.toggleDragModeOnDblclick) {\n        removeListener(cropper, EVENT_DBLCLICK, this.onDblclick);\n      }\n\n      removeListener(element.ownerDocument, EVENT_POINTER_MOVE, this.onCropMove);\n      removeListener(element.ownerDocument, EVENT_POINTER_UP, this.onCropEnd);\n\n      if (options.responsive) {\n        removeListener(window, EVENT_RESIZE, this.onResize);\n      }\n    }\n  };\n\n  var handlers = {\n    resize: function resize() {\n      var options = this.options,\n          container = this.container,\n          containerData = this.containerData;\n      var minContainerWidth = Number(options.minContainerWidth) || MIN_CONTAINER_WIDTH;\n      var minContainerHeight = Number(options.minContainerHeight) || MIN_CONTAINER_HEIGHT;\n\n      if (this.disabled || containerData.width <= minContainerWidth || containerData.height <= minContainerHeight) {\n        return;\n      }\n\n      var ratio = container.offsetWidth / containerData.width; // Resize when width changed or height changed\n\n      if (ratio !== 1 || container.offsetHeight !== containerData.height) {\n        var canvasData;\n        var cropBoxData;\n\n        if (options.restore) {\n          canvasData = this.getCanvasData();\n          cropBoxData = this.getCropBoxData();\n        }\n\n        this.render();\n\n        if (options.restore) {\n          this.setCanvasData(forEach(canvasData, function (n, i) {\n            canvasData[i] = n * ratio;\n          }));\n          this.setCropBoxData(forEach(cropBoxData, function (n, i) {\n            cropBoxData[i] = n * ratio;\n          }));\n        }\n      }\n    },\n    dblclick: function dblclick() {\n      if (this.disabled || this.options.dragMode === DRAG_MODE_NONE) {\n        return;\n      }\n\n      this.setDragMode(hasClass(this.dragBox, CLASS_CROP) ? DRAG_MODE_MOVE : DRAG_MODE_CROP);\n    },\n    wheel: function wheel(event) {\n      var _this = this;\n\n      var ratio = Number(this.options.wheelZoomRatio) || 0.1;\n      var delta = 1;\n\n      if (this.disabled) {\n        return;\n      }\n\n      event.preventDefault(); // Limit wheel speed to prevent zoom too fast (#21)\n\n      if (this.wheeling) {\n        return;\n      }\n\n      this.wheeling = true;\n      setTimeout(function () {\n        _this.wheeling = false;\n      }, 50);\n\n      if (event.deltaY) {\n        delta = event.deltaY > 0 ? 1 : -1;\n      } else if (event.wheelDelta) {\n        delta = -event.wheelDelta / 120;\n      } else if (event.detail) {\n        delta = event.detail > 0 ? 1 : -1;\n      }\n\n      this.zoom(-delta * ratio, event);\n    },\n    cropStart: function cropStart(event) {\n      var buttons = event.buttons,\n          button = event.button;\n\n      if (this.disabled // No primary button (Usually the left button)\n      // Note that touch events have no `buttons` or `button` property\n      || isNumber(buttons) && buttons !== 1 || isNumber(button) && button !== 0 // Open context menu\n      || event.ctrlKey) {\n        return;\n      }\n\n      var options = this.options,\n          pointers = this.pointers;\n      var action;\n\n      if (event.changedTouches) {\n        // Handle touch event\n        forEach(event.changedTouches, function (touch) {\n          pointers[touch.identifier] = getPointer(touch);\n        });\n      } else {\n        // Handle mouse event and pointer event\n        pointers[event.pointerId || 0] = getPointer(event);\n      }\n\n      if (Object.keys(pointers).length > 1 && options.zoomable && options.zoomOnTouch) {\n        action = ACTION_ZOOM;\n      } else {\n        action = getData(event.target, DATA_ACTION);\n      }\n\n      if (!REGEXP_ACTIONS.test(action)) {\n        return;\n      }\n\n      if (dispatchEvent(this.element, EVENT_CROP_START, {\n        originalEvent: event,\n        action: action\n      }) === false) {\n        return;\n      } // This line is required for preventing page zooming in iOS browsers\n\n\n      event.preventDefault();\n      this.action = action;\n      this.cropping = false;\n\n      if (action === ACTION_CROP) {\n        this.cropping = true;\n        addClass(this.dragBox, CLASS_MODAL);\n      }\n    },\n    cropMove: function cropMove(event) {\n      var action = this.action;\n\n      if (this.disabled || !action) {\n        return;\n      }\n\n      var pointers = this.pointers;\n      event.preventDefault();\n\n      if (dispatchEvent(this.element, EVENT_CROP_MOVE, {\n        originalEvent: event,\n        action: action\n      }) === false) {\n        return;\n      }\n\n      if (event.changedTouches) {\n        forEach(event.changedTouches, function (touch) {\n          // The first parameter should not be undefined (#432)\n          assign(pointers[touch.identifier] || {}, getPointer(touch, true));\n        });\n      } else {\n        assign(pointers[event.pointerId || 0] || {}, getPointer(event, true));\n      }\n\n      this.change(event);\n    },\n    cropEnd: function cropEnd(event) {\n      if (this.disabled) {\n        return;\n      }\n\n      var action = this.action,\n          pointers = this.pointers;\n\n      if (event.changedTouches) {\n        forEach(event.changedTouches, function (touch) {\n          delete pointers[touch.identifier];\n        });\n      } else {\n        delete pointers[event.pointerId || 0];\n      }\n\n      if (!action) {\n        return;\n      }\n\n      event.preventDefault();\n\n      if (!Object.keys(pointers).length) {\n        this.action = '';\n      }\n\n      if (this.cropping) {\n        this.cropping = false;\n        toggleClass(this.dragBox, CLASS_MODAL, this.cropped && this.options.modal);\n      }\n\n      dispatchEvent(this.element, EVENT_CROP_END, {\n        originalEvent: event,\n        action: action\n      });\n    }\n  };\n\n  var change = {\n    change: function change(event) {\n      var options = this.options,\n          canvasData = this.canvasData,\n          containerData = this.containerData,\n          cropBoxData = this.cropBoxData,\n          pointers = this.pointers;\n      var action = this.action;\n      var aspectRatio = options.aspectRatio;\n      var left = cropBoxData.left,\n          top = cropBoxData.top,\n          width = cropBoxData.width,\n          height = cropBoxData.height;\n      var right = left + width;\n      var bottom = top + height;\n      var minLeft = 0;\n      var minTop = 0;\n      var maxWidth = containerData.width;\n      var maxHeight = containerData.height;\n      var renderable = true;\n      var offset; // Locking aspect ratio in \"free mode\" by holding shift key\n\n      if (!aspectRatio && event.shiftKey) {\n        aspectRatio = width && height ? width / height : 1;\n      }\n\n      if (this.limited) {\n        minLeft = cropBoxData.minLeft;\n        minTop = cropBoxData.minTop;\n        maxWidth = minLeft + Math.min(containerData.width, canvasData.width, canvasData.left + canvasData.width);\n        maxHeight = minTop + Math.min(containerData.height, canvasData.height, canvasData.top + canvasData.height);\n      }\n\n      var pointer = pointers[Object.keys(pointers)[0]];\n      var range = {\n        x: pointer.endX - pointer.startX,\n        y: pointer.endY - pointer.startY\n      };\n\n      var check = function check(side) {\n        switch (side) {\n          case ACTION_EAST:\n            if (right + range.x > maxWidth) {\n              range.x = maxWidth - right;\n            }\n\n            break;\n\n          case ACTION_WEST:\n            if (left + range.x < minLeft) {\n              range.x = minLeft - left;\n            }\n\n            break;\n\n          case ACTION_NORTH:\n            if (top + range.y < minTop) {\n              range.y = minTop - top;\n            }\n\n            break;\n\n          case ACTION_SOUTH:\n            if (bottom + range.y > maxHeight) {\n              range.y = maxHeight - bottom;\n            }\n\n            break;\n\n          default:\n        }\n      };\n\n      switch (action) {\n        // Move crop box\n        case ACTION_ALL:\n          left += range.x;\n          top += range.y;\n          break;\n        // Resize crop box\n\n        case ACTION_EAST:\n          if (range.x >= 0 && (right >= maxWidth || aspectRatio && (top <= minTop || bottom >= maxHeight))) {\n            renderable = false;\n            break;\n          }\n\n          check(ACTION_EAST);\n          width += range.x;\n\n          if (width < 0) {\n            action = ACTION_WEST;\n            width = -width;\n            left -= width;\n          }\n\n          if (aspectRatio) {\n            height = width / aspectRatio;\n            top += (cropBoxData.height - height) / 2;\n          }\n\n          break;\n\n        case ACTION_NORTH:\n          if (range.y <= 0 && (top <= minTop || aspectRatio && (left <= minLeft || right >= maxWidth))) {\n            renderable = false;\n            break;\n          }\n\n          check(ACTION_NORTH);\n          height -= range.y;\n          top += range.y;\n\n          if (height < 0) {\n            action = ACTION_SOUTH;\n            height = -height;\n            top -= height;\n          }\n\n          if (aspectRatio) {\n            width = height * aspectRatio;\n            left += (cropBoxData.width - width) / 2;\n          }\n\n          break;\n\n        case ACTION_WEST:\n          if (range.x <= 0 && (left <= minLeft || aspectRatio && (top <= minTop || bottom >= maxHeight))) {\n            renderable = false;\n            break;\n          }\n\n          check(ACTION_WEST);\n          width -= range.x;\n          left += range.x;\n\n          if (width < 0) {\n            action = ACTION_EAST;\n            width = -width;\n            left -= width;\n          }\n\n          if (aspectRatio) {\n            height = width / aspectRatio;\n            top += (cropBoxData.height - height) / 2;\n          }\n\n          break;\n\n        case ACTION_SOUTH:\n          if (range.y >= 0 && (bottom >= maxHeight || aspectRatio && (left <= minLeft || right >= maxWidth))) {\n            renderable = false;\n            break;\n          }\n\n          check(ACTION_SOUTH);\n          height += range.y;\n\n          if (height < 0) {\n            action = ACTION_NORTH;\n            height = -height;\n            top -= height;\n          }\n\n          if (aspectRatio) {\n            width = height * aspectRatio;\n            left += (cropBoxData.width - width) / 2;\n          }\n\n          break;\n\n        case ACTION_NORTH_EAST:\n          if (aspectRatio) {\n            if (range.y <= 0 && (top <= minTop || right >= maxWidth)) {\n              renderable = false;\n              break;\n            }\n\n            check(ACTION_NORTH);\n            height -= range.y;\n            top += range.y;\n            width = height * aspectRatio;\n          } else {\n            check(ACTION_NORTH);\n            check(ACTION_EAST);\n\n            if (range.x >= 0) {\n              if (right < maxWidth) {\n                width += range.x;\n              } else if (range.y <= 0 && top <= minTop) {\n                renderable = false;\n              }\n            } else {\n              width += range.x;\n            }\n\n            if (range.y <= 0) {\n              if (top > minTop) {\n                height -= range.y;\n                top += range.y;\n              }\n            } else {\n              height -= range.y;\n              top += range.y;\n            }\n          }\n\n          if (width < 0 && height < 0) {\n            action = ACTION_SOUTH_WEST;\n            height = -height;\n            width = -width;\n            top -= height;\n            left -= width;\n          } else if (width < 0) {\n            action = ACTION_NORTH_WEST;\n            width = -width;\n            left -= width;\n          } else if (height < 0) {\n            action = ACTION_SOUTH_EAST;\n            height = -height;\n            top -= height;\n          }\n\n          break;\n\n        case ACTION_NORTH_WEST:\n          if (aspectRatio) {\n            if (range.y <= 0 && (top <= minTop || left <= minLeft)) {\n              renderable = false;\n              break;\n            }\n\n            check(ACTION_NORTH);\n            height -= range.y;\n            top += range.y;\n            width = height * aspectRatio;\n            left += cropBoxData.width - width;\n          } else {\n            check(ACTION_NORTH);\n            check(ACTION_WEST);\n\n            if (range.x <= 0) {\n              if (left > minLeft) {\n                width -= range.x;\n                left += range.x;\n              } else if (range.y <= 0 && top <= minTop) {\n                renderable = false;\n              }\n            } else {\n              width -= range.x;\n              left += range.x;\n            }\n\n            if (range.y <= 0) {\n              if (top > minTop) {\n                height -= range.y;\n                top += range.y;\n              }\n            } else {\n              height -= range.y;\n              top += range.y;\n            }\n          }\n\n          if (width < 0 && height < 0) {\n            action = ACTION_SOUTH_EAST;\n            height = -height;\n            width = -width;\n            top -= height;\n            left -= width;\n          } else if (width < 0) {\n            action = ACTION_NORTH_EAST;\n            width = -width;\n            left -= width;\n          } else if (height < 0) {\n            action = ACTION_SOUTH_WEST;\n            height = -height;\n            top -= height;\n          }\n\n          break;\n\n        case ACTION_SOUTH_WEST:\n          if (aspectRatio) {\n            if (range.x <= 0 && (left <= minLeft || bottom >= maxHeight)) {\n              renderable = false;\n              break;\n            }\n\n            check(ACTION_WEST);\n            width -= range.x;\n            left += range.x;\n            height = width / aspectRatio;\n          } else {\n            check(ACTION_SOUTH);\n            check(ACTION_WEST);\n\n            if (range.x <= 0) {\n              if (left > minLeft) {\n                width -= range.x;\n                left += range.x;\n              } else if (range.y >= 0 && bottom >= maxHeight) {\n                renderable = false;\n              }\n            } else {\n              width -= range.x;\n              left += range.x;\n            }\n\n            if (range.y >= 0) {\n              if (bottom < maxHeight) {\n                height += range.y;\n              }\n            } else {\n              height += range.y;\n            }\n          }\n\n          if (width < 0 && height < 0) {\n            action = ACTION_NORTH_EAST;\n            height = -height;\n            width = -width;\n            top -= height;\n            left -= width;\n          } else if (width < 0) {\n            action = ACTION_SOUTH_EAST;\n            width = -width;\n            left -= width;\n          } else if (height < 0) {\n            action = ACTION_NORTH_WEST;\n            height = -height;\n            top -= height;\n          }\n\n          break;\n\n        case ACTION_SOUTH_EAST:\n          if (aspectRatio) {\n            if (range.x >= 0 && (right >= maxWidth || bottom >= maxHeight)) {\n              renderable = false;\n              break;\n            }\n\n            check(ACTION_EAST);\n            width += range.x;\n            height = width / aspectRatio;\n          } else {\n            check(ACTION_SOUTH);\n            check(ACTION_EAST);\n\n            if (range.x >= 0) {\n              if (right < maxWidth) {\n                width += range.x;\n              } else if (range.y >= 0 && bottom >= maxHeight) {\n                renderable = false;\n              }\n            } else {\n              width += range.x;\n            }\n\n            if (range.y >= 0) {\n              if (bottom < maxHeight) {\n                height += range.y;\n              }\n            } else {\n              height += range.y;\n            }\n          }\n\n          if (width < 0 && height < 0) {\n            action = ACTION_NORTH_WEST;\n            height = -height;\n            width = -width;\n            top -= height;\n            left -= width;\n          } else if (width < 0) {\n            action = ACTION_SOUTH_WEST;\n            width = -width;\n            left -= width;\n          } else if (height < 0) {\n            action = ACTION_NORTH_EAST;\n            height = -height;\n            top -= height;\n          }\n\n          break;\n        // Move canvas\n\n        case ACTION_MOVE:\n          this.move(range.x, range.y);\n          renderable = false;\n          break;\n        // Zoom canvas\n\n        case ACTION_ZOOM:\n          this.zoom(getMaxZoomRatio(pointers), event);\n          renderable = false;\n          break;\n        // Create crop box\n\n        case ACTION_CROP:\n          if (!range.x || !range.y) {\n            renderable = false;\n            break;\n          }\n\n          offset = getOffset(this.cropper);\n          left = pointer.startX - offset.left;\n          top = pointer.startY - offset.top;\n          width = cropBoxData.minWidth;\n          height = cropBoxData.minHeight;\n\n          if (range.x > 0) {\n            action = range.y > 0 ? ACTION_SOUTH_EAST : ACTION_NORTH_EAST;\n          } else if (range.x < 0) {\n            left -= width;\n            action = range.y > 0 ? ACTION_SOUTH_WEST : ACTION_NORTH_WEST;\n          }\n\n          if (range.y < 0) {\n            top -= height;\n          } // Show the crop box if is hidden\n\n\n          if (!this.cropped) {\n            removeClass(this.cropBox, CLASS_HIDDEN);\n            this.cropped = true;\n\n            if (this.limited) {\n              this.limitCropBox(true, true);\n            }\n          }\n\n          break;\n\n        default:\n      }\n\n      if (renderable) {\n        cropBoxData.width = width;\n        cropBoxData.height = height;\n        cropBoxData.left = left;\n        cropBoxData.top = top;\n        this.action = action;\n        this.renderCropBox();\n      } // Override\n\n\n      forEach(pointers, function (p) {\n        p.startX = p.endX;\n        p.startY = p.endY;\n      });\n    }\n  };\n\n  var methods = {\n    // Show the crop box manually\n    crop: function crop() {\n      if (this.ready && !this.cropped && !this.disabled) {\n        this.cropped = true;\n        this.limitCropBox(true, true);\n\n        if (this.options.modal) {\n          addClass(this.dragBox, CLASS_MODAL);\n        }\n\n        removeClass(this.cropBox, CLASS_HIDDEN);\n        this.setCropBoxData(this.initialCropBoxData);\n      }\n\n      return this;\n    },\n    // Reset the image and crop box to their initial states\n    reset: function reset() {\n      if (this.ready && !this.disabled) {\n        this.imageData = assign({}, this.initialImageData);\n        this.canvasData = assign({}, this.initialCanvasData);\n        this.cropBoxData = assign({}, this.initialCropBoxData);\n        this.renderCanvas();\n\n        if (this.cropped) {\n          this.renderCropBox();\n        }\n      }\n\n      return this;\n    },\n    // Clear the crop box\n    clear: function clear() {\n      if (this.cropped && !this.disabled) {\n        assign(this.cropBoxData, {\n          left: 0,\n          top: 0,\n          width: 0,\n          height: 0\n        });\n        this.cropped = false;\n        this.renderCropBox();\n        this.limitCanvas(true, true); // Render canvas after crop box rendered\n\n        this.renderCanvas();\n        removeClass(this.dragBox, CLASS_MODAL);\n        addClass(this.cropBox, CLASS_HIDDEN);\n      }\n\n      return this;\n    },\n\n    /**\n     * Replace the image's src and rebuild the cropper\n     * @param {string} url - The new URL.\n     * @param {boolean} [hasSameSize] - Indicate if the new image has the same size as the old one.\n     * @returns {Cropper} this\n     */\n    replace: function replace(url) {\n      var hasSameSize = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      if (!this.disabled && url) {\n        if (this.isImg) {\n          this.element.src = url;\n        }\n\n        if (hasSameSize) {\n          this.url = url;\n          this.image.src = url;\n\n          if (this.ready) {\n            this.viewBoxImage.src = url;\n            forEach(this.previews, function (element) {\n              element.getElementsByTagName('img')[0].src = url;\n            });\n          }\n        } else {\n          if (this.isImg) {\n            this.replaced = true;\n          }\n\n          this.options.data = null;\n          this.uncreate();\n          this.load(url);\n        }\n      }\n\n      return this;\n    },\n    // Enable (unfreeze) the cropper\n    enable: function enable() {\n      if (this.ready && this.disabled) {\n        this.disabled = false;\n        removeClass(this.cropper, CLASS_DISABLED);\n      }\n\n      return this;\n    },\n    // Disable (freeze) the cropper\n    disable: function disable() {\n      if (this.ready && !this.disabled) {\n        this.disabled = true;\n        addClass(this.cropper, CLASS_DISABLED);\n      }\n\n      return this;\n    },\n\n    /**\n     * Destroy the cropper and remove the instance from the image\n     * @returns {Cropper} this\n     */\n    destroy: function destroy() {\n      var element = this.element;\n\n      if (!element[NAMESPACE]) {\n        return this;\n      }\n\n      element[NAMESPACE] = undefined;\n\n      if (this.isImg && this.replaced) {\n        element.src = this.originalUrl;\n      }\n\n      this.uncreate();\n      return this;\n    },\n\n    /**\n     * Move the canvas with relative offsets\n     * @param {number} offsetX - The relative offset distance on the x-axis.\n     * @param {number} [offsetY=offsetX] - The relative offset distance on the y-axis.\n     * @returns {Cropper} this\n     */\n    move: function move(offsetX) {\n      var offsetY = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : offsetX;\n      var _this$canvasData = this.canvasData,\n          left = _this$canvasData.left,\n          top = _this$canvasData.top;\n      return this.moveTo(isUndefined(offsetX) ? offsetX : left + Number(offsetX), isUndefined(offsetY) ? offsetY : top + Number(offsetY));\n    },\n\n    /**\n     * Move the canvas to an absolute point\n     * @param {number} x - The x-axis coordinate.\n     * @param {number} [y=x] - The y-axis coordinate.\n     * @returns {Cropper} this\n     */\n    moveTo: function moveTo(x) {\n      var y = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : x;\n      var canvasData = this.canvasData;\n      var changed = false;\n      x = Number(x);\n      y = Number(y);\n\n      if (this.ready && !this.disabled && this.options.movable) {\n        if (isNumber(x)) {\n          canvasData.left = x;\n          changed = true;\n        }\n\n        if (isNumber(y)) {\n          canvasData.top = y;\n          changed = true;\n        }\n\n        if (changed) {\n          this.renderCanvas(true);\n        }\n      }\n\n      return this;\n    },\n\n    /**\n     * Zoom the canvas with a relative ratio\n     * @param {number} ratio - The target ratio.\n     * @param {Event} _originalEvent - The original event if any.\n     * @returns {Cropper} this\n     */\n    zoom: function zoom(ratio, _originalEvent) {\n      var canvasData = this.canvasData;\n      ratio = Number(ratio);\n\n      if (ratio < 0) {\n        ratio = 1 / (1 - ratio);\n      } else {\n        ratio = 1 + ratio;\n      }\n\n      return this.zoomTo(canvasData.width * ratio / canvasData.naturalWidth, null, _originalEvent);\n    },\n\n    /**\n     * Zoom the canvas to an absolute ratio\n     * @param {number} ratio - The target ratio.\n     * @param {Object} pivot - The zoom pivot point coordinate.\n     * @param {Event} _originalEvent - The original event if any.\n     * @returns {Cropper} this\n     */\n    zoomTo: function zoomTo(ratio, pivot, _originalEvent) {\n      var options = this.options,\n          canvasData = this.canvasData;\n      var width = canvasData.width,\n          height = canvasData.height,\n          naturalWidth = canvasData.naturalWidth,\n          naturalHeight = canvasData.naturalHeight;\n      ratio = Number(ratio);\n\n      if (ratio >= 0 && this.ready && !this.disabled && options.zoomable) {\n        var newWidth = naturalWidth * ratio;\n        var newHeight = naturalHeight * ratio;\n\n        if (dispatchEvent(this.element, EVENT_ZOOM, {\n          ratio: ratio,\n          oldRatio: width / naturalWidth,\n          originalEvent: _originalEvent\n        }) === false) {\n          return this;\n        }\n\n        if (_originalEvent) {\n          var pointers = this.pointers;\n          var offset = getOffset(this.cropper);\n          var center = pointers && Object.keys(pointers).length ? getPointersCenter(pointers) : {\n            pageX: _originalEvent.pageX,\n            pageY: _originalEvent.pageY\n          }; // Zoom from the triggering point of the event\n\n          canvasData.left -= (newWidth - width) * ((center.pageX - offset.left - canvasData.left) / width);\n          canvasData.top -= (newHeight - height) * ((center.pageY - offset.top - canvasData.top) / height);\n        } else if (isPlainObject(pivot) && isNumber(pivot.x) && isNumber(pivot.y)) {\n          canvasData.left -= (newWidth - width) * ((pivot.x - canvasData.left) / width);\n          canvasData.top -= (newHeight - height) * ((pivot.y - canvasData.top) / height);\n        } else {\n          // Zoom from the center of the canvas\n          canvasData.left -= (newWidth - width) / 2;\n          canvasData.top -= (newHeight - height) / 2;\n        }\n\n        canvasData.width = newWidth;\n        canvasData.height = newHeight;\n        this.renderCanvas(true);\n      }\n\n      return this;\n    },\n\n    /**\n     * Rotate the canvas with a relative degree\n     * @param {number} degree - The rotate degree.\n     * @returns {Cropper} this\n     */\n    rotate: function rotate(degree) {\n      return this.rotateTo((this.imageData.rotate || 0) + Number(degree));\n    },\n\n    /**\n     * Rotate the canvas to an absolute degree\n     * @param {number} degree - The rotate degree.\n     * @returns {Cropper} this\n     */\n    rotateTo: function rotateTo(degree) {\n      degree = Number(degree);\n\n      if (isNumber(degree) && this.ready && !this.disabled && this.options.rotatable) {\n        this.imageData.rotate = degree % 360;\n        this.renderCanvas(true, true);\n      }\n\n      return this;\n    },\n\n    /**\n     * Scale the image on the x-axis.\n     * @param {number} scaleX - The scale ratio on the x-axis.\n     * @returns {Cropper} this\n     */\n    scaleX: function scaleX(_scaleX) {\n      var scaleY = this.imageData.scaleY;\n      return this.scale(_scaleX, isNumber(scaleY) ? scaleY : 1);\n    },\n\n    /**\n     * Scale the image on the y-axis.\n     * @param {number} scaleY - The scale ratio on the y-axis.\n     * @returns {Cropper} this\n     */\n    scaleY: function scaleY(_scaleY) {\n      var scaleX = this.imageData.scaleX;\n      return this.scale(isNumber(scaleX) ? scaleX : 1, _scaleY);\n    },\n\n    /**\n     * Scale the image\n     * @param {number} scaleX - The scale ratio on the x-axis.\n     * @param {number} [scaleY=scaleX] - The scale ratio on the y-axis.\n     * @returns {Cropper} this\n     */\n    scale: function scale(scaleX) {\n      var scaleY = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : scaleX;\n      var imageData = this.imageData;\n      var transformed = false;\n      scaleX = Number(scaleX);\n      scaleY = Number(scaleY);\n\n      if (this.ready && !this.disabled && this.options.scalable) {\n        if (isNumber(scaleX)) {\n          imageData.scaleX = scaleX;\n          transformed = true;\n        }\n\n        if (isNumber(scaleY)) {\n          imageData.scaleY = scaleY;\n          transformed = true;\n        }\n\n        if (transformed) {\n          this.renderCanvas(true, true);\n        }\n      }\n\n      return this;\n    },\n\n    /**\n     * Get the cropped area position and size data (base on the original image)\n     * @param {boolean} [rounded=false] - Indicate if round the data values or not.\n     * @returns {Object} The result cropped data.\n     */\n    getData: function getData() {\n      var rounded = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      var options = this.options,\n          imageData = this.imageData,\n          canvasData = this.canvasData,\n          cropBoxData = this.cropBoxData;\n      var data;\n\n      if (this.ready && this.cropped) {\n        data = {\n          x: cropBoxData.left - canvasData.left,\n          y: cropBoxData.top - canvasData.top,\n          width: cropBoxData.width,\n          height: cropBoxData.height\n        };\n        var ratio = imageData.width / imageData.naturalWidth;\n        forEach(data, function (n, i) {\n          data[i] = n / ratio;\n        });\n\n        if (rounded) {\n          // In case rounding off leads to extra 1px in right or bottom border\n          // we should round the top-left corner and the dimension (#343).\n          var bottom = Math.round(data.y + data.height);\n          var right = Math.round(data.x + data.width);\n          data.x = Math.round(data.x);\n          data.y = Math.round(data.y);\n          data.width = right - data.x;\n          data.height = bottom - data.y;\n        }\n      } else {\n        data = {\n          x: 0,\n          y: 0,\n          width: 0,\n          height: 0\n        };\n      }\n\n      if (options.rotatable) {\n        data.rotate = imageData.rotate || 0;\n      }\n\n      if (options.scalable) {\n        data.scaleX = imageData.scaleX || 1;\n        data.scaleY = imageData.scaleY || 1;\n      }\n\n      return data;\n    },\n\n    /**\n     * Set the cropped area position and size with new data\n     * @param {Object} data - The new data.\n     * @returns {Cropper} this\n     */\n    setData: function setData(data) {\n      var options = this.options,\n          imageData = this.imageData,\n          canvasData = this.canvasData;\n      var cropBoxData = {};\n\n      if (this.ready && !this.disabled && isPlainObject(data)) {\n        var transformed = false;\n\n        if (options.rotatable) {\n          if (isNumber(data.rotate) && data.rotate !== imageData.rotate) {\n            imageData.rotate = data.rotate;\n            transformed = true;\n          }\n        }\n\n        if (options.scalable) {\n          if (isNumber(data.scaleX) && data.scaleX !== imageData.scaleX) {\n            imageData.scaleX = data.scaleX;\n            transformed = true;\n          }\n\n          if (isNumber(data.scaleY) && data.scaleY !== imageData.scaleY) {\n            imageData.scaleY = data.scaleY;\n            transformed = true;\n          }\n        }\n\n        if (transformed) {\n          this.renderCanvas(true, true);\n        }\n\n        var ratio = imageData.width / imageData.naturalWidth;\n\n        if (isNumber(data.x)) {\n          cropBoxData.left = data.x * ratio + canvasData.left;\n        }\n\n        if (isNumber(data.y)) {\n          cropBoxData.top = data.y * ratio + canvasData.top;\n        }\n\n        if (isNumber(data.width)) {\n          cropBoxData.width = data.width * ratio;\n        }\n\n        if (isNumber(data.height)) {\n          cropBoxData.height = data.height * ratio;\n        }\n\n        this.setCropBoxData(cropBoxData);\n      }\n\n      return this;\n    },\n\n    /**\n     * Get the container size data.\n     * @returns {Object} The result container data.\n     */\n    getContainerData: function getContainerData() {\n      return this.ready ? assign({}, this.containerData) : {};\n    },\n\n    /**\n     * Get the image position and size data.\n     * @returns {Object} The result image data.\n     */\n    getImageData: function getImageData() {\n      return this.sized ? assign({}, this.imageData) : {};\n    },\n\n    /**\n     * Get the canvas position and size data.\n     * @returns {Object} The result canvas data.\n     */\n    getCanvasData: function getCanvasData() {\n      var canvasData = this.canvasData;\n      var data = {};\n\n      if (this.ready) {\n        forEach(['left', 'top', 'width', 'height', 'naturalWidth', 'naturalHeight'], function (n) {\n          data[n] = canvasData[n];\n        });\n      }\n\n      return data;\n    },\n\n    /**\n     * Set the canvas position and size with new data.\n     * @param {Object} data - The new canvas data.\n     * @returns {Cropper} this\n     */\n    setCanvasData: function setCanvasData(data) {\n      var canvasData = this.canvasData;\n      var aspectRatio = canvasData.aspectRatio;\n\n      if (this.ready && !this.disabled && isPlainObject(data)) {\n        if (isNumber(data.left)) {\n          canvasData.left = data.left;\n        }\n\n        if (isNumber(data.top)) {\n          canvasData.top = data.top;\n        }\n\n        if (isNumber(data.width)) {\n          canvasData.width = data.width;\n          canvasData.height = data.width / aspectRatio;\n        } else if (isNumber(data.height)) {\n          canvasData.height = data.height;\n          canvasData.width = data.height * aspectRatio;\n        }\n\n        this.renderCanvas(true);\n      }\n\n      return this;\n    },\n\n    /**\n     * Get the crop box position and size data.\n     * @returns {Object} The result crop box data.\n     */\n    getCropBoxData: function getCropBoxData() {\n      var cropBoxData = this.cropBoxData;\n      var data;\n\n      if (this.ready && this.cropped) {\n        data = {\n          left: cropBoxData.left,\n          top: cropBoxData.top,\n          width: cropBoxData.width,\n          height: cropBoxData.height\n        };\n      }\n\n      return data || {};\n    },\n\n    /**\n     * Set the crop box position and size with new data.\n     * @param {Object} data - The new crop box data.\n     * @returns {Cropper} this\n     */\n    setCropBoxData: function setCropBoxData(data) {\n      var cropBoxData = this.cropBoxData;\n      var aspectRatio = this.options.aspectRatio;\n      var widthChanged;\n      var heightChanged;\n\n      if (this.ready && this.cropped && !this.disabled && isPlainObject(data)) {\n        if (isNumber(data.left)) {\n          cropBoxData.left = data.left;\n        }\n\n        if (isNumber(data.top)) {\n          cropBoxData.top = data.top;\n        }\n\n        if (isNumber(data.width) && data.width !== cropBoxData.width) {\n          widthChanged = true;\n          cropBoxData.width = data.width;\n        }\n\n        if (isNumber(data.height) && data.height !== cropBoxData.height) {\n          heightChanged = true;\n          cropBoxData.height = data.height;\n        }\n\n        if (aspectRatio) {\n          if (widthChanged) {\n            cropBoxData.height = cropBoxData.width / aspectRatio;\n          } else if (heightChanged) {\n            cropBoxData.width = cropBoxData.height * aspectRatio;\n          }\n        }\n\n        this.renderCropBox();\n      }\n\n      return this;\n    },\n\n    /**\n     * Get a canvas drawn the cropped image.\n     * @param {Object} [options={}] - The config options.\n     * @returns {HTMLCanvasElement} - The result canvas.\n     */\n    getCroppedCanvas: function getCroppedCanvas() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      if (!this.ready || !window.HTMLCanvasElement) {\n        return null;\n      }\n\n      var canvasData = this.canvasData;\n      var source = getSourceCanvas(this.image, this.imageData, canvasData, options); // Returns the source canvas if it is not cropped.\n\n      if (!this.cropped) {\n        return source;\n      }\n\n      var _this$getData = this.getData(),\n          initialX = _this$getData.x,\n          initialY = _this$getData.y,\n          initialWidth = _this$getData.width,\n          initialHeight = _this$getData.height;\n\n      var ratio = source.width / Math.floor(canvasData.naturalWidth);\n\n      if (ratio !== 1) {\n        initialX *= ratio;\n        initialY *= ratio;\n        initialWidth *= ratio;\n        initialHeight *= ratio;\n      }\n\n      var aspectRatio = initialWidth / initialHeight;\n      var maxSizes = getAdjustedSizes({\n        aspectRatio: aspectRatio,\n        width: options.maxWidth || Infinity,\n        height: options.maxHeight || Infinity\n      });\n      var minSizes = getAdjustedSizes({\n        aspectRatio: aspectRatio,\n        width: options.minWidth || 0,\n        height: options.minHeight || 0\n      }, 'cover');\n\n      var _getAdjustedSizes = getAdjustedSizes({\n        aspectRatio: aspectRatio,\n        width: options.width || (ratio !== 1 ? source.width : initialWidth),\n        height: options.height || (ratio !== 1 ? source.height : initialHeight)\n      }),\n          width = _getAdjustedSizes.width,\n          height = _getAdjustedSizes.height;\n\n      width = Math.min(maxSizes.width, Math.max(minSizes.width, width));\n      height = Math.min(maxSizes.height, Math.max(minSizes.height, height));\n      var canvas = document.createElement('canvas');\n      var context = canvas.getContext('2d');\n      canvas.width = normalizeDecimalNumber(width);\n      canvas.height = normalizeDecimalNumber(height);\n      context.fillStyle = options.fillColor || 'transparent';\n      context.fillRect(0, 0, width, height);\n      var _options$imageSmoothi = options.imageSmoothingEnabled,\n          imageSmoothingEnabled = _options$imageSmoothi === void 0 ? true : _options$imageSmoothi,\n          imageSmoothingQuality = options.imageSmoothingQuality;\n      context.imageSmoothingEnabled = imageSmoothingEnabled;\n\n      if (imageSmoothingQuality) {\n        context.imageSmoothingQuality = imageSmoothingQuality;\n      } // https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D.drawImage\n\n\n      var sourceWidth = source.width;\n      var sourceHeight = source.height; // Source canvas parameters\n\n      var srcX = initialX;\n      var srcY = initialY;\n      var srcWidth;\n      var srcHeight; // Destination canvas parameters\n\n      var dstX;\n      var dstY;\n      var dstWidth;\n      var dstHeight;\n\n      if (srcX <= -initialWidth || srcX > sourceWidth) {\n        srcX = 0;\n        srcWidth = 0;\n        dstX = 0;\n        dstWidth = 0;\n      } else if (srcX <= 0) {\n        dstX = -srcX;\n        srcX = 0;\n        srcWidth = Math.min(sourceWidth, initialWidth + srcX);\n        dstWidth = srcWidth;\n      } else if (srcX <= sourceWidth) {\n        dstX = 0;\n        srcWidth = Math.min(initialWidth, sourceWidth - srcX);\n        dstWidth = srcWidth;\n      }\n\n      if (srcWidth <= 0 || srcY <= -initialHeight || srcY > sourceHeight) {\n        srcY = 0;\n        srcHeight = 0;\n        dstY = 0;\n        dstHeight = 0;\n      } else if (srcY <= 0) {\n        dstY = -srcY;\n        srcY = 0;\n        srcHeight = Math.min(sourceHeight, initialHeight + srcY);\n        dstHeight = srcHeight;\n      } else if (srcY <= sourceHeight) {\n        dstY = 0;\n        srcHeight = Math.min(initialHeight, sourceHeight - srcY);\n        dstHeight = srcHeight;\n      }\n\n      var params = [srcX, srcY, srcWidth, srcHeight]; // Avoid \"IndexSizeError\"\n\n      if (dstWidth > 0 && dstHeight > 0) {\n        var scale = width / initialWidth;\n        params.push(dstX * scale, dstY * scale, dstWidth * scale, dstHeight * scale);\n      } // All the numerical parameters should be integer for `drawImage`\n      // https://github.com/fengyuanchen/cropper/issues/476\n\n\n      context.drawImage.apply(context, [source].concat(_toConsumableArray(params.map(function (param) {\n        return Math.floor(normalizeDecimalNumber(param));\n      }))));\n      return canvas;\n    },\n\n    /**\n     * Change the aspect ratio of the crop box.\n     * @param {number} aspectRatio - The new aspect ratio.\n     * @returns {Cropper} this\n     */\n    setAspectRatio: function setAspectRatio(aspectRatio) {\n      var options = this.options;\n\n      if (!this.disabled && !isUndefined(aspectRatio)) {\n        // 0 -> NaN\n        options.aspectRatio = Math.max(0, aspectRatio) || NaN;\n\n        if (this.ready) {\n          this.initCropBox();\n\n          if (this.cropped) {\n            this.renderCropBox();\n          }\n        }\n      }\n\n      return this;\n    },\n\n    /**\n     * Change the drag mode.\n     * @param {string} mode - The new drag mode.\n     * @returns {Cropper} this\n     */\n    setDragMode: function setDragMode(mode) {\n      var options = this.options,\n          dragBox = this.dragBox,\n          face = this.face;\n\n      if (this.ready && !this.disabled) {\n        var croppable = mode === DRAG_MODE_CROP;\n        var movable = options.movable && mode === DRAG_MODE_MOVE;\n        mode = croppable || movable ? mode : DRAG_MODE_NONE;\n        options.dragMode = mode;\n        setData(dragBox, DATA_ACTION, mode);\n        toggleClass(dragBox, CLASS_CROP, croppable);\n        toggleClass(dragBox, CLASS_MOVE, movable);\n\n        if (!options.cropBoxMovable) {\n          // Sync drag mode to crop box when it is not movable\n          setData(face, DATA_ACTION, mode);\n          toggleClass(face, CLASS_CROP, croppable);\n          toggleClass(face, CLASS_MOVE, movable);\n        }\n      }\n\n      return this;\n    }\n  };\n\n  var AnotherCropper = WINDOW.Cropper;\n\n  var Cropper =\n  /*#__PURE__*/\n  function () {\n    /**\n     * Create a new Cropper.\n     * @param {Element} element - The target element for cropping.\n     * @param {Object} [options={}] - The configuration options.\n     */\n    function Cropper(element) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      _classCallCheck(this, Cropper);\n\n      if (!element || !REGEXP_TAG_NAME.test(element.tagName)) {\n        throw new Error('The first argument is required and must be an <img> or <canvas> element.');\n      }\n\n      this.element = element;\n      this.options = assign({}, DEFAULTS, isPlainObject(options) && options);\n      this.cropped = false;\n      this.disabled = false;\n      this.pointers = {};\n      this.ready = false;\n      this.reloading = false;\n      this.replaced = false;\n      this.sized = false;\n      this.sizing = false;\n      this.init();\n    }\n\n    _createClass(Cropper, [{\n      key: \"init\",\n      value: function init() {\n        var element = this.element;\n        var tagName = element.tagName.toLowerCase();\n        var url;\n\n        if (element[NAMESPACE]) {\n          return;\n        }\n\n        element[NAMESPACE] = this;\n\n        if (tagName === 'img') {\n          this.isImg = true; // e.g.: \"img/picture.jpg\"\n\n          url = element.getAttribute('src') || '';\n          this.originalUrl = url; // Stop when it's a blank image\n\n          if (!url) {\n            return;\n          } // e.g.: \"http://example.com/img/picture.jpg\"\n\n\n          url = element.src;\n        } else if (tagName === 'canvas' && window.HTMLCanvasElement) {\n          url = element.toDataURL();\n        }\n\n        this.load(url);\n      }\n    }, {\n      key: \"load\",\n      value: function load(url) {\n        var _this = this;\n\n        if (!url) {\n          return;\n        }\n\n        this.url = url;\n        this.imageData = {};\n        var element = this.element,\n            options = this.options;\n\n        if (!options.rotatable && !options.scalable) {\n          options.checkOrientation = false;\n        } // Only IE10+ supports Typed Arrays\n\n\n        if (!options.checkOrientation || !window.ArrayBuffer) {\n          this.clone();\n          return;\n        } // Detect the mime type of the image directly if it is a Data URL\n\n\n        if (REGEXP_DATA_URL.test(url)) {\n          // Read ArrayBuffer from Data URL of JPEG images directly for better performance\n          if (REGEXP_DATA_URL_JPEG.test(url)) {\n            this.read(dataURLToArrayBuffer(url));\n          } else {\n            // Only a JPEG image may contains Exif Orientation information,\n            // the rest types of Data URLs are not necessary to check orientation at all.\n            this.clone();\n          }\n\n          return;\n        } // 1. Detect the mime type of the image by a XMLHttpRequest.\n        // 2. Load the image as ArrayBuffer for reading orientation if its a JPEG image.\n\n\n        var xhr = new XMLHttpRequest();\n        var clone = this.clone.bind(this);\n        this.reloading = true;\n        this.xhr = xhr; // 1. Cross origin requests are only supported for protocol schemes:\n        // http, https, data, chrome, chrome-extension.\n        // 2. Access to XMLHttpRequest from a Data URL will be blocked by CORS policy\n        // in some browsers as IE11 and Safari.\n\n        xhr.onabort = clone;\n        xhr.onerror = clone;\n        xhr.ontimeout = clone;\n\n        xhr.onprogress = function () {\n          // Abort the request directly if it not a JPEG image for better performance\n          if (xhr.getResponseHeader('content-type') !== MIME_TYPE_JPEG) {\n            xhr.abort();\n          }\n        };\n\n        xhr.onload = function () {\n          _this.read(xhr.response);\n        };\n\n        xhr.onloadend = function () {\n          _this.reloading = false;\n          _this.xhr = null;\n        }; // Bust cache when there is a \"crossOrigin\" property to avoid browser cache error\n\n\n        if (options.checkCrossOrigin && isCrossOriginURL(url) && element.crossOrigin) {\n          url = addTimestamp(url);\n        }\n\n        xhr.open('GET', url);\n        xhr.responseType = 'arraybuffer';\n        xhr.withCredentials = element.crossOrigin === 'use-credentials';\n        xhr.send();\n      }\n    }, {\n      key: \"read\",\n      value: function read(arrayBuffer) {\n        var options = this.options,\n            imageData = this.imageData; // Reset the orientation value to its default value 1\n        // as some iOS browsers will render image with its orientation\n\n        var orientation = resetAndGetOrientation(arrayBuffer);\n        var rotate = 0;\n        var scaleX = 1;\n        var scaleY = 1;\n\n        if (orientation > 1) {\n          // Generate a new URL which has the default orientation value\n          this.url = arrayBufferToDataURL(arrayBuffer, MIME_TYPE_JPEG);\n\n          var _parseOrientation = parseOrientation(orientation);\n\n          rotate = _parseOrientation.rotate;\n          scaleX = _parseOrientation.scaleX;\n          scaleY = _parseOrientation.scaleY;\n        }\n\n        if (options.rotatable) {\n          imageData.rotate = rotate;\n        }\n\n        if (options.scalable) {\n          imageData.scaleX = scaleX;\n          imageData.scaleY = scaleY;\n        }\n\n        this.clone();\n      }\n    }, {\n      key: \"clone\",\n      value: function clone() {\n        var element = this.element,\n            url = this.url;\n        var crossOrigin;\n        var crossOriginUrl;\n\n        if (this.options.checkCrossOrigin && isCrossOriginURL(url)) {\n          crossOrigin = element.crossOrigin;\n\n          if (!crossOrigin) {\n            crossOrigin = 'anonymous';\n          } // Bust cache when there is not a \"crossOrigin\" property (#519)\n\n\n          crossOriginUrl = addTimestamp(url);\n        }\n\n        this.crossOrigin = crossOrigin;\n        this.crossOriginUrl = crossOriginUrl;\n        var image = document.createElement('img');\n\n        if (crossOrigin) {\n          image.crossOrigin = crossOrigin;\n        }\n\n        image.src = crossOriginUrl || url;\n        image.alt = element.alt || 'The image to crop';\n        this.image = image;\n        image.onload = this.start.bind(this);\n        image.onerror = this.stop.bind(this);\n        addClass(image, CLASS_HIDE);\n        element.parentNode.insertBefore(image, element.nextSibling);\n      }\n    }, {\n      key: \"start\",\n      value: function start() {\n        var _this2 = this;\n\n        var image = this.image;\n        image.onload = null;\n        image.onerror = null;\n        this.sizing = true; // Match all browsers that use WebKit as the layout engine in iOS devices,\n        // such as Safari for iOS, Chrome for iOS, and in-app browsers.\n\n        var isIOSWebKit = WINDOW.navigator && /(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(WINDOW.navigator.userAgent);\n\n        var done = function done(naturalWidth, naturalHeight) {\n          assign(_this2.imageData, {\n            naturalWidth: naturalWidth,\n            naturalHeight: naturalHeight,\n            aspectRatio: naturalWidth / naturalHeight\n          });\n          _this2.sizing = false;\n          _this2.sized = true;\n\n          _this2.build();\n        }; // Most modern browsers (excepts iOS WebKit)\n\n\n        if (image.naturalWidth && !isIOSWebKit) {\n          done(image.naturalWidth, image.naturalHeight);\n          return;\n        }\n\n        var sizingImage = document.createElement('img');\n        var body = document.body || document.documentElement;\n        this.sizingImage = sizingImage;\n\n        sizingImage.onload = function () {\n          done(sizingImage.width, sizingImage.height);\n\n          if (!isIOSWebKit) {\n            body.removeChild(sizingImage);\n          }\n        };\n\n        sizingImage.src = image.src; // iOS WebKit will convert the image automatically\n        // with its orientation once append it into DOM (#279)\n\n        if (!isIOSWebKit) {\n          sizingImage.style.cssText = 'left:0;' + 'max-height:none!important;' + 'max-width:none!important;' + 'min-height:0!important;' + 'min-width:0!important;' + 'opacity:0;' + 'position:absolute;' + 'top:0;' + 'z-index:-1;';\n          body.appendChild(sizingImage);\n        }\n      }\n    }, {\n      key: \"stop\",\n      value: function stop() {\n        var image = this.image;\n        image.onload = null;\n        image.onerror = null;\n        image.parentNode.removeChild(image);\n        this.image = null;\n      }\n    }, {\n      key: \"build\",\n      value: function build() {\n        if (!this.sized || this.ready) {\n          return;\n        }\n\n        var element = this.element,\n            options = this.options,\n            image = this.image; // Create cropper elements\n\n        var container = element.parentNode;\n        var template = document.createElement('div');\n        template.innerHTML = TEMPLATE;\n        var cropper = template.querySelector(\".\".concat(NAMESPACE, \"-container\"));\n        var canvas = cropper.querySelector(\".\".concat(NAMESPACE, \"-canvas\"));\n        var dragBox = cropper.querySelector(\".\".concat(NAMESPACE, \"-drag-box\"));\n        var cropBox = cropper.querySelector(\".\".concat(NAMESPACE, \"-crop-box\"));\n        var face = cropBox.querySelector(\".\".concat(NAMESPACE, \"-face\"));\n        this.container = container;\n        this.cropper = cropper;\n        this.canvas = canvas;\n        this.dragBox = dragBox;\n        this.cropBox = cropBox;\n        this.viewBox = cropper.querySelector(\".\".concat(NAMESPACE, \"-view-box\"));\n        this.face = face;\n        canvas.appendChild(image); // Hide the original image\n\n        addClass(element, CLASS_HIDDEN); // Inserts the cropper after to the current image\n\n        container.insertBefore(cropper, element.nextSibling); // Show the image if is hidden\n\n        if (!this.isImg) {\n          removeClass(image, CLASS_HIDE);\n        }\n\n        this.initPreview();\n        this.bind();\n        options.initialAspectRatio = Math.max(0, options.initialAspectRatio) || NaN;\n        options.aspectRatio = Math.max(0, options.aspectRatio) || NaN;\n        options.viewMode = Math.max(0, Math.min(3, Math.round(options.viewMode))) || 0;\n        addClass(cropBox, CLASS_HIDDEN);\n\n        if (!options.guides) {\n          addClass(cropBox.getElementsByClassName(\"\".concat(NAMESPACE, \"-dashed\")), CLASS_HIDDEN);\n        }\n\n        if (!options.center) {\n          addClass(cropBox.getElementsByClassName(\"\".concat(NAMESPACE, \"-center\")), CLASS_HIDDEN);\n        }\n\n        if (options.background) {\n          addClass(cropper, \"\".concat(NAMESPACE, \"-bg\"));\n        }\n\n        if (!options.highlight) {\n          addClass(face, CLASS_INVISIBLE);\n        }\n\n        if (options.cropBoxMovable) {\n          addClass(face, CLASS_MOVE);\n          setData(face, DATA_ACTION, ACTION_ALL);\n        }\n\n        if (!options.cropBoxResizable) {\n          addClass(cropBox.getElementsByClassName(\"\".concat(NAMESPACE, \"-line\")), CLASS_HIDDEN);\n          addClass(cropBox.getElementsByClassName(\"\".concat(NAMESPACE, \"-point\")), CLASS_HIDDEN);\n        }\n\n        this.render();\n        this.ready = true;\n        this.setDragMode(options.dragMode);\n\n        if (options.autoCrop) {\n          this.crop();\n        }\n\n        this.setData(options.data);\n\n        if (isFunction(options.ready)) {\n          addListener(element, EVENT_READY, options.ready, {\n            once: true\n          });\n        }\n\n        dispatchEvent(element, EVENT_READY);\n      }\n    }, {\n      key: \"unbuild\",\n      value: function unbuild() {\n        if (!this.ready) {\n          return;\n        }\n\n        this.ready = false;\n        this.unbind();\n        this.resetPreview();\n        this.cropper.parentNode.removeChild(this.cropper);\n        removeClass(this.element, CLASS_HIDDEN);\n      }\n    }, {\n      key: \"uncreate\",\n      value: function uncreate() {\n        if (this.ready) {\n          this.unbuild();\n          this.ready = false;\n          this.cropped = false;\n        } else if (this.sizing) {\n          this.sizingImage.onload = null;\n          this.sizing = false;\n          this.sized = false;\n        } else if (this.reloading) {\n          this.xhr.onabort = null;\n          this.xhr.abort();\n        } else if (this.image) {\n          this.stop();\n        }\n      }\n      /**\n       * Get the no conflict cropper class.\n       * @returns {Cropper} The cropper class.\n       */\n\n    }], [{\n      key: \"noConflict\",\n      value: function noConflict() {\n        window.Cropper = AnotherCropper;\n        return Cropper;\n      }\n      /**\n       * Change the default options.\n       * @param {Object} options - The new default options.\n       */\n\n    }, {\n      key: \"setDefaults\",\n      value: function setDefaults(options) {\n        assign(DEFAULTS, isPlainObject(options) && options);\n      }\n    }]);\n\n    return Cropper;\n  }();\n\n  assign(Cropper.prototype, render, preview, events, handlers, change, methods);\n\n  return Cropper;\n\n}));\n\n/**!\n * Sortable\n * @author\tRubaXa   <trash@rubaxa.org>\n * @author\towenm    <owen23355@gmail.com>\n * @license MIT\n */\n\n(function sortableModule(factory) {\n\t\"use strict\";\n\n\tif (typeof define === \"function\" && define.amd) {\n\t\tdefine(factory);\n\t}\n\telse if (typeof module != \"undefined\" && typeof module.exports != \"undefined\") {\n\t\tmodule.exports = factory();\n\t}\n\telse {\n\t\t/* jshint sub:true */\n\t\twindow[\"Sortable\"] = factory();\n\t}\n})(function sortableFactory() {\n\t\"use strict\";\n\n\tif (typeof window === \"undefined\" || !window.document) {\n\t\treturn function sortableError() {\n\t\t\tthrow new Error(\"Sortable.js requires a window with a document\");\n\t\t};\n\t}\n\n\tvar dragEl,\n\t\tparentEl,\n\t\tghostEl,\n\t\tcloneEl,\n\t\trootEl,\n\t\tnextEl,\n\t\tlastDownEl,\n\n\t\tscrollEl,\n\t\tscrollParentEl,\n\t\tscrollCustomFn,\n\n\t\toldIndex,\n\t\tnewIndex,\n\t\toldDraggableIndex,\n\t\tnewDraggableIndex,\n\n\t\tactiveGroup,\n\t\tputSortable,\n\n\t\tautoScrolls = [],\n\t\tscrolling = false,\n\n\t\tawaitingDragStarted = false,\n\t\tignoreNextClick = false,\n\t\tsortables = [],\n\n\t\tpointerElemChangedInterval,\n\t\tlastPointerElemX,\n\t\tlastPointerElemY,\n\n\t\ttapEvt,\n\t\ttouchEvt,\n\n\t\tmoved,\n\n\n\t\tlastTarget,\n\t\tlastDirection,\n\t\tpastFirstInvertThresh = false,\n\t\tisCircumstantialInvert = false,\n\t\tlastMode, // 'swap' or 'insert'\n\n\t\ttargetMoveDistance,\n\n\t\t// For positioning ghost absolutely\n\t\tghostRelativeParent,\n\t\tghostRelativeParentInitialScroll = [], // (left, top)\n\n\t\trealDragElRect, // dragEl rect after current animation\n\n\t\t/** @const */\n\t\tR_SPACE = /\\s+/g,\n\n\t\texpando = 'Sortable' + (new Date).getTime(),\n\n\t\twin = window,\n\t\tdocument = win.document,\n\t\tparseInt = win.parseInt,\n\t\tsetTimeout = win.setTimeout,\n\n\t\t$ = win.jQuery || win.Zepto,\n\t\tPolymer = win.Polymer,\n\n\t\tcaptureMode = {\n\t\t\tcapture: false,\n\t\t\tpassive: false\n\t\t},\n\n\t\tIE11OrLess = !!navigator.userAgent.match(/(?:Trident.*rv[ :]?11\\.|msie|iemobile)/i),\n\t\tEdge = !!navigator.userAgent.match(/Edge/i),\n\t\tFireFox = !!navigator.userAgent.match(/firefox/i),\n\t\tSafari = !!(navigator.userAgent.match(/safari/i) && !navigator.userAgent.match(/chrome/i) && !navigator.userAgent.match(/android/i)),\n\t\tIOS = !!(navigator.userAgent.match(/iP(ad|od|hone)/i)),\n\n\t\tPositionGhostAbsolutely = IOS,\n\n\t\tCSSFloatProperty = Edge || IE11OrLess ? 'cssFloat' : 'float',\n\n\t\t// This will not pass for IE9, because IE9 DnD only works on anchors\n\t\tsupportDraggable = ('draggable' in document.createElement('div')),\n\n\t\tsupportCssPointerEvents = (function() {\n\t\t\t// false when <= IE11\n\t\t\tif (IE11OrLess) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tvar el = document.createElement('x');\n\t\t\tel.style.cssText = 'pointer-events:auto';\n\t\t\treturn el.style.pointerEvents === 'auto';\n\t\t})(),\n\n\t\t_silent = false,\n\t\t_alignedSilent = false,\n\n\t\tabs = Math.abs,\n\t\tmin = Math.min,\n\t\tmax = Math.max,\n\n\t\tsavedInputChecked = [],\n\n\t\t_detectDirection = function(el, options) {\n\t\t\tvar elCSS = _css(el),\n\t\t\t\telWidth = parseInt(elCSS.width)\n\t\t\t\t\t- parseInt(elCSS.paddingLeft)\n\t\t\t\t\t- parseInt(elCSS.paddingRight)\n\t\t\t\t\t- parseInt(elCSS.borderLeftWidth)\n\t\t\t\t\t- parseInt(elCSS.borderRightWidth),\n\t\t\t\tchild1 = _getChild(el, 0, options),\n\t\t\t\tchild2 = _getChild(el, 1, options),\n\t\t\t\tfirstChildCSS = child1 && _css(child1),\n\t\t\t\tsecondChildCSS = child2 && _css(child2),\n\t\t\t\tfirstChildWidth = firstChildCSS && parseInt(firstChildCSS.marginLeft) + parseInt(firstChildCSS.marginRight) + _getRect(child1).width,\n\t\t\t\tsecondChildWidth = secondChildCSS && parseInt(secondChildCSS.marginLeft) + parseInt(secondChildCSS.marginRight) + _getRect(child2).width;\n\n\t\t\tif (elCSS.display === 'flex') {\n\t\t\t\treturn elCSS.flexDirection === 'column' || elCSS.flexDirection === 'column-reverse'\n\t\t\t\t? 'vertical' : 'horizontal';\n\t\t\t}\n\n\t\t\tif (elCSS.display === 'grid') {\n\t\t\t\treturn elCSS.gridTemplateColumns.split(' ').length <= 1 ? 'vertical' : 'horizontal';\n\t\t\t}\n\n\t\t\tif (child1 && firstChildCSS.float !== 'none') {\n\t\t\t\tvar touchingSideChild2 = firstChildCSS.float === 'left' ? 'left' : 'right';\n\n\t\t\t\treturn child2 && (secondChildCSS.clear === 'both' || secondChildCSS.clear === touchingSideChild2) ?\n\t\t\t\t\t'vertical' : 'horizontal';\n\t\t\t}\n\n\t\t\treturn (child1 &&\n\t\t\t\t(\n\t\t\t\t\tfirstChildCSS.display === 'block' ||\n\t\t\t\t\tfirstChildCSS.display === 'flex' ||\n\t\t\t\t\tfirstChildCSS.display === 'table' ||\n\t\t\t\t\tfirstChildCSS.display === 'grid' ||\n\t\t\t\t\tfirstChildWidth >= elWidth &&\n\t\t\t\t\telCSS[CSSFloatProperty] === 'none' ||\n\t\t\t\t\tchild2 &&\n\t\t\t\t\telCSS[CSSFloatProperty] === 'none' &&\n\t\t\t\t\tfirstChildWidth + secondChildWidth > elWidth\n\t\t\t\t) ?\n\t\t\t\t'vertical' : 'horizontal'\n\t\t\t);\n\t\t},\n\n\t\t/**\n\t\t * Detects first nearest empty sortable to X and Y position using emptyInsertThreshold.\n\t\t * @param  {Number} x      X position\n\t\t * @param  {Number} y      Y position\n\t\t * @return {HTMLElement}   Element of the first found nearest Sortable\n\t\t */\n\t\t_detectNearestEmptySortable = function(x, y) {\n\t\t\tfor (var i = 0; i < sortables.length; i++) {\n\t\t\t\tif (_lastChild(sortables[i])) continue;\n\n\t\t\t\tvar rect = _getRect(sortables[i]),\n\t\t\t\t\tthreshold = sortables[i][expando].options.emptyInsertThreshold,\n\t\t\t\t\tinsideHorizontally = x >= (rect.left - threshold) && x <= (rect.right + threshold),\n\t\t\t\t\tinsideVertically = y >= (rect.top - threshold) && y <= (rect.bottom + threshold);\n\n\t\t\t\tif (threshold && insideHorizontally && insideVertically) {\n\t\t\t\t\treturn sortables[i];\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t_isClientInRowColumn = function(x, y, el, axis, options) {\n\t\t\tvar targetRect = _getRect(el),\n\t\t\t\ttargetS1Opp = axis === 'vertical' ? targetRect.left : targetRect.top,\n\t\t\t\ttargetS2Opp = axis === 'vertical' ? targetRect.right : targetRect.bottom,\n\t\t\t\tmouseOnOppAxis = axis === 'vertical' ? x : y;\n\n\t\t\treturn targetS1Opp < mouseOnOppAxis && mouseOnOppAxis < targetS2Opp;\n\t\t},\n\n\t\t_isElInRowColumn = function(el1, el2, axis) {\n\t\t\tvar el1Rect = el1 === dragEl && realDragElRect || _getRect(el1),\n\t\t\t\tel2Rect = el2 === dragEl && realDragElRect || _getRect(el2),\n\t\t\t\tel1S1Opp = axis === 'vertical' ? el1Rect.left : el1Rect.top,\n\t\t\t\tel1S2Opp = axis === 'vertical' ? el1Rect.right : el1Rect.bottom,\n\t\t\t\tel1OppLength = axis === 'vertical' ? el1Rect.width : el1Rect.height,\n\t\t\t\tel2S1Opp = axis === 'vertical' ? el2Rect.left : el2Rect.top,\n\t\t\t\tel2S2Opp = axis === 'vertical' ? el2Rect.right : el2Rect.bottom,\n\t\t\t\tel2OppLength = axis === 'vertical' ? el2Rect.width : el2Rect.height;\n\n\t\t\treturn (\n\t\t\t\tel1S1Opp === el2S1Opp ||\n\t\t\t\tel1S2Opp === el2S2Opp ||\n\t\t\t\t(el1S1Opp + el1OppLength / 2) === (el2S1Opp + el2OppLength / 2)\n\t\t\t);\n\t\t},\n\n\t\t_getParentAutoScrollElement = function(el, includeSelf) {\n\t\t\t// skip to window\n\t\t\tif (!el || !el.getBoundingClientRect) return _getWindowScrollingElement();\n\n\t\t\tvar elem = el;\n\t\t\tvar gotSelf = false;\n\t\t\tdo {\n\t\t\t\t// we don't need to get elem css if it isn't even overflowing in the first place (performance)\n\t\t\t\tif (elem.clientWidth < elem.scrollWidth || elem.clientHeight < elem.scrollHeight) {\n\t\t\t\t\tvar elemCSS = _css(elem);\n\t\t\t\t\tif (\n\t\t\t\t\t\telem.clientWidth < elem.scrollWidth && (elemCSS.overflowX == 'auto' || elemCSS.overflowX == 'scroll') ||\n\t\t\t\t\t\telem.clientHeight < elem.scrollHeight && (elemCSS.overflowY == 'auto' || elemCSS.overflowY == 'scroll')\n\t\t\t\t\t) {\n\t\t\t\t\t\tif (!elem || !elem.getBoundingClientRect || elem === document.body) return _getWindowScrollingElement();\n\n\t\t\t\t\t\tif (gotSelf || includeSelf) return elem;\n\t\t\t\t\t\tgotSelf = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t/* jshint boss:true */\n\t\t\t} while (elem = elem.parentNode);\n\n\t\t\treturn _getWindowScrollingElement();\n\t\t},\n\n\t\t_getWindowScrollingElement = function() {\n\t\t\tif (IE11OrLess) {\n\t\t\t\treturn document.documentElement;\n\t\t\t} else {\n\t\t\t\treturn document.scrollingElement;\n\t\t\t}\n\t\t},\n\n\t\t_scrollBy = function(el, x, y) {\n\t\t\tel.scrollLeft += x;\n\t\t\tel.scrollTop += y;\n\t\t},\n\n\t\t_autoScroll = _throttle(function (/**Event*/evt, /**Object*/options, /**HTMLElement*/rootEl, /**Boolean*/isFallback) {\n\t\t\t// Bug: https://bugzilla.mozilla.org/show_bug.cgi?id=505521\n\t\t\tif (options.scroll) {\n\t\t\t\tvar _this = rootEl ? rootEl[expando] : window,\n\t\t\t\t\tsens = options.scrollSensitivity,\n\t\t\t\t\tspeed = options.scrollSpeed,\n\n\t\t\t\t\tx = evt.clientX,\n\t\t\t\t\ty = evt.clientY,\n\n\t\t\t\t\twinScroller = _getWindowScrollingElement(),\n\n\t\t\t\t\tscrollThisInstance = false;\n\n\t\t\t\t// Detect scrollEl\n\t\t\t\tif (scrollParentEl !== rootEl) {\n\t\t\t\t\t_clearAutoScrolls();\n\n\t\t\t\t\tscrollEl = options.scroll;\n\t\t\t\t\tscrollCustomFn = options.scrollFn;\n\n\t\t\t\t\tif (scrollEl === true) {\n\t\t\t\t\t\tscrollEl = _getParentAutoScrollElement(rootEl, true);\n\t\t\t\t\t\tscrollParentEl = scrollEl;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\n\t\t\t\tvar layersOut = 0;\n\t\t\t\tvar currentParent = scrollEl;\n\t\t\t\tdo {\n\t\t\t\t\tvar\tel = currentParent,\n\t\t\t\t\t\trect = _getRect(el),\n\n\t\t\t\t\t\ttop = rect.top,\n\t\t\t\t\t\tbottom = rect.bottom,\n\t\t\t\t\t\tleft = rect.left,\n\t\t\t\t\t\tright = rect.right,\n\n\t\t\t\t\t\twidth = rect.width,\n\t\t\t\t\t\theight = rect.height,\n\n\t\t\t\t\t\tscrollWidth,\n\t\t\t\t\t\tscrollHeight,\n\n\t\t\t\t\t\tcss,\n\n\t\t\t\t\t\tvx,\n\t\t\t\t\t\tvy,\n\n\t\t\t\t\t\tcanScrollX,\n\t\t\t\t\t\tcanScrollY,\n\n\t\t\t\t\t\tscrollPosX,\n\t\t\t\t\t\tscrollPosY;\n\n\n\t\t\t\t\tscrollWidth = el.scrollWidth;\n\t\t\t\t\tscrollHeight = el.scrollHeight;\n\n\t\t\t\t\tcss = _css(el);\n\n\t\t\t\t\tscrollPosX = el.scrollLeft;\n\t\t\t\t\tscrollPosY = el.scrollTop;\n\n\t\t\t\t\tif (el === winScroller) {\n\t\t\t\t\t\tcanScrollX = width < scrollWidth && (css.overflowX === 'auto' || css.overflowX === 'scroll' || css.overflowX === 'visible');\n\t\t\t\t\t\tcanScrollY = height < scrollHeight && (css.overflowY === 'auto' || css.overflowY === 'scroll' || css.overflowY === 'visible');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcanScrollX = width < scrollWidth && (css.overflowX === 'auto' || css.overflowX === 'scroll');\n\t\t\t\t\t\tcanScrollY = height < scrollHeight && (css.overflowY === 'auto' || css.overflowY === 'scroll');\n\t\t\t\t\t}\n\n\t\t\t\t\tvx = canScrollX && (abs(right - x) <= sens && (scrollPosX + width) < scrollWidth) - (abs(left - x) <= sens && !!scrollPosX);\n\n\t\t\t\t\tvy = canScrollY && (abs(bottom - y) <= sens && (scrollPosY + height) < scrollHeight) - (abs(top - y) <= sens && !!scrollPosY);\n\n\n\t\t\t\t\tif (!autoScrolls[layersOut]) {\n\t\t\t\t\t\tfor (var i = 0; i <= layersOut; i++) {\n\t\t\t\t\t\t\tif (!autoScrolls[i]) {\n\t\t\t\t\t\t\t\tautoScrolls[i] = {};\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (autoScrolls[layersOut].vx != vx || autoScrolls[layersOut].vy != vy || autoScrolls[layersOut].el !== el) {\n\t\t\t\t\t\tautoScrolls[layersOut].el = el;\n\t\t\t\t\t\tautoScrolls[layersOut].vx = vx;\n\t\t\t\t\t\tautoScrolls[layersOut].vy = vy;\n\n\t\t\t\t\t\tclearInterval(autoScrolls[layersOut].pid);\n\n\t\t\t\t\t\tif (el && (vx != 0 || vy != 0)) {\n\t\t\t\t\t\t\tscrollThisInstance = true;\n\t\t\t\t\t\t\t/* jshint loopfunc:true */\n\t\t\t\t\t\t\tautoScrolls[layersOut].pid = setInterval((function () {\n\t\t\t\t\t\t\t\t// emulate drag over during autoscroll (fallback), emulating native DnD behaviour\n\t\t\t\t\t\t\t\tif (isFallback && this.layer === 0) {\n\t\t\t\t\t\t\t\t\tSortable.active._emulateDragOver(true);\n\t\t\t\t\t\t\t\t\tSortable.active._onTouchMove(touchEvt, true);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tvar scrollOffsetY = autoScrolls[this.layer].vy ? autoScrolls[this.layer].vy * speed : 0;\n\t\t\t\t\t\t\t\tvar scrollOffsetX = autoScrolls[this.layer].vx ? autoScrolls[this.layer].vx * speed : 0;\n\n\t\t\t\t\t\t\t\tif ('function' === typeof(scrollCustomFn)) {\n\t\t\t\t\t\t\t\t\tif (scrollCustomFn.call(_this, scrollOffsetX, scrollOffsetY, evt, touchEvt, autoScrolls[this.layer].el) !== 'continue') {\n\t\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t_scrollBy(autoScrolls[this.layer].el, scrollOffsetX, scrollOffsetY);\n\t\t\t\t\t\t\t}).bind({layer: layersOut}), 24);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tlayersOut++;\n\t\t\t\t} while (options.bubbleScroll && currentParent !== winScroller && (currentParent = _getParentAutoScrollElement(currentParent, false)));\n\t\t\t\tscrolling = scrollThisInstance; // in case another function catches scrolling as false in between when it is not\n\t\t\t}\n\t\t}, 30),\n\n\t\t_clearAutoScrolls = function () {\n\t\t\tautoScrolls.forEach(function(autoScroll) {\n\t\t\t\tclearInterval(autoScroll.pid);\n\t\t\t});\n\t\t\tautoScrolls = [];\n\t\t},\n\n\t\t_prepareGroup = function (options) {\n\t\t\tfunction toFn(value, pull) {\n\t\t\t\treturn function(to, from, dragEl, evt) {\n\t\t\t\t\tvar sameGroup = to.options.group.name &&\n\t\t\t\t\t\t\t\t\tfrom.options.group.name &&\n\t\t\t\t\t\t\t\t\tto.options.group.name === from.options.group.name;\n\n\t\t\t\t\tif (value == null && (pull || sameGroup)) {\n\t\t\t\t\t\t// Default pull value\n\t\t\t\t\t\t// Default pull and put value if same group\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t} else if (value == null || value === false) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t} else if (pull && value === 'clone') {\n\t\t\t\t\t\treturn value;\n\t\t\t\t\t} else if (typeof value === 'function') {\n\t\t\t\t\t\treturn toFn(value(to, from, dragEl, evt), pull)(to, from, dragEl, evt);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar otherGroup = (pull ? to : from).options.group.name;\n\n\t\t\t\t\t\treturn (value === true ||\n\t\t\t\t\t\t(typeof value === 'string' && value === otherGroup) ||\n\t\t\t\t\t\t(value.join && value.indexOf(otherGroup) > -1));\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tvar group = {};\n\t\t\tvar originalGroup = options.group;\n\n\t\t\tif (!originalGroup || typeof originalGroup != 'object') {\n\t\t\t\toriginalGroup = {name: originalGroup};\n\t\t\t}\n\n\t\t\tgroup.name = originalGroup.name;\n\t\t\tgroup.checkPull = toFn(originalGroup.pull, true);\n\t\t\tgroup.checkPut = toFn(originalGroup.put);\n\t\t\tgroup.revertClone = originalGroup.revertClone;\n\n\t\t\toptions.group = group;\n\t\t},\n\n\t\t_checkAlignment = function(evt) {\n\t\t\tif (!dragEl || !dragEl.parentNode) return;\n\t\t\tdragEl.parentNode[expando] && dragEl.parentNode[expando]._computeIsAligned(evt);\n\t\t},\n\n\t\t_hideGhostForTarget = function() {\n\t\t\tif (!supportCssPointerEvents && ghostEl) {\n\t\t\t\t_css(ghostEl, 'display', 'none');\n\t\t\t}\n\t\t},\n\n\t\t_unhideGhostForTarget = function() {\n\t\t\tif (!supportCssPointerEvents && ghostEl) {\n\t\t\t\t_css(ghostEl, 'display', '');\n\t\t\t}\n\t\t};\n\n\n\t// #1184 fix - Prevent click event on fallback if dragged but item not changed position\n\tdocument.addEventListener('click', function(evt) {\n\t\tif (ignoreNextClick) {\n\t\t\tevt.preventDefault();\n\t\t\tevt.stopPropagation && evt.stopPropagation();\n\t\t\tevt.stopImmediatePropagation && evt.stopImmediatePropagation();\n\t\t\tignoreNextClick = false;\n\t\t\treturn false;\n\t\t}\n\t}, true);\n\n\tvar nearestEmptyInsertDetectEvent = function(evt) {\n\t\tif (dragEl) {\n\t\t\tevt = evt.touches ? evt.touches[0] : evt;\n\t\t\tvar nearest = _detectNearestEmptySortable(evt.clientX, evt.clientY);\n\n\t\t\tif (nearest) {\n\t\t\t\t// Create imitation event\n\t\t\t\tvar event = {};\n\t\t\t\tfor (var i in evt) {\n\t\t\t\t\tevent[i] = evt[i];\n\t\t\t\t}\n\t\t\t\tevent.target = event.rootEl = nearest;\n\t\t\t\tevent.preventDefault = void 0;\n\t\t\t\tevent.stopPropagation = void 0;\n\t\t\t\tnearest[expando]._onDragOver(event);\n\t\t\t}\n\t\t}\n\t};\n\n\t/**\n\t * @class  Sortable\n\t * @param  {HTMLElement}  el\n\t * @param  {Object}       [options]\n\t */\n\tfunction Sortable(el, options) {\n\t\tif (!(el && el.nodeType && el.nodeType === 1)) {\n\t\t\tthrow 'Sortable: `el` must be HTMLElement, not ' + {}.toString.call(el);\n\t\t}\n\n\t\tthis.el = el; // root element\n\t\tthis.options = options = _extend({}, options);\n\n\n\t\t// Export instance\n\t\tel[expando] = this;\n\n\t\t// Default options\n\t\tvar defaults = {\n\t\t\tgroup: null,\n\t\t\tsort: true,\n\t\t\tdisabled: false,\n\t\t\tstore: null,\n\t\t\thandle: null,\n\t\t\tscroll: true,\n\t\t\tscrollSensitivity: 30,\n\t\t\tscrollSpeed: 10,\n\t\t\tbubbleScroll: true,\n\t\t\tdraggable: /[uo]l/i.test(el.nodeName) ? '>li' : '>*',\n\t\t\tswapThreshold: 1, // percentage; 0 <= x <= 1\n\t\t\tinvertSwap: false, // invert always\n\t\t\tinvertedSwapThreshold: null, // will be set to same as swapThreshold if default\n\t\t\tremoveCloneOnHide: true,\n\t\t\tdirection: function() {\n\t\t\t\treturn _detectDirection(el, this.options);\n\t\t\t},\n\t\t\tghostClass: 'sortable-ghost',\n\t\t\tchosenClass: 'sortable-chosen',\n\t\t\tdragClass: 'sortable-drag',\n\t\t\tignore: 'a, img',\n\t\t\tfilter: null,\n\t\t\tpreventOnFilter: true,\n\t\t\tanimation: 0,\n\t\t\teasing: null,\n\t\t\tsetData: function (dataTransfer, dragEl) {\n\t\t\t\tdataTransfer.setData('Text', dragEl.textContent);\n\t\t\t},\n\t\t\tdropBubble: false,\n\t\t\tdragoverBubble: false,\n\t\t\tdataIdAttr: 'data-id',\n\t\t\tdelay: 0,\n\t\t\tdelayOnTouchOnly: false,\n\t\t\ttouchStartThreshold: parseInt(window.devicePixelRatio, 10) || 1,\n\t\t\tforceFallback: false,\n\t\t\tfallbackClass: 'sortable-fallback',\n\t\t\tfallbackOnBody: false,\n\t\t\tfallbackTolerance: 0,\n\t\t\tfallbackOffset: {x: 0, y: 0},\n\t\t\tsupportPointer: Sortable.supportPointer !== false && ('PointerEvent' in window),\n\t\t\temptyInsertThreshold: 5\n\t\t};\n\n\n\t\t// Set default options\n\t\tfor (var name in defaults) {\n\t\t\t!(name in options) && (options[name] = defaults[name]);\n\t\t}\n\n\t\t_prepareGroup(options);\n\n\t\t// Bind all private methods\n\t\tfor (var fn in this) {\n\t\t\tif (fn.charAt(0) === '_' && typeof this[fn] === 'function') {\n\t\t\t\tthis[fn] = this[fn].bind(this);\n\t\t\t}\n\t\t}\n\n\t\t// Setup drag mode\n\t\tthis.nativeDraggable = options.forceFallback ? false : supportDraggable;\n\n\t\tif (this.nativeDraggable) {\n\t\t\t// Touch start threshold cannot be greater than the native dragstart threshold\n\t\t\tthis.options.touchStartThreshold = 1;\n\t\t}\n\n\t\t// Bind events\n\t\tif (options.supportPointer) {\n\t\t\t_on(el, 'pointerdown', this._onTapStart);\n\t\t} else {\n\t\t\t_on(el, 'mousedown', this._onTapStart);\n\t\t\t_on(el, 'touchstart', this._onTapStart);\n\t\t}\n\n\t\tif (this.nativeDraggable) {\n\t\t\t_on(el, 'dragover', this);\n\t\t\t_on(el, 'dragenter', this);\n\t\t}\n\n\t\tsortables.push(this.el);\n\n\t\t// Restore sorting\n\t\toptions.store && options.store.get && this.sort(options.store.get(this) || []);\n\t}\n\n\tSortable.prototype = /** @lends Sortable.prototype */ {\n\t\tconstructor: Sortable,\n\n\t\t_computeIsAligned: function(evt) {\n\t\t\tvar target;\n\n\t\t\tif (ghostEl && !supportCssPointerEvents) {\n\t\t\t\t_hideGhostForTarget();\n\t\t\t\ttarget = document.elementFromPoint(evt.clientX, evt.clientY);\n\t\t\t\t_unhideGhostForTarget();\n\t\t\t} else {\n\t\t\t\ttarget = evt.target;\n\t\t\t}\n\n\t\t\ttarget = _closest(target, this.options.draggable, this.el, false);\n\t\t\tif (_alignedSilent) return;\n\t\t\tif (!dragEl || dragEl.parentNode !== this.el) return;\n\n\t\t\tvar children = this.el.children;\n\t\t\tfor (var i = 0; i < children.length; i++) {\n\t\t\t\t// Don't change for target in case it is changed to aligned before onDragOver is fired\n\t\t\t\tif (_closest(children[i], this.options.draggable, this.el, false) && children[i] !== target) {\n\t\t\t\t\tchildren[i].sortableMouseAligned = _isClientInRowColumn(evt.clientX, evt.clientY, children[i], this._getDirection(evt, null), this.options);\n\t\t\t\t}\n\t\t\t}\n\t\t\t// Used for nulling last target when not in element, nothing to do with checking if aligned\n\t\t\tif (!_closest(target, this.options.draggable, this.el, true)) {\n\t\t\t\tlastTarget = null;\n\t\t\t}\n\n\t\t\t_alignedSilent = true;\n\t\t\tsetTimeout(function() {\n\t\t\t\t_alignedSilent = false;\n\t\t\t}, 30);\n\n\t\t},\n\n\t\t_getDirection: function(evt, target) {\n\t\t\treturn (typeof this.options.direction === 'function') ? this.options.direction.call(this, evt, target, dragEl) : this.options.direction;\n\t\t},\n\n\t\t_onTapStart: function (/** Event|TouchEvent */evt) {\n\t\t\tif (!evt.cancelable) return;\n\t\t\tvar _this = this,\n\t\t\t\tel = this.el,\n\t\t\t\toptions = this.options,\n\t\t\t\tpreventOnFilter = options.preventOnFilter,\n\t\t\t\ttype = evt.type,\n\t\t\t\ttouch = evt.touches && evt.touches[0],\n\t\t\t\ttarget = (touch || evt).target,\n\t\t\t\toriginalTarget = evt.target.shadowRoot && ((evt.path && evt.path[0]) || (evt.composedPath && evt.composedPath()[0])) || target,\n\t\t\t\tfilter = options.filter,\n\t\t\t\tstartIndex,\n\t\t\t\tstartDraggableIndex;\n\n\t\t\t_saveInputCheckedState(el);\n\n\t\t\t// Don't trigger start event when an element is been dragged, otherwise the evt.oldindex always wrong when set option.group.\n\t\t\tif (dragEl) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (/mousedown|pointerdown/.test(type) && evt.button !== 0 || options.disabled) {\n\t\t\t\treturn; // only left button and enabled\n\t\t\t}\n\n\t\t\t// cancel dnd if original target is content editable\n\t\t\tif (originalTarget.isContentEditable) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\ttarget = _closest(target, options.draggable, el, false);\n\n\n\t\t\tif (lastDownEl === target) {\n\t\t\t\t// Ignoring duplicate `down`\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Get the index of the dragged element within its parent\n\t\t\tstartIndex = _index(target);\n\t\t\tstartDraggableIndex = _index(target, options.draggable);\n\n\t\t\t// Check filter\n\t\t\tif (typeof filter === 'function') {\n\t\t\t\tif (filter.call(this, evt, target, this)) {\n\t\t\t\t\t_dispatchEvent(_this, originalTarget, 'filter', target, el, el, startIndex, undefined, startDraggableIndex);\n\t\t\t\t\tpreventOnFilter && evt.cancelable && evt.preventDefault();\n\t\t\t\t\treturn; // cancel dnd\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (filter) {\n\t\t\t\tfilter = filter.split(',').some(function (criteria) {\n\t\t\t\t\tcriteria = _closest(originalTarget, criteria.trim(), el, false);\n\n\t\t\t\t\tif (criteria) {\n\t\t\t\t\t\t_dispatchEvent(_this, criteria, 'filter', target, el, el, startIndex, undefined, startDraggableIndex);\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif (filter) {\n\t\t\t\t\tpreventOnFilter && evt.cancelable && evt.preventDefault();\n\t\t\t\t\treturn; // cancel dnd\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (options.handle && !_closest(originalTarget, options.handle, el, false)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Prepare `dragstart`\n\t\t\tthis._prepareDragStart(evt, touch, target, startIndex, startDraggableIndex);\n\t\t},\n\n\n\t\t_handleAutoScroll: function(evt, fallback) {\n\t\t\tif (!dragEl || !this.options.scroll) return;\n\t\t\tvar x = evt.clientX,\n\t\t\t\ty = evt.clientY,\n\n\t\t\t\telem = document.elementFromPoint(x, y),\n\t\t\t\t_this = this;\n\n\t\t\t// IE does not seem to have native autoscroll,\n\t\t\t// Edge's autoscroll seems too conditional,\n\t\t\t// MACOS Safari does not have autoscroll,\n\t\t\t// Firefox and Chrome are good\n\t\t\tif (fallback || Edge || IE11OrLess || Safari) {\n\t\t\t\t_autoScroll(evt, _this.options, elem, fallback);\n\n\t\t\t\t// Listener for pointer element change\n\t\t\t\tvar ogElemScroller = _getParentAutoScrollElement(elem, true);\n\t\t\t\tif (\n\t\t\t\t\tscrolling &&\n\t\t\t\t\t(\n\t\t\t\t\t\t!pointerElemChangedInterval ||\n\t\t\t\t\t\tx !== lastPointerElemX ||\n\t\t\t\t\t\ty !== lastPointerElemY\n\t\t\t\t\t)\n\t\t\t\t) {\n\n\t\t\t\t\tpointerElemChangedInterval && clearInterval(pointerElemChangedInterval);\n\t\t\t\t\t// Detect for pointer elem change, emulating native DnD behaviour\n\t\t\t\t\tpointerElemChangedInterval = setInterval(function() {\n\t\t\t\t\t\tif (!dragEl) return;\n\t\t\t\t\t\t// could also check if scroll direction on newElem changes due to parent autoscrolling\n\t\t\t\t\t\tvar newElem = _getParentAutoScrollElement(document.elementFromPoint(x, y), true);\n\t\t\t\t\t\tif (newElem !== ogElemScroller) {\n\t\t\t\t\t\t\togElemScroller = newElem;\n\t\t\t\t\t\t\t_clearAutoScrolls();\n\t\t\t\t\t\t\t_autoScroll(evt, _this.options, ogElemScroller, fallback);\n\t\t\t\t\t\t}\n\t\t\t\t\t}, 10);\n\t\t\t\t\tlastPointerElemX = x;\n\t\t\t\t\tlastPointerElemY = y;\n\t\t\t\t}\n\n\t\t\t} else {\n\t\t\t\t// if DnD is enabled (and browser has good autoscrolling), first autoscroll will already scroll, so get parent autoscroll of first autoscroll\n\t\t\t\tif (!_this.options.bubbleScroll || _getParentAutoScrollElement(elem, true) === _getWindowScrollingElement()) {\n\t\t\t\t\t_clearAutoScrolls();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t_autoScroll(evt, _this.options, _getParentAutoScrollElement(elem, false), false);\n\t\t\t}\n\t\t},\n\n\t\t_prepareDragStart: function (/** Event */evt, /** Touch */touch, /** HTMLElement */target, /** Number */startIndex, /** Number */startDraggableIndex) {\n\t\t\tvar _this = this,\n\t\t\t\tel = _this.el,\n\t\t\t\toptions = _this.options,\n\t\t\t\townerDocument = el.ownerDocument,\n\t\t\t\tdragStartFn;\n\n\t\t\tif (target && !dragEl && (target.parentNode === el)) {\n\t\t\t\trootEl = el;\n\t\t\t\tdragEl = target;\n\t\t\t\tparentEl = dragEl.parentNode;\n\t\t\t\tnextEl = dragEl.nextSibling;\n\t\t\t\tlastDownEl = target;\n\t\t\t\tactiveGroup = options.group;\n\t\t\t\toldIndex = startIndex;\n\t\t\t\toldDraggableIndex = startDraggableIndex;\n\n\t\t\t\ttapEvt = {\n\t\t\t\t\ttarget: dragEl,\n\t\t\t\t\tclientX: (touch || evt).clientX,\n\t\t\t\t\tclientY: (touch || evt).clientY\n\t\t\t\t};\n\n\t\t\t\tthis._lastX = (touch || evt).clientX;\n\t\t\t\tthis._lastY = (touch || evt).clientY;\n\n\t\t\t\tdragEl.style['will-change'] = 'all';\n\t\t\t\t// undo animation if needed\n\t\t\t\tdragEl.style.transition = '';\n\t\t\t\tdragEl.style.transform = '';\n\n\t\t\t\tdragStartFn = function () {\n\t\t\t\t\t// Delayed drag has been triggered\n\t\t\t\t\t// we can re-enable the events: touchmove/mousemove\n\t\t\t\t\t_this._disableDelayedDragEvents();\n\n\t\t\t\t\tif (!FireFox && _this.nativeDraggable) {\n\t\t\t\t\t\tdragEl.draggable = true;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Bind the events: dragstart/dragend\n\t\t\t\t\t_this._triggerDragStart(evt, touch);\n\n\t\t\t\t\t// Drag start event\n\t\t\t\t\t_dispatchEvent(_this, rootEl, 'choose', dragEl, rootEl, rootEl, oldIndex, undefined, oldDraggableIndex);\n\n\t\t\t\t\t// Chosen item\n\t\t\t\t\t_toggleClass(dragEl, options.chosenClass, true);\n\t\t\t\t};\n\n\t\t\t\t// Disable \"draggable\"\n\t\t\t\toptions.ignore.split(',').forEach(function (criteria) {\n\t\t\t\t\t_find(dragEl, criteria.trim(), _disableDraggable);\n\t\t\t\t});\n\n\t\t\t\t_on(ownerDocument, 'dragover', nearestEmptyInsertDetectEvent);\n\t\t\t\t_on(ownerDocument, 'mousemove', nearestEmptyInsertDetectEvent);\n\t\t\t\t_on(ownerDocument, 'touchmove', nearestEmptyInsertDetectEvent);\n\n\t\t\t\t_on(ownerDocument, 'mouseup', _this._onDrop);\n\t\t\t\t_on(ownerDocument, 'touchend', _this._onDrop);\n\t\t\t\t_on(ownerDocument, 'touchcancel', _this._onDrop);\n\n\t\t\t\t// Make dragEl draggable (must be before delay for FireFox)\n\t\t\t\tif (FireFox && this.nativeDraggable) {\n\t\t\t\t\tthis.options.touchStartThreshold = 4;\n\t\t\t\t\tdragEl.draggable = true;\n\t\t\t\t}\n\n\t\t\t\t// Delay is impossible for native DnD in Edge or IE\n\t\t\t\tif (options.delay && (options.delayOnTouchOnly ? touch : true) && (!this.nativeDraggable || !(Edge || IE11OrLess))) {\n\t\t\t\t\t// If the user moves the pointer or let go the click or touch\n\t\t\t\t\t// before the delay has been reached:\n\t\t\t\t\t// disable the delayed drag\n\t\t\t\t\t_on(ownerDocument, 'mouseup', _this._disableDelayedDrag);\n\t\t\t\t\t_on(ownerDocument, 'touchend', _this._disableDelayedDrag);\n\t\t\t\t\t_on(ownerDocument, 'touchcancel', _this._disableDelayedDrag);\n\t\t\t\t\t_on(ownerDocument, 'mousemove', _this._delayedDragTouchMoveHandler);\n\t\t\t\t\t_on(ownerDocument, 'touchmove', _this._delayedDragTouchMoveHandler);\n\t\t\t\t\toptions.supportPointer && _on(ownerDocument, 'pointermove', _this._delayedDragTouchMoveHandler);\n\n\t\t\t\t\t_this._dragStartTimer = setTimeout(dragStartFn, options.delay);\n\t\t\t\t} else {\n\t\t\t\t\tdragStartFn();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t_delayedDragTouchMoveHandler: function (/** TouchEvent|PointerEvent **/e) {\n\t\t\tvar touch = e.touches ? e.touches[0] : e;\n\t\t\tif (max(abs(touch.clientX - this._lastX), abs(touch.clientY - this._lastY))\n\t\t\t\t\t>= Math.floor(this.options.touchStartThreshold / (this.nativeDraggable && window.devicePixelRatio || 1))\n\t\t\t) {\n\t\t\t\tthis._disableDelayedDrag();\n\t\t\t}\n\t\t},\n\n\t\t_disableDelayedDrag: function () {\n\t\t\tdragEl && _disableDraggable(dragEl);\n\t\t\tclearTimeout(this._dragStartTimer);\n\n\t\t\tthis._disableDelayedDragEvents();\n\t\t},\n\n\t\t_disableDelayedDragEvents: function () {\n\t\t\tvar ownerDocument = this.el.ownerDocument;\n\t\t\t_off(ownerDocument, 'mouseup', this._disableDelayedDrag);\n\t\t\t_off(ownerDocument, 'touchend', this._disableDelayedDrag);\n\t\t\t_off(ownerDocument, 'touchcancel', this._disableDelayedDrag);\n\t\t\t_off(ownerDocument, 'mousemove', this._delayedDragTouchMoveHandler);\n\t\t\t_off(ownerDocument, 'touchmove', this._delayedDragTouchMoveHandler);\n\t\t\t_off(ownerDocument, 'pointermove', this._delayedDragTouchMoveHandler);\n\t\t},\n\n\t\t_triggerDragStart: function (/** Event */evt, /** Touch */touch) {\n\t\t\ttouch = touch || (evt.pointerType == 'touch' ? evt : null);\n\n\t\t\tif (!this.nativeDraggable || touch) {\n\t\t\t\tif (this.options.supportPointer) {\n\t\t\t\t\t_on(document, 'pointermove', this._onTouchMove);\n\t\t\t\t} else if (touch) {\n\t\t\t\t\t_on(document, 'touchmove', this._onTouchMove);\n\t\t\t\t} else {\n\t\t\t\t\t_on(document, 'mousemove', this._onTouchMove);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t_on(dragEl, 'dragend', this);\n\t\t\t\t_on(rootEl, 'dragstart', this._onDragStart);\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tif (document.selection) {\n\t\t\t\t\t// Timeout neccessary for IE9\n\t\t\t\t\t_nextTick(function () {\n\t\t\t\t\t\tdocument.selection.empty();\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\twindow.getSelection().removeAllRanges();\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t}\n\t\t},\n\n\t\t_dragStarted: function (fallback, evt) {\n\t\t\tawaitingDragStarted = false;\n\t\t\tif (rootEl && dragEl) {\n\t\t\t\tif (this.nativeDraggable) {\n\t\t\t\t\t_on(document, 'dragover', this._handleAutoScroll);\n\t\t\t\t\t_on(document, 'dragover', _checkAlignment);\n\t\t\t\t}\n\t\t\t\tvar options = this.options;\n\n\t\t\t\t// Apply effect\n\t\t\t\t!fallback && _toggleClass(dragEl, options.dragClass, false);\n\t\t\t\t_toggleClass(dragEl, options.ghostClass, true);\n\n\t\t\t\t// In case dragging an animated element\n\t\t\t\t_css(dragEl, 'transform', '');\n\n\t\t\t\tSortable.active = this;\n\n\t\t\t\tfallback && this._appendGhost();\n\n\t\t\t\t// Drag start event\n\t\t\t\t_dispatchEvent(this, rootEl, 'start', dragEl, rootEl, rootEl, oldIndex, undefined, oldDraggableIndex, undefined, evt);\n\t\t\t} else {\n\t\t\t\tthis._nulling();\n\t\t\t}\n\t\t},\n\n\t\t_emulateDragOver: function (forAutoScroll) {\n\t\t\tif (touchEvt) {\n\t\t\t\tif (this._lastX === touchEvt.clientX && this._lastY === touchEvt.clientY && !forAutoScroll) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis._lastX = touchEvt.clientX;\n\t\t\t\tthis._lastY = touchEvt.clientY;\n\n\t\t\t\t_hideGhostForTarget();\n\n\t\t\t\tvar target = document.elementFromPoint(touchEvt.clientX, touchEvt.clientY);\n\t\t\t\tvar parent = target;\n\n\t\t\t\twhile (target && target.shadowRoot) {\n\t\t\t\t\ttarget = target.shadowRoot.elementFromPoint(touchEvt.clientX, touchEvt.clientY);\n\t\t\t\t\tif (target === parent) break;\n\t\t\t\t\tparent = target;\n\t\t\t\t}\n\n\t\t\t\tif (parent) {\n\t\t\t\t\tdo {\n\t\t\t\t\t\tif (parent[expando]) {\n\t\t\t\t\t\t\tvar inserted;\n\n\t\t\t\t\t\t\tinserted = parent[expando]._onDragOver({\n\t\t\t\t\t\t\t\tclientX: touchEvt.clientX,\n\t\t\t\t\t\t\t\tclientY: touchEvt.clientY,\n\t\t\t\t\t\t\t\ttarget: target,\n\t\t\t\t\t\t\t\trootEl: parent\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tif (inserted && !this.options.dragoverBubble) {\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\ttarget = parent; // store last element\n\t\t\t\t\t}\n\t\t\t\t\t/* jshint boss:true */\n\t\t\t\t\twhile (parent = parent.parentNode);\n\t\t\t\t}\n\t\t\t\tdragEl.parentNode[expando]._computeIsAligned(touchEvt);\n\n\t\t\t\t_unhideGhostForTarget();\n\t\t\t}\n\t\t},\n\n\n\t\t_onTouchMove: function (/**TouchEvent*/evt, forAutoScroll) {\n\t\t\tif (tapEvt) {\n\t\t\t\tvar\toptions = this.options,\n\t\t\t\t\tfallbackTolerance = options.fallbackTolerance,\n\t\t\t\t\tfallbackOffset = options.fallbackOffset,\n\t\t\t\t\ttouch = evt.touches ? evt.touches[0] : evt,\n\t\t\t\t\tmatrix = ghostEl && _matrix(ghostEl),\n\t\t\t\t\tscaleX = ghostEl && matrix && matrix.a,\n\t\t\t\t\tscaleY = ghostEl && matrix && matrix.d,\n\t\t\t\t\trelativeScrollOffset = PositionGhostAbsolutely && ghostRelativeParent && _getRelativeScrollOffset(ghostRelativeParent),\n\t\t\t\t\tdx = ((touch.clientX - tapEvt.clientX)\n\t\t\t\t\t\t\t+ fallbackOffset.x) / (scaleX || 1)\n\t\t\t\t\t\t\t+ (relativeScrollOffset ? (relativeScrollOffset[0] - ghostRelativeParentInitialScroll[0]) : 0) / (scaleX || 1),\n\t\t\t\t\tdy = ((touch.clientY - tapEvt.clientY)\n\t\t\t\t\t\t\t+ fallbackOffset.y) / (scaleY || 1)\n\t\t\t\t\t\t\t+ (relativeScrollOffset ? (relativeScrollOffset[1] - ghostRelativeParentInitialScroll[1]) : 0) / (scaleY || 1),\n\t\t\t\t\ttranslate3d = evt.touches ? 'translate3d(' + dx + 'px,' + dy + 'px,0)' : 'translate(' + dx + 'px,' + dy + 'px)';\n\n\t\t\t\t// only set the status to dragging, when we are actually dragging\n\t\t\t\tif (!Sortable.active && !awaitingDragStarted) {\n\t\t\t\t\tif (fallbackTolerance &&\n\t\t\t\t\t\tmin(abs(touch.clientX - this._lastX), abs(touch.clientY - this._lastY)) < fallbackTolerance\n\t\t\t\t\t) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tthis._onDragStart(evt, true);\n\t\t\t\t}\n\n\t\t\t\t!forAutoScroll && this._handleAutoScroll(touch, true);\n\n\t\t\t\tmoved = true;\n\t\t\t\ttouchEvt = touch;\n\n\t\t\t\t_css(ghostEl, 'webkitTransform', translate3d);\n\t\t\t\t_css(ghostEl, 'mozTransform', translate3d);\n\t\t\t\t_css(ghostEl, 'msTransform', translate3d);\n\t\t\t\t_css(ghostEl, 'transform', translate3d);\n\n\t\t\t\tevt.cancelable && evt.preventDefault();\n\t\t\t}\n\t\t},\n\n\t\t_appendGhost: function () {\n\t\t\t// Bug if using scale(): https://stackoverflow.com/questions/2637058\n\t\t\t// Not being adjusted for\n\t\t\tif (!ghostEl) {\n\t\t\t\tvar container = this.options.fallbackOnBody ? document.body : rootEl,\n\t\t\t\t\trect = _getRect(dragEl, true, container, !PositionGhostAbsolutely),\n\t\t\t\t\tcss = _css(dragEl),\n\t\t\t\t\toptions = this.options;\n\n\t\t\t\t// Position absolutely\n\t\t\t\tif (PositionGhostAbsolutely) {\n\t\t\t\t\t// Get relatively positioned parent\n\t\t\t\t\tghostRelativeParent = container;\n\n\t\t\t\t\twhile (\n\t\t\t\t\t\t_css(ghostRelativeParent, 'position') === 'static' &&\n\t\t\t\t\t\t_css(ghostRelativeParent, 'transform') === 'none' &&\n\t\t\t\t\t\tghostRelativeParent !== document\n\t\t\t\t\t) {\n\t\t\t\t\t\tghostRelativeParent = ghostRelativeParent.parentNode;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (ghostRelativeParent !== document) {\n\t\t\t\t\t\tvar ghostRelativeParentRect = _getRect(ghostRelativeParent, true);\n\n\t\t\t\t\t\trect.top -= ghostRelativeParentRect.top;\n\t\t\t\t\t\trect.left -= ghostRelativeParentRect.left;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (ghostRelativeParent !== document.body && ghostRelativeParent !== document.documentElement) {\n\t\t\t\t\t\tif (ghostRelativeParent === document) ghostRelativeParent = _getWindowScrollingElement();\n\n\t\t\t\t\t\trect.top += ghostRelativeParent.scrollTop;\n\t\t\t\t\t\trect.left += ghostRelativeParent.scrollLeft;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tghostRelativeParent = _getWindowScrollingElement();\n\t\t\t\t\t}\n\t\t\t\t\tghostRelativeParentInitialScroll = _getRelativeScrollOffset(ghostRelativeParent);\n\t\t\t\t}\n\n\n\t\t\t\tghostEl = dragEl.cloneNode(true);\n\n\t\t\t\t_toggleClass(ghostEl, options.ghostClass, false);\n\t\t\t\t_toggleClass(ghostEl, options.fallbackClass, true);\n\t\t\t\t_toggleClass(ghostEl, options.dragClass, true);\n\n\t\t\t\t_css(ghostEl, 'box-sizing', 'border-box');\n\t\t\t\t_css(ghostEl, 'margin', 0);\n\t\t\t\t_css(ghostEl, 'top', rect.top);\n\t\t\t\t_css(ghostEl, 'left', rect.left);\n\t\t\t\t_css(ghostEl, 'width', rect.width);\n\t\t\t\t_css(ghostEl, 'height', rect.height);\n\t\t\t\t_css(ghostEl, 'opacity', '0.8');\n\t\t\t\t_css(ghostEl, 'position', (PositionGhostAbsolutely ? 'absolute' : 'fixed'));\n\t\t\t\t_css(ghostEl, 'zIndex', '100000');\n\t\t\t\t_css(ghostEl, 'pointerEvents', 'none');\n\n\t\t\t\tcontainer.appendChild(ghostEl);\n\t\t\t}\n\t\t},\n\n\t\t_onDragStart: function (/**Event*/evt, /**boolean*/fallback) {\n\t\t\tvar _this = this;\n\t\t\tvar dataTransfer = evt.dataTransfer;\n\t\t\tvar options = _this.options;\n\n\t\t\t// Setup clone\n\t\t\tcloneEl = _clone(dragEl);\n\n\t\t\tcloneEl.draggable = false;\n\t\t\tcloneEl.style['will-change'] = '';\n\n\t\t\tthis._hideClone();\n\n\t\t\t_toggleClass(cloneEl, _this.options.chosenClass, false);\n\n\n\t\t\t// #1143: IFrame support workaround\n\t\t\t_this._cloneId = _nextTick(function () {\n\t\t\t\tif (!_this.options.removeCloneOnHide) {\n\t\t\t\t\trootEl.insertBefore(cloneEl, dragEl);\n\t\t\t\t}\n\t\t\t\t_dispatchEvent(_this, rootEl, 'clone', dragEl);\n\t\t\t});\n\n\n\t\t\t!fallback && _toggleClass(dragEl, options.dragClass, true);\n\n\t\t\t// Set proper drop events\n\t\t\tif (fallback) {\n\t\t\t\tignoreNextClick = true;\n\t\t\t\t_this._loopId = setInterval(_this._emulateDragOver, 50);\n\t\t\t} else {\n\t\t\t\t// Undo what was set in _prepareDragStart before drag started\n\t\t\t\t_off(document, 'mouseup', _this._onDrop);\n\t\t\t\t_off(document, 'touchend', _this._onDrop);\n\t\t\t\t_off(document, 'touchcancel', _this._onDrop);\n\n\t\t\t\tif (dataTransfer) {\n\t\t\t\t\tdataTransfer.effectAllowed = 'move';\n\t\t\t\t\toptions.setData && options.setData.call(_this, dataTransfer, dragEl);\n\t\t\t\t}\n\n\t\t\t\t_on(document, 'drop', _this);\n\n\t\t\t\t// #1276 fix:\n\t\t\t\t_css(dragEl, 'transform', 'translateZ(0)');\n\t\t\t}\n\n\t\t\tawaitingDragStarted = true;\n\n\t\t\t_this._dragStartId = _nextTick(_this._dragStarted.bind(_this, fallback, evt));\n\t\t\t_on(document, 'selectstart', _this);\n\t\t\tif (Safari) {\n\t\t\t\t_css(document.body, 'user-select', 'none');\n\t\t\t}\n\t\t},\n\n\n\t\t// Returns true - if no further action is needed (either inserted or another condition)\n\t\t_onDragOver: function (/**Event*/evt) {\n\t\t\tvar el = this.el,\n\t\t\t\ttarget = evt.target,\n\t\t\t\tdragRect,\n\t\t\t\ttargetRect,\n\t\t\t\trevert,\n\t\t\t\toptions = this.options,\n\t\t\t\tgroup = options.group,\n\t\t\t\tactiveSortable = Sortable.active,\n\t\t\t\tisOwner = (activeGroup === group),\n\t\t\t\tcanSort = options.sort,\n\t\t\t\t_this = this;\n\n\t\t\tif (_silent) return;\n\n\t\t\t// Return invocation when dragEl is inserted (or completed)\n\t\t\tfunction completed(insertion) {\n\t\t\t\tif (insertion) {\n\t\t\t\t\tif (isOwner) {\n\t\t\t\t\t\tactiveSortable._hideClone();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tactiveSortable._showClone(_this);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (activeSortable) {\n\t\t\t\t\t\t// Set ghost class to new sortable's ghost class\n\t\t\t\t\t\t_toggleClass(dragEl, putSortable ? putSortable.options.ghostClass : activeSortable.options.ghostClass, false);\n\t\t\t\t\t\t_toggleClass(dragEl, options.ghostClass, true);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (putSortable !== _this && _this !== Sortable.active) {\n\t\t\t\t\t\tputSortable = _this;\n\t\t\t\t\t} else if (_this === Sortable.active) {\n\t\t\t\t\t\tputSortable = null;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Animation\n\t\t\t\t\tdragRect && _this._animate(dragRect, dragEl);\n\t\t\t\t\ttarget && targetRect && _this._animate(targetRect, target);\n\t\t\t\t}\n\n\n\t\t\t\t// Null lastTarget if it is not inside a previously swapped element\n\t\t\t\tif ((target === dragEl && !dragEl.animated) || (target === el && !target.animated)) {\n\t\t\t\t\tlastTarget = null;\n\t\t\t\t}\n\n\t\t\t\t// no bubbling and not fallback\n\t\t\t\tif (!options.dragoverBubble && !evt.rootEl && target !== document) {\n\t\t\t\t\t_this._handleAutoScroll(evt);\n\t\t\t\t\tdragEl.parentNode[expando]._computeIsAligned(evt);\n\n\t\t\t\t\t// Do not detect for empty insert if already inserted\n\t\t\t\t\t!insertion && nearestEmptyInsertDetectEvent(evt);\n\t\t\t\t}\n\n\t\t\t\t!options.dragoverBubble && evt.stopPropagation && evt.stopPropagation();\n\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t// Call when dragEl has been inserted\n\t\t\tfunction changed() {\n\t\t\t\t_dispatchEvent(_this, rootEl, 'change', target, el, rootEl, oldIndex, _index(dragEl), oldDraggableIndex, _index(dragEl, options.draggable), evt);\n\t\t\t}\n\n\n\t\t\tif (evt.preventDefault !== void 0) {\n\t\t\t\tevt.cancelable && evt.preventDefault();\n\t\t\t}\n\n\n\t\t\tmoved = true;\n\n\t\t\ttarget = _closest(target, options.draggable, el, true);\n\n\t\t\t// target is dragEl or target is animated\n\t\t\tif (dragEl.contains(evt.target) || target.animated) {\n\t\t\t\treturn completed(false);\n\t\t\t}\n\n\t\t\tif (target !== dragEl) {\n\t\t\t\tignoreNextClick = false;\n\t\t\t}\n\n\t\t\tif (activeSortable && !options.disabled &&\n\t\t\t\t(isOwner\n\t\t\t\t\t? canSort || (revert = !rootEl.contains(dragEl)) // Reverting item into the original list\n\t\t\t\t\t: (\n\t\t\t\t\t\tputSortable === this ||\n\t\t\t\t\t\t(\n\t\t\t\t\t\t\t(this.lastPutMode = activeGroup.checkPull(this, activeSortable, dragEl, evt)) &&\n\t\t\t\t\t\t\tgroup.checkPut(this, activeSortable, dragEl, evt)\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t) {\n\t\t\t\tvar axis = this._getDirection(evt, target);\n\n\t\t\t\tdragRect = _getRect(dragEl);\n\n\t\t\t\tif (revert) {\n\t\t\t\t\tthis._hideClone();\n\t\t\t\t\tparentEl = rootEl; // actualization\n\n\t\t\t\t\tif (nextEl) {\n\t\t\t\t\t\trootEl.insertBefore(dragEl, nextEl);\n\t\t\t\t\t} else {\n\t\t\t\t\t\trootEl.appendChild(dragEl);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn completed(true);\n\t\t\t\t}\n\n\t\t\t\tvar elLastChild = _lastChild(el);\n\n\t\t\t\tif (!elLastChild || _ghostIsLast(evt, axis, el) && !elLastChild.animated) {\n\t\t\t\t\t// assign target only if condition is true\n\t\t\t\t\tif (elLastChild && el === evt.target) {\n\t\t\t\t\t\ttarget = elLastChild;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (target) {\n\t\t\t\t\t\ttargetRect = _getRect(target);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (isOwner) {\n\t\t\t\t\t\tactiveSortable._hideClone();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tactiveSortable._showClone(this);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (_onMove(rootEl, el, dragEl, dragRect, target, targetRect, evt, !!target) !== false) {\n\t\t\t\t\t\tel.appendChild(dragEl);\n\t\t\t\t\t\tparentEl = el; // actualization\n\t\t\t\t\t\trealDragElRect = null;\n\n\t\t\t\t\t\tchanged();\n\t\t\t\t\t\treturn completed(true);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if (target && target !== dragEl && target.parentNode === el) {\n\t\t\t\t\tvar direction = 0,\n\t\t\t\t\t\ttargetBeforeFirstSwap,\n\t\t\t\t\t\taligned = target.sortableMouseAligned,\n\t\t\t\t\t\tdifferentLevel = dragEl.parentNode !== el,\n\t\t\t\t\t\tside1 = axis === 'vertical' ? 'top' : 'left',\n\t\t\t\t\t\tscrolledPastTop = _isScrolledPast(target, 'top') || _isScrolledPast(dragEl, 'top'),\n\t\t\t\t\t\tscrollBefore = scrolledPastTop ? scrolledPastTop.scrollTop : void 0;\n\n\n\t\t\t\t\tif (lastTarget !== target) {\n\t\t\t\t\t\tlastMode = null;\n\t\t\t\t\t\ttargetBeforeFirstSwap = _getRect(target)[side1];\n\t\t\t\t\t\tpastFirstInvertThresh = false;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Reference: https://www.lucidchart.com/documents/view/10fa0e93-e362-4126-aca2-b709ee56bd8b/0\n\t\t\t\t\tif (\n\t\t\t\t\t\t_isElInRowColumn(dragEl, target, axis) && aligned ||\n\t\t\t\t\t\tdifferentLevel ||\n\t\t\t\t\t\tscrolledPastTop ||\n\t\t\t\t\t\toptions.invertSwap ||\n\t\t\t\t\t\tlastMode === 'insert' ||\n\t\t\t\t\t\t// Needed, in the case that we are inside target and inserted because not aligned... aligned will stay false while inside\n\t\t\t\t\t\t// and lastMode will change to 'insert', but we must swap\n\t\t\t\t\t\tlastMode === 'swap'\n\t\t\t\t\t) {\n\t\t\t\t\t\t// New target that we will be inside\n\t\t\t\t\t\tif (lastMode !== 'swap') {\n\t\t\t\t\t\t\tisCircumstantialInvert = options.invertSwap || differentLevel;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tdirection = _getSwapDirection(evt, target, axis,\n\t\t\t\t\t\t\toptions.swapThreshold, options.invertedSwapThreshold == null ? options.swapThreshold : options.invertedSwapThreshold,\n\t\t\t\t\t\t\tisCircumstantialInvert,\n\t\t\t\t\t\t\tlastTarget === target);\n\t\t\t\t\t\tlastMode = 'swap';\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// Insert at position\n\t\t\t\t\t\tdirection = _getInsertDirection(target);\n\t\t\t\t\t\tlastMode = 'insert';\n\t\t\t\t\t}\n\t\t\t\t\tif (direction === 0) return completed(false);\n\n\t\t\t\t\trealDragElRect = null;\n\t\t\t\t\tlastTarget = target;\n\n\t\t\t\t\tlastDirection = direction;\n\n\t\t\t\t\ttargetRect = _getRect(target);\n\n\t\t\t\t\tvar nextSibling = target.nextElementSibling,\n\t\t\t\t\t\tafter = false;\n\n\t\t\t\t\tafter = direction === 1;\n\n\t\t\t\t\tvar moveVector = _onMove(rootEl, el, dragEl, dragRect, target, targetRect, evt, after);\n\n\t\t\t\t\tif (moveVector !== false) {\n\t\t\t\t\t\tif (moveVector === 1 || moveVector === -1) {\n\t\t\t\t\t\t\tafter = (moveVector === 1);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t_silent = true;\n\t\t\t\t\t\tsetTimeout(_unsilent, 30);\n\n\t\t\t\t\t\tif (isOwner) {\n\t\t\t\t\t\t\tactiveSortable._hideClone();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tactiveSortable._showClone(this);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (after && !nextSibling) {\n\t\t\t\t\t\t\tel.appendChild(dragEl);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttarget.parentNode.insertBefore(dragEl, after ? nextSibling : target);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Undo chrome's scroll adjustment\n\t\t\t\t\t\tif (scrolledPastTop) {\n\t\t\t\t\t\t\t_scrollBy(scrolledPastTop, 0, scrollBefore - scrolledPastTop.scrollTop);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tparentEl = dragEl.parentNode; // actualization\n\n\t\t\t\t\t\t// must be done before animation\n\t\t\t\t\t\tif (targetBeforeFirstSwap !== undefined && !isCircumstantialInvert) {\n\t\t\t\t\t\t\ttargetMoveDistance = abs(targetBeforeFirstSwap - _getRect(target)[side1]);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tchanged();\n\n\t\t\t\t\t\treturn completed(true);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (el.contains(dragEl)) {\n\t\t\t\t\treturn completed(false);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn false;\n\t\t},\n\n\t\t_animate: function (prevRect, target) {\n\t\t\tvar ms = this.options.animation;\n\n\t\t\tif (ms) {\n\t\t\t\tvar currentRect = _getRect(target);\n\n\t\t\t\tif (target === dragEl) {\n\t\t\t\t\trealDragElRect = currentRect;\n\t\t\t\t}\n\n\t\t\t\tif (prevRect.nodeType === 1) {\n\t\t\t\t\tprevRect = _getRect(prevRect);\n\t\t\t\t}\n\n\t\t\t\t// Check if actually moving position\n\t\t\t\tif ((prevRect.left + prevRect.width / 2) !== (currentRect.left + currentRect.width / 2)\n\t\t\t\t\t|| (prevRect.top + prevRect.height / 2) !== (currentRect.top + currentRect.height / 2)\n\t\t\t\t) {\n\t\t\t\t\tvar matrix = _matrix(this.el),\n\t\t\t\t\t\tscaleX = matrix && matrix.a,\n\t\t\t\t\t\tscaleY = matrix && matrix.d;\n\n\t\t\t\t\t_css(target, 'transition', 'none');\n\t\t\t\t\t_css(target, 'transform', 'translate3d('\n\t\t\t\t\t\t+ (prevRect.left - currentRect.left) / (scaleX ? scaleX : 1) + 'px,'\n\t\t\t\t\t\t+ (prevRect.top - currentRect.top) / (scaleY ? scaleY : 1) + 'px,0)'\n\t\t\t\t\t);\n\n\t\t\t\t\tthis._repaint(target);\n\t\t\t\t\t_css(target, 'transition', 'transform ' + ms + 'ms' + (this.options.easing ? ' ' + this.options.easing : ''));\n\t\t\t\t\t_css(target, 'transform', 'translate3d(0,0,0)');\n\t\t\t\t}\n\n\t\t\t\t(typeof target.animated === 'number') && clearTimeout(target.animated);\n\t\t\t\ttarget.animated = setTimeout(function () {\n\t\t\t\t\t_css(target, 'transition', '');\n\t\t\t\t\t_css(target, 'transform', '');\n\t\t\t\t\ttarget.animated = false;\n\t\t\t\t}, ms);\n\t\t\t}\n\t\t},\n\n\t\t_repaint: function(target) {\n\t\t\treturn target.offsetWidth;\n\t\t},\n\n\t\t_offMoveEvents: function() {\n\t\t\t_off(document, 'touchmove', this._onTouchMove);\n\t\t\t_off(document, 'pointermove', this._onTouchMove);\n\t\t\t_off(document, 'dragover', nearestEmptyInsertDetectEvent);\n\t\t\t_off(document, 'mousemove', nearestEmptyInsertDetectEvent);\n\t\t\t_off(document, 'touchmove', nearestEmptyInsertDetectEvent);\n\t\t},\n\n\t\t_offUpEvents: function () {\n\t\t\tvar ownerDocument = this.el.ownerDocument;\n\n\t\t\t_off(ownerDocument, 'mouseup', this._onDrop);\n\t\t\t_off(ownerDocument, 'touchend', this._onDrop);\n\t\t\t_off(ownerDocument, 'pointerup', this._onDrop);\n\t\t\t_off(ownerDocument, 'touchcancel', this._onDrop);\n\t\t\t_off(document, 'selectstart', this);\n\t\t},\n\n\t\t_onDrop: function (/**Event*/evt) {\n\t\t\tvar el = this.el,\n\t\t\t\toptions = this.options;\n\t\t\tawaitingDragStarted = false;\n\t\t\tscrolling = false;\n\t\t\tisCircumstantialInvert = false;\n\t\t\tpastFirstInvertThresh = false;\n\n\t\t\tclearInterval(this._loopId);\n\n\t\t\tclearInterval(pointerElemChangedInterval);\n\t\t\t_clearAutoScrolls();\n\t\t\t_cancelThrottle();\n\n\t\t\tclearTimeout(this._dragStartTimer);\n\n\t\t\t_cancelNextTick(this._cloneId);\n\t\t\t_cancelNextTick(this._dragStartId);\n\n\t\t\t// Unbind events\n\t\t\t_off(document, 'mousemove', this._onTouchMove);\n\n\n\t\t\tif (this.nativeDraggable) {\n\t\t\t\t_off(document, 'drop', this);\n\t\t\t\t_off(el, 'dragstart', this._onDragStart);\n\t\t\t\t_off(document, 'dragover', this._handleAutoScroll);\n\t\t\t\t_off(document, 'dragover', _checkAlignment);\n\t\t\t}\n\n\t\t\tif (Safari) {\n\t\t\t\t_css(document.body, 'user-select', '');\n\t\t\t}\n\n\t\t\tthis._offMoveEvents();\n\t\t\tthis._offUpEvents();\n\n\t\t\tif (evt) {\n\t\t\t\tif (moved) {\n\t\t\t\t\tevt.cancelable && evt.preventDefault();\n\t\t\t\t\t!options.dropBubble && evt.stopPropagation();\n\t\t\t\t}\n\n\t\t\t\tghostEl && ghostEl.parentNode && ghostEl.parentNode.removeChild(ghostEl);\n\n\t\t\t\tif (rootEl === parentEl || (putSortable && putSortable.lastPutMode !== 'clone')) {\n\t\t\t\t\t// Remove clone\n\t\t\t\t\tcloneEl && cloneEl.parentNode && cloneEl.parentNode.removeChild(cloneEl);\n\t\t\t\t}\n\n\t\t\t\tif (dragEl) {\n\t\t\t\t\tif (this.nativeDraggable) {\n\t\t\t\t\t\t_off(dragEl, 'dragend', this);\n\t\t\t\t\t}\n\n\t\t\t\t\t_disableDraggable(dragEl);\n\t\t\t\t\tdragEl.style['will-change'] = '';\n\n\t\t\t\t\t// Remove class's\n\t\t\t\t\t_toggleClass(dragEl, putSortable ? putSortable.options.ghostClass : this.options.ghostClass, false);\n\t\t\t\t\t_toggleClass(dragEl, this.options.chosenClass, false);\n\n\t\t\t\t\t// Drag stop event\n\t\t\t\t\t_dispatchEvent(this, rootEl, 'unchoose', dragEl, parentEl, rootEl, oldIndex, null, oldDraggableIndex, null, evt);\n\n\t\t\t\t\tif (rootEl !== parentEl) {\n\t\t\t\t\t\tnewIndex = _index(dragEl);\n\t\t\t\t\t\tnewDraggableIndex = _index(dragEl, options.draggable);\n\n\t\t\t\t\t\tif (newIndex >= 0) {\n\t\t\t\t\t\t\t// Add event\n\t\t\t\t\t\t\t_dispatchEvent(null, parentEl, 'add', dragEl, parentEl, rootEl, oldIndex, newIndex, oldDraggableIndex, newDraggableIndex, evt);\n\n\t\t\t\t\t\t\t// Remove event\n\t\t\t\t\t\t\t_dispatchEvent(this, rootEl, 'remove', dragEl, parentEl, rootEl, oldIndex, newIndex, oldDraggableIndex, newDraggableIndex, evt);\n\n\t\t\t\t\t\t\t// drag from one list and drop into another\n\t\t\t\t\t\t\t_dispatchEvent(null, parentEl, 'sort', dragEl, parentEl, rootEl, oldIndex, newIndex, oldDraggableIndex, newDraggableIndex, evt);\n\t\t\t\t\t\t\t_dispatchEvent(this, rootEl, 'sort', dragEl, parentEl, rootEl, oldIndex, newIndex, oldDraggableIndex, newDraggableIndex, evt);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tputSortable && putSortable.save();\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tif (dragEl.nextSibling !== nextEl) {\n\t\t\t\t\t\t\t// Get the index of the dragged element within its parent\n\t\t\t\t\t\t\tnewIndex = _index(dragEl);\n\t\t\t\t\t\t\tnewDraggableIndex = _index(dragEl, options.draggable);\n\n\t\t\t\t\t\t\tif (newIndex >= 0) {\n\t\t\t\t\t\t\t\t// drag & drop within the same list\n\t\t\t\t\t\t\t\t_dispatchEvent(this, rootEl, 'update', dragEl, parentEl, rootEl, oldIndex, newIndex, oldDraggableIndex, newDraggableIndex, evt);\n\t\t\t\t\t\t\t\t_dispatchEvent(this, rootEl, 'sort', dragEl, parentEl, rootEl, oldIndex, newIndex, oldDraggableIndex, newDraggableIndex, evt);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (Sortable.active) {\n\t\t\t\t\t\t/* jshint eqnull:true */\n\t\t\t\t\t\tif (newIndex == null || newIndex === -1) {\n\t\t\t\t\t\t\tnewIndex = oldIndex;\n\t\t\t\t\t\t\tnewDraggableIndex = oldDraggableIndex;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t_dispatchEvent(this, rootEl, 'end', dragEl, parentEl, rootEl, oldIndex, newIndex, oldDraggableIndex, newDraggableIndex, evt);\n\n\t\t\t\t\t\t// Save sorting\n\t\t\t\t\t\tthis.save();\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t}\n\t\t\tthis._nulling();\n\t\t},\n\n\t\t_nulling: function() {\n\t\t\trootEl =\n\t\t\tdragEl =\n\t\t\tparentEl =\n\t\t\tghostEl =\n\t\t\tnextEl =\n\t\t\tcloneEl =\n\t\t\tlastDownEl =\n\n\t\t\tscrollEl =\n\t\t\tscrollParentEl =\n\t\t\tautoScrolls.length =\n\n\t\t\tpointerElemChangedInterval =\n\t\t\tlastPointerElemX =\n\t\t\tlastPointerElemY =\n\n\t\t\ttapEvt =\n\t\t\ttouchEvt =\n\n\t\t\tmoved =\n\t\t\tnewIndex =\n\t\t\toldIndex =\n\n\t\t\tlastTarget =\n\t\t\tlastDirection =\n\n\t\t\trealDragElRect =\n\n\t\t\tputSortable =\n\t\t\tactiveGroup =\n\t\t\tSortable.active = null;\n\n\t\t\tsavedInputChecked.forEach(function (el) {\n\t\t\t\tel.checked = true;\n\t\t\t});\n\n\t\t\tsavedInputChecked.length = 0;\n\t\t},\n\n\t\thandleEvent: function (/**Event*/evt) {\n\t\t\tswitch (evt.type) {\n\t\t\t\tcase 'drop':\n\t\t\t\tcase 'dragend':\n\t\t\t\t\tthis._onDrop(evt);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'dragenter':\n\t\t\t\tcase 'dragover':\n\t\t\t\t\tif (dragEl) {\n\t\t\t\t\t\tthis._onDragOver(evt);\n\t\t\t\t\t\t_globalDragOver(evt);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'selectstart':\n\t\t\t\t\tevt.preventDefault();\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t},\n\n\n\t\t/**\n\t\t * Serializes the item into an array of string.\n\t\t * @returns {String[]}\n\t\t */\n\t\ttoArray: function () {\n\t\t\tvar order = [],\n\t\t\t\tel,\n\t\t\t\tchildren = this.el.children,\n\t\t\t\ti = 0,\n\t\t\t\tn = children.length,\n\t\t\t\toptions = this.options;\n\n\t\t\tfor (; i < n; i++) {\n\t\t\t\tel = children[i];\n\t\t\t\tif (_closest(el, options.draggable, this.el, false)) {\n\t\t\t\t\torder.push(el.getAttribute(options.dataIdAttr) || _generateId(el));\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn order;\n\t\t},\n\n\n\t\t/**\n\t\t * Sorts the elements according to the array.\n\t\t * @param  {String[]}  order  order of the items\n\t\t */\n\t\tsort: function (order) {\n\t\t\tvar items = {}, rootEl = this.el;\n\n\t\t\tthis.toArray().forEach(function (id, i) {\n\t\t\t\tvar el = rootEl.children[i];\n\n\t\t\t\tif (_closest(el, this.options.draggable, rootEl, false)) {\n\t\t\t\t\titems[id] = el;\n\t\t\t\t}\n\t\t\t}, this);\n\n\t\t\torder.forEach(function (id) {\n\t\t\t\tif (items[id]) {\n\t\t\t\t\trootEl.removeChild(items[id]);\n\t\t\t\t\trootEl.appendChild(items[id]);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\n\t\t/**\n\t\t * Save the current sorting\n\t\t */\n\t\tsave: function () {\n\t\t\tvar store = this.options.store;\n\t\t\tstore && store.set && store.set(this);\n\t\t},\n\n\n\t\t/**\n\t\t * For each element in the set, get the first element that matches the selector by testing the element itself and traversing up through its ancestors in the DOM tree.\n\t\t * @param   {HTMLElement}  el\n\t\t * @param   {String}       [selector]  default: `options.draggable`\n\t\t * @returns {HTMLElement|null}\n\t\t */\n\t\tclosest: function (el, selector) {\n\t\t\treturn _closest(el, selector || this.options.draggable, this.el, false);\n\t\t},\n\n\n\t\t/**\n\t\t * Set/get option\n\t\t * @param   {string} name\n\t\t * @param   {*}      [value]\n\t\t * @returns {*}\n\t\t */\n\t\toption: function (name, value) {\n\t\t\tvar options = this.options;\n\n\t\t\tif (value === void 0) {\n\t\t\t\treturn options[name];\n\t\t\t} else {\n\t\t\t\toptions[name] = value;\n\n\t\t\t\tif (name === 'group') {\n\t\t\t\t\t_prepareGroup(options);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\n\t\t/**\n\t\t * Destroy\n\t\t */\n\t\tdestroy: function () {\n\t\t\tvar el = this.el;\n\n\t\t\tel[expando] = null;\n\n\t\t\t_off(el, 'mousedown', this._onTapStart);\n\t\t\t_off(el, 'touchstart', this._onTapStart);\n\t\t\t_off(el, 'pointerdown', this._onTapStart);\n\n\t\t\tif (this.nativeDraggable) {\n\t\t\t\t_off(el, 'dragover', this);\n\t\t\t\t_off(el, 'dragenter', this);\n\t\t\t}\n\t\t\t// Remove draggable attributes\n\t\t\tArray.prototype.forEach.call(el.querySelectorAll('[draggable]'), function (el) {\n\t\t\t\tel.removeAttribute('draggable');\n\t\t\t});\n\n\t\t\tthis._onDrop();\n\n\t\t\tsortables.splice(sortables.indexOf(this.el), 1);\n\n\t\t\tthis.el = el = null;\n\t\t},\n\n\t\t_hideClone: function() {\n\t\t\tif (!cloneEl.cloneHidden) {\n\t\t\t\t_css(cloneEl, 'display', 'none');\n\t\t\t\tcloneEl.cloneHidden = true;\n\t\t\t\tif (cloneEl.parentNode && this.options.removeCloneOnHide) {\n\t\t\t\t\tcloneEl.parentNode.removeChild(cloneEl);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t_showClone: function(putSortable) {\n\t\t\tif (putSortable.lastPutMode !== 'clone') {\n\t\t\t\tthis._hideClone();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (cloneEl.cloneHidden) {\n\t\t\t\t// show clone at dragEl or original position\n\t\t\t\tif (rootEl.contains(dragEl) && !this.options.group.revertClone) {\n\t\t\t\t\trootEl.insertBefore(cloneEl, dragEl);\n\t\t\t\t} else if (nextEl) {\n\t\t\t\t\trootEl.insertBefore(cloneEl, nextEl);\n\t\t\t\t} else {\n\t\t\t\t\trootEl.appendChild(cloneEl);\n\t\t\t\t}\n\n\t\t\t\tif (this.options.group.revertClone) {\n\t\t\t\t\tthis._animate(dragEl, cloneEl);\n\t\t\t\t}\n\t\t\t\t_css(cloneEl, 'display', '');\n\t\t\t\tcloneEl.cloneHidden = false;\n\t\t\t}\n\t\t}\n\t};\n\n\tfunction _closest(/**HTMLElement*/el, /**String*/selector, /**HTMLElement*/ctx, includeCTX) {\n\t\tif (el) {\n\t\t\tctx = ctx || document;\n\n\t\t\tdo {\n\t\t\t\tif (\n\t\t\t\t\tselector != null &&\n\t\t\t\t\t(\n\t\t\t\t\t\tselector[0] === '>' ?\n\t\t\t\t\t\tel.parentNode === ctx && _matches(el, selector) :\n\t\t\t\t\t\t_matches(el, selector)\n\t\t\t\t\t) ||\n\t\t\t\t\tincludeCTX && el === ctx\n\t\t\t\t) {\n\t\t\t\t\treturn el;\n\t\t\t\t}\n\n\t\t\t\tif (el === ctx) break;\n\t\t\t\t/* jshint boss:true */\n\t\t\t} while (el = _getParentOrHost(el));\n\t\t}\n\n\t\treturn null;\n\t}\n\n\n\tfunction _getParentOrHost(el) {\n\t\treturn (el.host && el !== document && el.host.nodeType)\n\t\t\t? el.host\n\t\t\t: el.parentNode;\n\t}\n\n\n\tfunction _globalDragOver(/**Event*/evt) {\n\t\tif (evt.dataTransfer) {\n\t\t\tevt.dataTransfer.dropEffect = 'move';\n\t\t}\n\t\tevt.cancelable && evt.preventDefault();\n\t}\n\n\n\tfunction _on(el, event, fn) {\n\t\tel.addEventListener(event, fn, IE11OrLess ? false : captureMode);\n\t}\n\n\n\tfunction _off(el, event, fn) {\n\t\tel.removeEventListener(event, fn, IE11OrLess ? false : captureMode);\n\t}\n\n\n\tfunction _toggleClass(el, name, state) {\n\t\tif (el && name) {\n\t\t\tif (el.classList) {\n\t\t\t\tel.classList[state ? 'add' : 'remove'](name);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tvar className = (' ' + el.className + ' ').replace(R_SPACE, ' ').replace(' ' + name + ' ', ' ');\n\t\t\t\tel.className = (className + (state ? ' ' + name : '')).replace(R_SPACE, ' ');\n\t\t\t}\n\t\t}\n\t}\n\n\n\tfunction _css(el, prop, val) {\n\t\tvar style = el && el.style;\n\n\t\tif (style) {\n\t\t\tif (val === void 0) {\n\t\t\t\tif (document.defaultView && document.defaultView.getComputedStyle) {\n\t\t\t\t\tval = document.defaultView.getComputedStyle(el, '');\n\t\t\t\t}\n\t\t\t\telse if (el.currentStyle) {\n\t\t\t\t\tval = el.currentStyle;\n\t\t\t\t}\n\n\t\t\t\treturn prop === void 0 ? val : val[prop];\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (!(prop in style) && prop.indexOf('webkit') === -1) {\n\t\t\t\t\tprop = '-webkit-' + prop;\n\t\t\t\t}\n\n\t\t\t\tstyle[prop] = val + (typeof val === 'string' ? '' : 'px');\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction _matrix(el) {\n\t\tvar appliedTransforms = '';\n\t\tdo {\n\t\t\tvar transform = _css(el, 'transform');\n\n\t\t\tif (transform && transform !== 'none') {\n\t\t\t\tappliedTransforms = transform + ' ' + appliedTransforms;\n\t\t\t}\n\t\t\t/* jshint boss:true */\n\t\t} while (el = el.parentNode);\n\n\t\tif (window.DOMMatrix) {\n\t\t\treturn new DOMMatrix(appliedTransforms);\n\t\t} else if (window.WebKitCSSMatrix) {\n\t\t\treturn new WebKitCSSMatrix(appliedTransforms);\n\t\t} else if (window.CSSMatrix) {\n\t\t\treturn new CSSMatrix(appliedTransforms);\n\t\t}\n\t}\n\n\n\tfunction _find(ctx, tagName, iterator) {\n\t\tif (ctx) {\n\t\t\tvar list = ctx.getElementsByTagName(tagName), i = 0, n = list.length;\n\n\t\t\tif (iterator) {\n\t\t\t\tfor (; i < n; i++) {\n\t\t\t\t\titerator(list[i], i);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn list;\n\t\t}\n\n\t\treturn [];\n\t}\n\n\n\n\tfunction _dispatchEvent(\n\t\tsortable, rootEl, name,\n\t\ttargetEl, toEl, fromEl,\n\t\tstartIndex, newIndex,\n\t\tstartDraggableIndex, newDraggableIndex,\n\t\toriginalEvt\n\t) {\n\t\tsortable = (sortable || rootEl[expando]);\n\t\tvar evt,\n\t\t\toptions = sortable.options,\n\t\t\tonName = 'on' + name.charAt(0).toUpperCase() + name.substr(1);\n\t\t// Support for new CustomEvent feature\n\t\tif (window.CustomEvent && !IE11OrLess && !Edge) {\n\t\t\tevt = new CustomEvent(name, {\n\t\t\t\tbubbles: true,\n\t\t\t\tcancelable: true\n\t\t\t});\n\t\t} else {\n\t\t\tevt = document.createEvent('Event');\n\t\t\tevt.initEvent(name, true, true);\n\t\t}\n\n\t\tevt.to = toEl || rootEl;\n\t\tevt.from = fromEl || rootEl;\n\t\tevt.item = targetEl || rootEl;\n\t\tevt.clone = cloneEl;\n\n\t\tevt.oldIndex = startIndex;\n\t\tevt.newIndex = newIndex;\n\n\t\tevt.oldDraggableIndex = startDraggableIndex;\n\t\tevt.newDraggableIndex = newDraggableIndex;\n\n\t\tevt.originalEvent = originalEvt;\n\t\tevt.pullMode = putSortable ? putSortable.lastPutMode : undefined;\n\n\t\tif (rootEl) {\n\t\t\trootEl.dispatchEvent(evt);\n\t\t}\n\n\t\tif (options[onName]) {\n\t\t\toptions[onName].call(sortable, evt);\n\t\t}\n\t}\n\n\n\tfunction _onMove(fromEl, toEl, dragEl, dragRect, targetEl, targetRect, originalEvt, willInsertAfter) {\n\t\tvar evt,\n\t\t\tsortable = fromEl[expando],\n\t\t\tonMoveFn = sortable.options.onMove,\n\t\t\tretVal;\n\t\t// Support for new CustomEvent feature\n\t\tif (window.CustomEvent && !IE11OrLess && !Edge) {\n\t\t\tevt = new CustomEvent('move', {\n\t\t\t\tbubbles: true,\n\t\t\t\tcancelable: true\n\t\t\t});\n\t\t} else {\n\t\t\tevt = document.createEvent('Event');\n\t\t\tevt.initEvent('move', true, true);\n\t\t}\n\n\t\tevt.to = toEl;\n\t\tevt.from = fromEl;\n\t\tevt.dragged = dragEl;\n\t\tevt.draggedRect = dragRect;\n\t\tevt.related = targetEl || toEl;\n\t\tevt.relatedRect = targetRect || _getRect(toEl);\n\t\tevt.willInsertAfter = willInsertAfter;\n\n\t\tevt.originalEvent = originalEvt;\n\n\t\tfromEl.dispatchEvent(evt);\n\n\t\tif (onMoveFn) {\n\t\t\tretVal = onMoveFn.call(sortable, evt, originalEvt);\n\t\t}\n\n\t\treturn retVal;\n\t}\n\n\tfunction _disableDraggable(el) {\n\t\tel.draggable = false;\n\t}\n\n\tfunction _unsilent() {\n\t\t_silent = false;\n\t}\n\n\t/**\n\t * Gets nth child of el, ignoring hidden children, sortable's elements (does not ignore clone if it's visible)\n\t * and non-draggable elements\n\t * @param  {HTMLElement} el       The parent element\n\t * @param  {Number} childNum      The index of the child\n\t * @param  {Object} options       Parent Sortable's options\n\t * @return {HTMLElement}          The child at index childNum, or null if not found\n\t */\n\tfunction _getChild(el, childNum, options) {\n\t\tvar currentChild = 0,\n\t\t\ti = 0,\n\t\t\tchildren = el.children;\n\n\t\twhile (i < children.length) {\n\t\t\tif (\n\t\t\t\tchildren[i].style.display !== 'none' &&\n\t\t\t\tchildren[i] !== ghostEl &&\n\t\t\t\tchildren[i] !== dragEl &&\n\t\t\t\t_closest(children[i], options.draggable, el, false)\n\t\t\t) {\n\t\t\t\tif (currentChild === childNum) {\n\t\t\t\t\treturn children[i];\n\t\t\t\t}\n\t\t\t\tcurrentChild++;\n\t\t\t}\n\n\t\t\ti++;\n\t\t}\n\t\treturn null;\n\t}\n\n\t/**\n\t * Gets the last child in the el, ignoring ghostEl or invisible elements (clones)\n\t * @param  {HTMLElement} el       Parent element\n\t * @return {HTMLElement}          The last child, ignoring ghostEl\n\t */\n\tfunction _lastChild(el) {\n\t\tvar last = el.lastElementChild;\n\n\t\twhile (last && (last === ghostEl || _css(last, 'display') === 'none')) {\n\t\t\tlast = last.previousElementSibling;\n\t\t}\n\n\t\treturn last || null;\n\t}\n\n\tfunction _ghostIsLast(evt, axis, el) {\n\t\tvar elRect = _getRect(_lastChild(el)),\n\t\t\tmouseOnAxis = axis === 'vertical' ? evt.clientY : evt.clientX,\n\t\t\tmouseOnOppAxis = axis === 'vertical' ? evt.clientX : evt.clientY,\n\t\t\ttargetS2 = axis === 'vertical' ? elRect.bottom : elRect.right,\n\t\t\ttargetS1Opp = axis === 'vertical' ? elRect.left : elRect.top,\n\t\t\ttargetS2Opp = axis === 'vertical' ? elRect.right : elRect.bottom,\n\t\t\tspacer = 10;\n\n\t\treturn (\n\t\t\taxis === 'vertical' ?\n\t\t\t\t(mouseOnOppAxis > targetS2Opp + spacer || mouseOnOppAxis <= targetS2Opp && mouseOnAxis > targetS2 && mouseOnOppAxis >= targetS1Opp) :\n\t\t\t\t(mouseOnAxis > targetS2 && mouseOnOppAxis > targetS1Opp || mouseOnAxis <= targetS2 && mouseOnOppAxis > targetS2Opp + spacer)\n\t\t);\n\t}\n\n\tfunction _getSwapDirection(evt, target, axis, swapThreshold, invertedSwapThreshold, invertSwap, isLastTarget) {\n\t\tvar targetRect = _getRect(target),\n\t\t\tmouseOnAxis = axis === 'vertical' ? evt.clientY : evt.clientX,\n\t\t\ttargetLength = axis === 'vertical' ? targetRect.height : targetRect.width,\n\t\t\ttargetS1 = axis === 'vertical' ? targetRect.top : targetRect.left,\n\t\t\ttargetS2 = axis === 'vertical' ? targetRect.bottom : targetRect.right,\n\t\t\tdragRect = _getRect(dragEl),\n\t\t\tinvert = false;\n\n\n\t\tif (!invertSwap) {\n\t\t\t// Never invert or create dragEl shadow when target movemenet causes mouse to move past the end of regular swapThreshold\n\t\t\tif (isLastTarget && targetMoveDistance < targetLength * swapThreshold) { // multiplied only by swapThreshold because mouse will already be inside target by (1 - threshold) * targetLength / 2\n\t\t\t\t// check if past first invert threshold on side opposite of lastDirection\n\t\t\t\tif (!pastFirstInvertThresh &&\n\t\t\t\t\t(lastDirection === 1 ?\n\t\t\t\t\t\t(\n\t\t\t\t\t\t\tmouseOnAxis > targetS1 + targetLength * invertedSwapThreshold / 2\n\t\t\t\t\t\t) :\n\t\t\t\t\t\t(\n\t\t\t\t\t\t\tmouseOnAxis < targetS2 - targetLength * invertedSwapThreshold / 2\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t\t{\n\t\t\t\t\t// past first invert threshold, do not restrict inverted threshold to dragEl shadow\n\t\t\t\t\tpastFirstInvertThresh = true;\n\t\t\t\t}\n\n\t\t\t\tif (!pastFirstInvertThresh) {\n\t\t\t\t\tvar dragS1 = axis === 'vertical' ? dragRect.top : dragRect.left,\n\t\t\t\t\t\tdragS2 = axis === 'vertical' ? dragRect.bottom : dragRect.right;\n\t\t\t\t\t// dragEl shadow (target move distance shadow)\n\t\t\t\t\tif (\n\t\t\t\t\t\tlastDirection === 1 ?\n\t\t\t\t\t\t(\n\t\t\t\t\t\t\tmouseOnAxis < targetS1 + targetMoveDistance // over dragEl shadow\n\t\t\t\t\t\t) :\n\t\t\t\t\t\t(\n\t\t\t\t\t\t\tmouseOnAxis > targetS2 - targetMoveDistance\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t\t{\n\t\t\t\t\t\treturn lastDirection * -1;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tinvert = true;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Regular\n\t\t\t\tif (\n\t\t\t\t\tmouseOnAxis > targetS1 + (targetLength * (1 - swapThreshold) / 2) &&\n\t\t\t\t\tmouseOnAxis < targetS2 - (targetLength * (1 - swapThreshold) / 2)\n\t\t\t\t) {\n\t\t\t\t\treturn _getInsertDirection(target);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tinvert = invert || invertSwap;\n\n\t\tif (invert) {\n\t\t\t// Invert of regular\n\t\t\tif (\n\t\t\t\tmouseOnAxis < targetS1 + (targetLength * invertedSwapThreshold / 2) ||\n\t\t\t\tmouseOnAxis > targetS2 - (targetLength * invertedSwapThreshold / 2)\n\t\t\t)\n\t\t\t{\n\t\t\t\treturn ((mouseOnAxis > targetS1 + targetLength / 2) ? 1 : -1);\n\t\t\t}\n\t\t}\n\n\t\treturn 0;\n\t}\n\n\t/**\n\t * Gets the direction dragEl must be swapped relative to target in order to make it\n\t * seem that dragEl has been \"inserted\" into that element's position\n\t * @param  {HTMLElement} target       The target whose position dragEl is being inserted at\n\t * @return {Number}                   Direction dragEl must be swapped\n\t */\n\tfunction _getInsertDirection(target) {\n\t\tvar dragElIndex = _index(dragEl),\n\t\t\ttargetIndex = _index(target);\n\n\t\tif (dragElIndex < targetIndex) {\n\t\t\treturn 1;\n\t\t} else {\n\t\t\treturn -1;\n\t\t}\n\t}\n\n\n\t/**\n\t * Generate id\n\t * @param   {HTMLElement} el\n\t * @returns {String}\n\t * @private\n\t */\n\tfunction _generateId(el) {\n\t\tvar str = el.tagName + el.className + el.src + el.href + el.textContent,\n\t\t\ti = str.length,\n\t\t\tsum = 0;\n\n\t\twhile (i--) {\n\t\t\tsum += str.charCodeAt(i);\n\t\t}\n\n\t\treturn sum.toString(36);\n\t}\n\n\t/**\n\t * Returns the index of an element within its parent for a selected set of\n\t * elements\n\t * @param  {HTMLElement} el\n\t * @param  {selector} selector\n\t * @return {number}\n\t */\n\tfunction _index(el, selector) {\n\t\tvar index = 0;\n\n\t\tif (!el || !el.parentNode) {\n\t\t\treturn -1;\n\t\t}\n\n\t\twhile (el && (el = el.previousElementSibling)) {\n\t\t\tif ((el.nodeName.toUpperCase() !== 'TEMPLATE') && el !== cloneEl && (!selector || _matches(el, selector))) {\n\t\t\t\tindex++;\n\t\t\t}\n\t\t}\n\n\t\treturn index;\n\t}\n\n\tfunction _matches(/**HTMLElement*/el, /**String*/selector) {\n\t\tif (!selector) return;\n\n\t\tselector[0] === '>' && (selector = selector.substring(1));\n\n\t\tif (el) {\n\t\t\ttry {\n\t\t\t\tif (el.matches) {\n\t\t\t\t\treturn el.matches(selector);\n\t\t\t\t} else if (el.msMatchesSelector) {\n\t\t\t\t\treturn el.msMatchesSelector(selector);\n\t\t\t\t} else if (el.webkitMatchesSelector) {\n\t\t\t\t\treturn el.webkitMatchesSelector(selector);\n\t\t\t\t}\n\t\t\t} catch(_) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tvar _throttleTimeout;\n\tfunction _throttle(callback, ms) {\n\t\treturn function () {\n\t\t\tif (!_throttleTimeout) {\n\t\t\t\tvar args = arguments,\n\t\t\t\t\t_this = this;\n\n\t\t\t\t_throttleTimeout = setTimeout(function () {\n\t\t\t\t\tif (args.length === 1) {\n\t\t\t\t\t\tcallback.call(_this, args[0]);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcallback.apply(_this, args);\n\t\t\t\t\t}\n\n\t\t\t\t\t_throttleTimeout = void 0;\n\t\t\t\t}, ms);\n\t\t\t}\n\t\t};\n\t}\n\n\tfunction _cancelThrottle() {\n\t\tclearTimeout(_throttleTimeout);\n\t\t_throttleTimeout = void 0;\n\t}\n\n\tfunction _extend(dst, src) {\n\t\tif (dst && src) {\n\t\t\tfor (var key in src) {\n\t\t\t\tif (src.hasOwnProperty(key)) {\n\t\t\t\t\tdst[key] = src[key];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn dst;\n\t}\n\n\tfunction _clone(el) {\n\t\tif (Polymer && Polymer.dom) {\n\t\t\treturn Polymer.dom(el).cloneNode(true);\n\t\t}\n\t\telse if ($) {\n\t\t\treturn $(el).clone(true)[0];\n\t\t}\n\t\telse {\n\t\t\treturn el.cloneNode(true);\n\t\t}\n\t}\n\n\tfunction _saveInputCheckedState(root) {\n\t\tsavedInputChecked.length = 0;\n\n\t\tvar inputs = root.getElementsByTagName('input');\n\t\tvar idx = inputs.length;\n\n\t\twhile (idx--) {\n\t\t\tvar el = inputs[idx];\n\t\t\tel.checked && savedInputChecked.push(el);\n\t\t}\n\t}\n\n\tfunction _nextTick(fn) {\n\t\treturn setTimeout(fn, 0);\n\t}\n\n\tfunction _cancelNextTick(id) {\n\t\treturn clearTimeout(id);\n\t}\n\n\n\t/**\n\t * Returns the \"bounding client rect\" of given element\n\t * @param  {HTMLElement} el                The element whose boundingClientRect is wanted\n\t * @param  {[HTMLElement]} container       the parent the element will be placed in\n\t * @param  {[Boolean]} adjustForTransform  Whether the rect should compensate for parent's transform\n\t * @return {Object}                        The boundingClientRect of el\n\t */\n\tfunction _getRect(el, adjustForTransform, container, adjustForFixed) {\n\t\tif (!el.getBoundingClientRect && el !== win) return;\n\n\t\tvar elRect,\n\t\t\ttop,\n\t\t\tleft,\n\t\t\tbottom,\n\t\t\tright,\n\t\t\theight,\n\t\t\twidth;\n\n\t\tif (el !== win && el !== _getWindowScrollingElement()) {\n\t\t\telRect = el.getBoundingClientRect();\n\t\t\ttop = elRect.top;\n\t\t\tleft = elRect.left;\n\t\t\tbottom = elRect.bottom;\n\t\t\tright = elRect.right;\n\t\t\theight = elRect.height;\n\t\t\twidth = elRect.width;\n\t\t} else {\n\t\t\ttop = 0;\n\t\t\tleft = 0;\n\t\t\tbottom = window.innerHeight;\n\t\t\tright = window.innerWidth;\n\t\t\theight = window.innerHeight;\n\t\t\twidth = window.innerWidth;\n\t\t}\n\n\t\tif (adjustForFixed && el !== win) {\n\t\t\t// Adjust for translate()\n\t\t\tcontainer = container || el.parentNode;\n\n\t\t\t// solves #1123 (see: https://stackoverflow.com/a/37953806/6088312)\n\t\t\t// Not needed on <= IE11\n\t\t\tif (!IE11OrLess) {\n\t\t\t\tdo {\n\t\t\t\t\tif (container && container.getBoundingClientRect && _css(container, 'transform') !== 'none') {\n\t\t\t\t\t\tvar containerRect = container.getBoundingClientRect();\n\n\t\t\t\t\t\t// Set relative to edges of padding box of container\n\t\t\t\t\t\ttop -= containerRect.top + parseInt(_css(container, 'border-top-width'));\n\t\t\t\t\t\tleft -= containerRect.left + parseInt(_css(container, 'border-left-width'));\n\t\t\t\t\t\tbottom = top + elRect.height;\n\t\t\t\t\t\tright = left + elRect.width;\n\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\t/* jshint boss:true */\n\t\t\t\t} while (container = container.parentNode);\n\t\t\t}\n\t\t}\n\n\t\tif (adjustForTransform && el !== win) {\n\t\t\t// Adjust for scale()\n\t\t\tvar matrix = _matrix(container || el),\n\t\t\t\tscaleX = matrix && matrix.a,\n\t\t\t\tscaleY = matrix && matrix.d;\n\n\t\t\tif (matrix) {\n\t\t\t\ttop /= scaleY;\n\t\t\t\tleft /= scaleX;\n\n\t\t\t\twidth /= scaleX;\n\t\t\t\theight /= scaleY;\n\n\t\t\t\tbottom = top + height;\n\t\t\t\tright = left + width;\n\t\t\t}\n\t\t}\n\n\t\treturn {\n\t\t\ttop: top,\n\t\t\tleft: left,\n\t\t\tbottom: bottom,\n\t\t\tright: right,\n\t\t\twidth: width,\n\t\t\theight: height\n\t\t};\n\t}\n\n\n\t/**\n\t * Checks if a side of an element is scrolled past a side of it's parents\n\t * @param  {HTMLElement}  el       The element who's side being scrolled out of view is in question\n\t * @param  {String}       side     Side of the element in question ('top', 'left', 'right', 'bottom')\n\t * @return {HTMLElement}           The parent scroll element that the el's side is scrolled past, or null if there is no such element\n\t */\n\tfunction _isScrolledPast(el, side) {\n\t\tvar parent = _getParentAutoScrollElement(el, true),\n\t\t\telSide = _getRect(el)[side];\n\n\t\t/* jshint boss:true */\n\t\twhile (parent) {\n\t\t\tvar parentSide = _getRect(parent)[side],\n\t\t\t\tvisible;\n\n\t\t\tif (side === 'top' || side === 'left') {\n\t\t\t\tvisible = elSide >= parentSide;\n\t\t\t} else {\n\t\t\t\tvisible = elSide <= parentSide;\n\t\t\t}\n\n\t\t\tif (!visible) return parent;\n\n\t\t\tif (parent === _getWindowScrollingElement()) break;\n\n\t\t\tparent = _getParentAutoScrollElement(parent, false);\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t/**\n\t * Returns the scroll offset of the given element, added with all the scroll offsets of parent elements.\n\t * The value is returned in real pixels.\n\t * @param  {HTMLElement} el\n\t * @return {Array}             Offsets in the format of [left, top]\n\t */\n\tfunction _getRelativeScrollOffset(el) {\n\t\tvar offsetLeft = 0,\n\t\t\toffsetTop = 0,\n\t\t\twinScroller = _getWindowScrollingElement();\n\n\t\tif (el) {\n\t\t\tdo {\n\t\t\t\tvar matrix = _matrix(el),\n\t\t\t\t\tscaleX = matrix.a,\n\t\t\t\t\tscaleY = matrix.d;\n\n\t\t\t\toffsetLeft += el.scrollLeft * scaleX;\n\t\t\t\toffsetTop += el.scrollTop * scaleY;\n\t\t\t} while (el !== winScroller && (el = el.parentNode));\n\t\t}\n\n\t\treturn [offsetLeft, offsetTop];\n\t}\n\n\t// Fixed #973:\n\t_on(document, 'touchmove', function(evt) {\n\t\tif ((Sortable.active || awaitingDragStarted) && evt.cancelable) {\n\t\t\tevt.preventDefault();\n\t\t}\n\t});\n\n\n\t// Export utils\n\tSortable.utils = {\n\t\ton: _on,\n\t\toff: _off,\n\t\tcss: _css,\n\t\tfind: _find,\n\t\tis: function (el, selector) {\n\t\t\treturn !!_closest(el, selector, el, false);\n\t\t},\n\t\textend: _extend,\n\t\tthrottle: _throttle,\n\t\tclosest: _closest,\n\t\ttoggleClass: _toggleClass,\n\t\tclone: _clone,\n\t\tindex: _index,\n\t\tnextTick: _nextTick,\n\t\tcancelNextTick: _cancelNextTick,\n\t\tdetectDirection: _detectDirection,\n\t\tgetChild: _getChild\n\t};\n\n\n\t/**\n\t * Create sortable instance\n\t * @param {HTMLElement}  el\n\t * @param {Object}      [options]\n\t */\n\tSortable.create = function (el, options) {\n\t\treturn new Sortable(el, options);\n\t};\n\n\n\t// Export\n\tSortable.version = '1.9.0';\n\treturn Sortable;\n});\n\n/*\n * ES2015 accessible modal window system, using ARIA\n * Website: https://van11y.net/accessible-modal/\n * License MIT: https://github.com/nico3333fr/van11y-accessible-modal-aria/blob/master/LICENSE\n */\n'use strict';\n\n(function (doc) {\n\n  'use strict';\n\n  var MODAL_JS_CLASS = 'js-modal';\n  var MODAL_ID_PREFIX = 'label_modal_';\n  var MODAL_CLASS_SUFFIX = 'modal';\n  var MODAL_DATA_BACKGROUND_ATTR = 'data-modal-background-click';\n  var MODAL_PREFIX_CLASS_ATTR = 'data-modal-prefix-class';\n  var MODAL_TEXT_ATTR = 'data-modal-text';\n  var MODAL_CONTENT_ID_ATTR = 'data-modal-content-id';\n  var MODAL_DESCRIBEDBY_ID_ATTR = 'data-modal-describedby-id';\n  var MODAL_TITLE_ATTR = 'data-modal-title';\n  var MODAL_FOCUS_TO_ATTR = 'data-modal-focus-toid';\n  var MODAL_CLOSE_TEXT_ATTR = 'data-modal-close-text';\n  var MODAL_CLOSE_TITLE_ATTR = 'data-modal-close-title';\n  var MODAL_CLOSE_IMG_ATTR = 'data-modal-close-img';\n  var MODAL_ROLE = 'dialog';\n\n  var MODAL_BUTTON_CLASS_SUFFIX = 'modal-close';\n  var MODAL_BUTTON_JS_ID = 'js-modal-close';\n  var MODAL_BUTTON_JS_CLASS = 'js-modal-close';\n  var MODAL_BUTTON_CONTENT_BACK_ID = 'data-content-back-id';\n  var MODAL_BUTTON_FOCUS_BACK_ID = 'data-focus-back';\n\n  var MODAL_WRAPPER_CLASS_SUFFIX = 'modal__wrapper';\n  var MODAL_CONTENT_CLASS_SUFFIX = 'modal__content';\n  var MODAL_CONTENT_JS_ID = 'js-modal-content';\n\n  var MODAL_CLOSE_IMG_CLASS_SUFFIX = 'modal__closeimg';\n  var MODAL_CLOSE_TEXT_CLASS_SUFFIX = 'modal-close__text';\n\n  var MODAL_TITLE_ID = 'modal-title';\n  var MODAL_TITLE_CLASS_SUFFIX = 'modal-title';\n\n  var FOCUSABLE_ELEMENTS_STRING = \"a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]\";\n  var WRAPPER_PAGE_JS = 'js-modal-page';\n\n  var MODAL_JS_ID = 'js-modal';\n\n  var MODAL_OVERLAY_ID = 'js-modal-overlay';\n  var MODAL_OVERLAY_CLASS_SUFFIX = 'modal-overlay';\n  var MODAL_OVERLAY_TXT = 'Close modal';\n  var MODAL_OVERLAY_BG_ENABLED_ATTR = 'data-background-click';\n\n  var VISUALLY_HIDDEN_CLASS = 'invisible';\n  var NO_SCROLL_CLASS = 'no-scroll';\n\n  var ATTR_ROLE = 'role';\n  var ATTR_OPEN = 'open';\n  var ATTR_LABELLEDBY = 'aria-labelledby';\n  var ATTR_DESCRIBEDBY = 'aria-describedby';\n  var ATTR_HIDDEN = 'aria-hidden';\n  //const ATTR_MODAL = 'aria-modal=\"true\"';\n  var ATTR_HASPOPUP = 'aria-haspopup';\n  var ATTR_HASPOPUP_VALUE = 'dialog';\n\n  var findById = function findById(id) {\n    return doc.getElementById(id);\n  };\n\n  var addClass = function addClass(el, className) {\n    if (el.classList) {\n      el.classList.add(className); // IE 10+\n    } else {\n        el.className += ' ' + className; // IE 8+\n      }\n  };\n\n  var removeClass = function removeClass(el, className) {\n    if (el.classList) {\n      el.classList.remove(className); // IE 10+\n    } else {\n        el.className = el.className.replace(new RegExp('(^|\\\\b)' + className.split(' ').join('|') + '(\\\\b|$)', 'gi'), ' '); // IE 8+\n      }\n  };\n\n  var hasClass = function hasClass(el, className) {\n    if (el.classList) {\n      return el.classList.contains(className); // IE 10+\n    } else {\n        return new RegExp('(^| )' + className + '( |$)', 'gi').test(el.className); // IE 8+ ?\n      }\n  };\n  /*const wrapInner = (el, wrapper_el) => { // doesn't work on IE/Edge, f…\n      while (el.firstChild)\n          wrapper_el.append(el.firstChild);\n      el.append(wrapper_el);\n   }*/\n  function wrapInner(parent, wrapper) {\n    if (typeof wrapper === \"string\") wrapper = document.createElement(wrapper);\n\n    parent.appendChild(wrapper);\n\n    while (parent.firstChild !== wrapper) wrapper.appendChild(parent.firstChild);\n  }\n\n  function remove(el) {\n    /* node.remove() is too modern for IE≤11 */\n    el.parentNode.removeChild(el);\n  }\n\n  /* gets an element el, search if it is child of parent class, returns id of the parent */\n  var searchParent = function searchParent(el, parentClass) {\n    var found = false;\n    var parentElement = el.parentNode;\n    while (parentElement && found === false) {\n      if (hasClass(parentElement, parentClass) === true) {\n        found = true;\n      } else {\n        parentElement = parentElement.parentNode;\n      }\n    }\n    if (found === true) {\n      return parentElement.getAttribute('id');\n    } else {\n      return '';\n    }\n  };\n\n  /**\n   * Create the template for an overlay\n   * @param  {Object} config\n   * @return {String}\n   */\n  var createOverlay = function createOverlay(config) {\n\n    var id = MODAL_OVERLAY_ID;\n    var overlayText = config.text || MODAL_OVERLAY_TXT;\n    var overlayClass = config.prefixClass + MODAL_OVERLAY_CLASS_SUFFIX;\n    var overlayBackgroundEnabled = config.backgroundEnabled === 'disabled' ? 'disabled' : 'enabled';\n\n    return '<span\\n                    id=\"' + id + '\"\\n                    class=\"' + overlayClass + '\"\\n                    ' + MODAL_OVERLAY_BG_ENABLED_ATTR + '=\"' + overlayBackgroundEnabled + '\"\\n                    title=\"' + overlayText + '\"\\n                    >\\n                    <span class=\"' + VISUALLY_HIDDEN_CLASS + '\">' + overlayText + '</span>\\n                  </span>';\n  };\n\n  /**\n   * Create the template for a modal\n   * @param  {Object} config\n   * @return {String}\n   */\n  var createModal = function createModal(config) {\n\n    var id = MODAL_JS_ID;\n    var modalClassName = config.modalPrefixClass + MODAL_CLASS_SUFFIX;\n    var modalClassWrapper = config.modalPrefixClass + MODAL_WRAPPER_CLASS_SUFFIX;\n    var buttonCloseClassName = config.modalPrefixClass + MODAL_BUTTON_CLASS_SUFFIX;\n    var buttonCloseInner = config.modalCloseImgPath ? '<img src=\"' + config.modalCloseImgPath + '\" alt=\"' + config.modalCloseText + '\" class=\"' + config.modalPrefixClass + MODAL_CLOSE_IMG_CLASS_SUFFIX + '\" />' : '<span class=\"' + config.modalPrefixClass + MODAL_CLOSE_TEXT_CLASS_SUFFIX + '\">\\n                                          ' + config.modalCloseText + '\\n                                         </span>';\n    var contentClassName = config.modalPrefixClass + MODAL_CONTENT_CLASS_SUFFIX;\n    var titleClassName = config.modalPrefixClass + MODAL_TITLE_CLASS_SUFFIX;\n    var title = config.modalTitle !== '' ? '<h1 id=\"' + MODAL_TITLE_ID + '\" class=\"' + titleClassName + '\">\\n                                          ' + config.modalTitle + '\\n                                         </h1>' : '';\n    var button_close = '<button type=\"button\" class=\"' + MODAL_BUTTON_JS_CLASS + ' ' + buttonCloseClassName + '\" id=\"' + MODAL_BUTTON_JS_ID + '\" title=\"' + config.modalCloseTitle + '\" ' + MODAL_BUTTON_CONTENT_BACK_ID + '=\"' + config.modalContentId + '\" ' + MODAL_BUTTON_FOCUS_BACK_ID + '=\"' + config.modalFocusBackId + '\">\\n                               ' + buttonCloseInner + '\\n                              </button>';\n    var content = config.modalText;\n    var describedById = config.modalDescribedById !== '' ? ATTR_DESCRIBEDBY + '=\"' + config.modalDescribedById + '\"' : '';\n\n    // If there is no content but an id we try to fetch content id\n    if (content === '' && config.modalContentId) {\n      var contentFromId = findById(config.modalContentId);\n      if (contentFromId) {\n        content = '<div id=\"' + MODAL_CONTENT_JS_ID + '\">\\n                              ' + contentFromId.innerHTML + '\\n                             </div';\n        // we remove content from its source to avoid id duplicates, etc.\n        contentFromId.innerHTML = '';\n      }\n    }\n\n    return '<dialog id=\"' + id + '\" class=\"' + modalClassName + '\" ' + ATTR_ROLE + '=\"' + MODAL_ROLE + '\" ' + describedById + ' ' + ATTR_OPEN + ' ' + ATTR_LABELLEDBY + '=\"' + MODAL_TITLE_ID + '\">\\n                    <div role=\"document\" class=\"' + modalClassWrapper + '\">\\n                      ' + button_close + '\\n                      <div class=\"' + contentClassName + '\">\\n                        ' + title + '\\n                        ' + content + '\\n                      </div>\\n                    </div>\\n                  </dialog>';\n  };\n\n  var closeModal = function closeModal(config) {\n\n    remove(config.modal);\n    remove(config.overlay);\n\n    if (config.contentBackId !== '') {\n      var contentBack = findById(config.contentBackId);\n      if (contentBack) {\n        contentBack.innerHTML = config.modalContent;\n      }\n    }\n\n    if (config.modalFocusBackId) {\n      var contentFocus = findById(config.modalFocusBackId);\n      if (contentFocus) {\n        contentFocus.focus();\n      }\n    }\n  };\n\n  /** Find all modals inside a container\n   * @param  {Node} node Default document\n   * @return {Array}\n   */\n  var $listModals = function $listModals() {\n    var node = arguments.length <= 0 || arguments[0] === undefined ? doc : arguments[0];\n    return [].slice.call(node.querySelectorAll('.' + MODAL_JS_CLASS));\n  };\n\n  /**\n   * Build modals for a container\n   * @param  {Node} node\n   */\n  var attach = function attach(node) {\n    var addListeners = arguments.length <= 1 || arguments[1] === undefined ? true : arguments[1];\n\n    $listModals(node).forEach(function (modal_node) {\n\n      var iLisible = Math.random().toString(32).slice(2, 12);\n      var wrapperBody = findById(WRAPPER_PAGE_JS);\n      var body = doc.querySelector('body');\n\n      modal_node.setAttribute('id', MODAL_ID_PREFIX + iLisible);\n      modal_node.setAttribute(ATTR_HASPOPUP, ATTR_HASPOPUP_VALUE);\n\n      if (wrapperBody === null || wrapperBody.length === 0) {\n        var wrapper = doc.createElement('DIV');\n        wrapper.setAttribute('id', WRAPPER_PAGE_JS);\n        wrapInner(body, wrapper);\n      }\n    });\n\n    if (addListeners) {\n\n      /* listeners */\n      ['click', 'keydown'].forEach(function (eventName) {\n\n        doc.body.addEventListener(eventName, function (e) {\n\n          // click on link modal\n          var parentModalLauncher = searchParent(e.target, MODAL_JS_CLASS);\n          if ((hasClass(e.target, MODAL_JS_CLASS) === true || parentModalLauncher !== '') && eventName === 'click') {\n            var body = doc.querySelector('body');\n            var modalLauncher = parentModalLauncher !== '' ? findById(parentModalLauncher) : e.target;\n            var modalPrefixClass = modalLauncher.hasAttribute(MODAL_PREFIX_CLASS_ATTR) === true ? modalLauncher.getAttribute(MODAL_PREFIX_CLASS_ATTR) + '-' : '';\n            var modalText = modalLauncher.hasAttribute(MODAL_TEXT_ATTR) === true ? modalLauncher.getAttribute(MODAL_TEXT_ATTR) : '';\n            var modalContentId = modalLauncher.hasAttribute(MODAL_CONTENT_ID_ATTR) === true ? modalLauncher.getAttribute(MODAL_CONTENT_ID_ATTR) : '';\n            var modalDescribedById = modalLauncher.hasAttribute(MODAL_DESCRIBEDBY_ID_ATTR) === true ? modalLauncher.getAttribute(MODAL_DESCRIBEDBY_ID_ATTR) : '';\n            var modalTitle = modalLauncher.hasAttribute(MODAL_TITLE_ATTR) === true ? modalLauncher.getAttribute(MODAL_TITLE_ATTR) : '';\n            var modalCloseText = modalLauncher.hasAttribute(MODAL_CLOSE_TEXT_ATTR) === true ? modalLauncher.getAttribute(MODAL_CLOSE_TEXT_ATTR) : MODAL_OVERLAY_TXT;\n            var modalCloseTitle = modalLauncher.hasAttribute(MODAL_CLOSE_TITLE_ATTR) === true ? modalLauncher.getAttribute(MODAL_CLOSE_TITLE_ATTR) : modalCloseText;\n            var modalCloseImgPath = modalLauncher.hasAttribute(MODAL_CLOSE_IMG_ATTR) === true ? modalLauncher.getAttribute(MODAL_CLOSE_IMG_ATTR) : '';\n            var backgroundEnabled = modalLauncher.hasAttribute(MODAL_DATA_BACKGROUND_ATTR) === true ? modalLauncher.getAttribute(MODAL_DATA_BACKGROUND_ATTR) : '';\n            var modalGiveFocusToId = modalLauncher.hasAttribute(MODAL_FOCUS_TO_ATTR) === true ? modalLauncher.getAttribute(MODAL_FOCUS_TO_ATTR) : '';\n\n            var wrapperBody = findById(WRAPPER_PAGE_JS);\n\n            // insert overlay\n            body.insertAdjacentHTML('beforeEnd', createOverlay({\n              text: modalCloseTitle,\n              backgroundEnabled: backgroundEnabled,\n              prefixClass: modalPrefixClass\n            }));\n\n            // insert modal\n            body.insertAdjacentHTML('beforeEnd', createModal({\n              modalText: modalText,\n              modalPrefixClass: modalPrefixClass,\n              backgroundEnabled: modalContentId,\n              modalTitle: modalTitle,\n              modalCloseText: modalCloseText,\n              modalCloseTitle: modalCloseTitle,\n              modalCloseImgPath: modalCloseImgPath,\n              modalContentId: modalContentId,\n              modalDescribedById: modalDescribedById,\n              modalFocusBackId: modalLauncher.getAttribute('id')\n            }));\n\n            // hide page\n            wrapperBody.setAttribute(ATTR_HIDDEN, 'true');\n\n            // add class noscroll to body\n            addClass(body, NO_SCROLL_CLASS);\n\n            // give focus to close button or specified element\n            var closeButton = findById(MODAL_BUTTON_JS_ID);\n            if (modalGiveFocusToId !== '') {\n              var focusTo = findById(modalGiveFocusToId);\n              if (focusTo) {\n                focusTo.focus();\n              } else {\n                closeButton.focus();\n              }\n            } else {\n              closeButton.focus();\n            }\n\n            e.preventDefault();\n          }\n\n          // click on close button or on overlay not blocked\n          var parentButton = searchParent(e.target, MODAL_BUTTON_JS_CLASS);\n          if ((e.target.getAttribute('id') === MODAL_BUTTON_JS_ID || parentButton !== '' || e.target.getAttribute('id') === MODAL_OVERLAY_ID || hasClass(e.target, MODAL_BUTTON_JS_CLASS) === true) && eventName === 'click') {\n            var body = doc.querySelector('body');\n            var wrapperBody = findById(WRAPPER_PAGE_JS);\n            var modal = findById(MODAL_JS_ID);\n            var modalContent = findById(MODAL_CONTENT_JS_ID) ? findById(MODAL_CONTENT_JS_ID).innerHTML : '';\n            var overlay = findById(MODAL_OVERLAY_ID);\n            var modalButtonClose = findById(MODAL_BUTTON_JS_ID);\n            var modalFocusBackId = modalButtonClose.getAttribute(MODAL_BUTTON_FOCUS_BACK_ID);\n            var contentBackId = modalButtonClose.getAttribute(MODAL_BUTTON_CONTENT_BACK_ID);\n            var backgroundEnabled = overlay.getAttribute(MODAL_OVERLAY_BG_ENABLED_ATTR);\n\n            if (!(e.target.getAttribute('id') === MODAL_OVERLAY_ID && backgroundEnabled === 'disabled')) {\n\n              closeModal({\n                modal: modal,\n                modalContent: modalContent,\n                overlay: overlay,\n                modalFocusBackId: modalFocusBackId,\n                contentBackId: contentBackId,\n                backgroundEnabled: backgroundEnabled,\n                fromId: e.target.getAttribute('id')\n              });\n\n              // show back page\n              wrapperBody.removeAttribute(ATTR_HIDDEN);\n\n              // remove class noscroll to body\n              removeClass(body, NO_SCROLL_CLASS);\n            }\n          }\n\n          // strike a key when modal opened\n          if (findById(MODAL_JS_ID) && eventName === 'keydown') {\n            var body = doc.querySelector('body');\n            var wrapperBody = findById(WRAPPER_PAGE_JS);\n            var modal = findById(MODAL_JS_ID);\n            var modalContent = findById(MODAL_CONTENT_JS_ID) ? findById(MODAL_CONTENT_JS_ID).innerHTML : '';\n            var overlay = findById(MODAL_OVERLAY_ID);\n            var modalButtonClose = findById(MODAL_BUTTON_JS_ID);\n            var modalFocusBackId = modalButtonClose.getAttribute(MODAL_BUTTON_FOCUS_BACK_ID);\n            var contentBackId = modalButtonClose.getAttribute(MODAL_BUTTON_CONTENT_BACK_ID);\n            var $listFocusables = [].slice.call(modal.querySelectorAll(FOCUSABLE_ELEMENTS_STRING));\n\n            // esc\n            if (e.keyCode === 27) {\n\n              closeModal({\n                modal: modal,\n                modalContent: modalContent,\n                overlay: overlay,\n                modalFocusBackId: modalFocusBackId,\n                contentBackId: contentBackId\n              });\n\n              // show back page\n              wrapperBody.removeAttribute(ATTR_HIDDEN);\n\n              // remove class noscroll to body\n              removeClass(body, NO_SCROLL_CLASS);\n            }\n\n            // tab or Maj Tab in modal => capture focus\n            if (e.keyCode === 9 && $listFocusables.indexOf(e.target) >= 0) {\n\n              // maj-tab on first element focusable => focus on last\n              if (e.shiftKey) {\n                if (e.target === $listFocusables[0]) {\n                  $listFocusables[$listFocusables.length - 1].focus();\n                  e.preventDefault();\n                }\n              } else {\n                // tab on last element focusable => focus on first\n                if (e.target === $listFocusables[$listFocusables.length - 1]) {\n                  $listFocusables[0].focus();\n                  e.preventDefault();\n                }\n              }\n            }\n\n            // tab outside modal => put it in focus\n            if (e.keyCode === 9 && $listFocusables.indexOf(e.target) === -1) {\n              e.preventDefault();\n              $listFocusables[0].focus();\n            }\n          }\n        }, true);\n      });\n    }\n  };\n\n  var onLoad = function onLoad() {\n    attach();\n    document.removeEventListener('DOMContentLoaded', onLoad);\n  };\n\n  document.addEventListener('DOMContentLoaded', onLoad);\n\n  window.van11yAccessibleModalWindowAria = attach;\n})(document);\n(function (root, factory) {\n  if (typeof define === 'function' && define.amd) {\n    define([], factory(root));\n  } else if (typeof exports === 'object') {\n    module.exports = factory(root);\n  } else {\n    root.vanillaTabScroller = factory(root);\n  }\n}(typeof global !== 'undefined' ? global : this.window || this.global, (root) => {\n  //\n  // Variables\n  //\n\n  const vanillaTabScroller = {}; // Object for public APIs\n  const supports = 'querySelector' in document && 'addEventListener' in root; // Feature test\n  let eventTimeout; let settings;\n\n  // Default settings\n  const defaults = {\n    scroller: '[data-tabs-scroller]',\n    wrapper: '[data-tabs-wrapper]',\n    tabs: '[data-tabs]',\n    tab: '[data-tab]',\n    tabsButtonPrevClass: 'pwt-tabs-scroller-prev',\n    tabsButtonNextClass: 'pwt-tabs-scroller-next',\n    tabsOverflowClass: 'has-tabs-overflow',\n    tabsOverflowLeftClass: 'has-tabs-left-overflow',\n    tabsOverflowRightClass: 'has-tabs-right-overflow',\n    tabsScrollAmount: 0.8,\n    tabsAnimationSpeed: 400,\n\n    // Callbacks\n    beforeSetWidth() {},\n    afterSetWidth() {}\n  };\n\n\n  //\n  // Methods\n  //\n\n  /**\n     * A simple forEach() implementation for Arrays, Objects and NodeLists.\n     * @private\n     * @author Todd Motto\n     * @link   https://github.com/toddmotto/foreach\n     * @param {Array|Object|NodeList} collection Collection of items to iterate\n     * @param {Function}              callback   Callback function for each iteration\n     * @param {Array|Object|NodeList} scope      Object/NodeList/Array that forEach is iterating over (aka `this`)\n     */\n  const forEach = function (collection, callback, scope) {\n    if (Object.prototype.toString.call(collection) === '[object Object]') {\n      for (const prop in collection) {\n        if (Object.prototype.hasOwnProperty.call(collection, prop)) {\n          callback.call(scope, collection[prop], prop, collection);\n        }\n      }\n    } else {\n      for (let i = collection.length - 1; i >= 0; i--) {\n        callback.call(scope, collection[i], i, collection);\n      }\n    }\n  };\n\n  /**\n     * Merge defaults with user options\n     * @private\n     * @param {Object} defaults Default settings\n     * @param {Object} options User options\n     * @returns {Object} Merged values of defaults and options\n     */\n  var extend = function () {\n    // Variables\n    const extended = {};\n    let deep = false;\n    let i = 0;\n    const length = arguments.length;\n\n    // Check if a deep merge\n    if (Object.prototype.toString.call(arguments[0]) === '[object Boolean]') {\n      deep = arguments[0];\n      i++;\n    }\n\n    // Merge the object into the extended object\n    const merge = function (obj) {\n      for (const prop in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, prop)) {\n          // If deep merge and property is an object, merge properties\n          if (deep && Object.prototype.toString.call(obj[prop]) === '[object Object]') {\n            extended[prop] = extend(true, extended[prop], obj[prop]);\n          } else {\n            extended[prop] = obj[prop];\n          }\n        }\n      }\n    };\n\n    // Loop through each object and conduct a merge\n    for (; i < length; i++) {\n      const obj = arguments[i];\n      merge(obj);\n    }\n\n    return extended;\n  };\n\n  /**\n     * Get the closest matching element up the DOM tree.\n     * @private\n     * @param  {Element} elem     Starting element\n     * @param  {String}  selector Selector to match against\n     * @return {Boolean|Element}  Returns null if not match found\n     */\n  const getClosest = function (elem, selector) {\n    // Element.matches() polyfill\n    if (!Element.prototype.matches) {\n      Element.prototype.matches =\n                Element.prototype.matchesSelector ||\n                Element.prototype.mozMatchesSelector ||\n                Element.prototype.msMatchesSelector ||\n                Element.prototype.oMatchesSelector ||\n                Element.prototype.webkitMatchesSelector ||\n                function (s) {\n                  const matches = (this.document || this.ownerDocument).querySelectorAll(s);\n                  let i = matches.length;\n                  while (--i >= 0 && matches.item(i) !== this) {}\n                  return i > -1;\n                };\n    }\n\n    // Get closest match\n    for (; elem && elem !== document; elem = elem.parentNode) {\n      if (elem.matches(selector)) {\n        return elem;\n      }\n    }\n\n    return null;\n  };\n\n  /**\n     * Scroll animation\n     * @private\n     * @param {Object} defaults Default settings\n     * @param {Object} options User options\n     * @returns {Object} Merged values of defaults and options\n     */\n\n  function scrollTo(element, from, to, duration) {\n    const start = from;\n    const change = to - start;\n    let currentTime = 0;\n    const increment = 20;\n\n    var animateScroll = function () {\n      currentTime += increment;\n      const val = Math.easeInOutQuad(currentTime, start, change, duration);\n      element.scrollLeft = val;\n      if (currentTime < duration) {\n        setTimeout(animateScroll, increment);\n      }\n    };\n    animateScroll();\n  }\n\n  // t = current time\n  // b = start value\n  // c = change in value\n  // d = duration\n  Math.easeInOutQuad = function (t, b, c, d) {\n    t /= d / 2;\n    if (t < 1) {\n      return c / 2 * t * t + b;\n    }\n    t--;\n    return -c / 2 * (t * (t - 2) - 1) + b;\n  };\n\n\n  /**\n     * Setup and active\n     * @private\n     */\n\n  const setup = function () {\n    // Find gallery and return if not found\n    const tabScroller = document.querySelectorAll(settings.scroller);\n    if (!tabScroller) {\n      return;\n    }\n\n    forEach(tabScroller, (value) => {\n      // Prev button\n      const beforeButton = document.createElement('button');\n      beforeButton.setAttribute('type', 'button');\n      beforeButton.innerHTML = 'prev';\n      beforeButton.classList.add(settings.tabsButtonPrevClass);\n      value.parentNode.insertBefore(beforeButton, value.parentNode.firstChild);\n\n      // Next button\n      const afterButton = document.createElement('button');\n      afterButton.setAttribute('type', 'button');\n      afterButton.innerHTML = 'next';\n      afterButton.classList.add(settings.tabsButtonNextClass);\n      value.parentNode.appendChild(afterButton);\n\n      // scroll to current tab\n      setTimeout(() => {\n        vanillaTabScroller.scrollToTab(value.querySelector('.is-active'), value);\n      }, settings.tabsAnimationSpeed);\n\n      // Run on scrolling the tab container\n      value.addEventListener('scroll', () => {\n        if (!eventTimeout) {\n          eventTimeout = setTimeout(() => {\n            eventTimeout = null; // Reset timeout\n            vanillaTabScroller.tabsCalculateScroll();\n          }, 200);\n        }\n      });\n\n      // Find gallery and return if not found\n      const tabs = value.querySelectorAll(settings.tab);\n      if (!tabs) {\n        return;\n      }\n\n      forEach(tabs, (elem) => {\n        elem.addEventListener('click', () => {\n          vanillaTabScroller.scrollToTab(elem, value);\n        });\n      });\n    });\n\n    vanillaTabScroller.tabsCalculateScroll();\n  };\n\n\n  // Calculate wether there is a scrollable area and apply classes accordingly\n  vanillaTabScroller.tabsCalculateScroll = function (options) {\n    // Merge user options with existing settings or defaults\n    const localSettings = extend(settings || defaults, options || {});\n\n    // Find gallery and return if not found\n    const scroller = document.querySelectorAll(localSettings.scroller);\n    if (!scroller) {\n      return;\n    }\n\n    forEach(scroller, (value) => {\n      // Variables\n      const tabscroller = value;\n      const tabsWidth = tabscroller.querySelector(settings.tabs).offsetWidth;\n      const scrollerWidth = tabscroller.clientWidth;\n      const scrollLeft = tabscroller.scrollLeft;\n      const wrapper = tabscroller.parentNode;\n\n      // Show / hide buttons\n      if (tabsWidth > scrollerWidth) {\n        wrapper.classList.add(settings.tabsOverflowClass);\n      } else {\n        wrapper.classList.remove(settings.tabsOverflowClass);\n      }\n\n      // \"Activate\" left button\n      if (tabsWidth > scrollerWidth && scrollLeft > 0) {\n        wrapper.classList.add(settings.tabsOverflowLeftClass);\n      }\n\n      // \"Activate\" right button\n      if (tabsWidth > scrollerWidth) {\n        wrapper.classList.add(settings.tabsOverflowRightClass);\n      }\n\n      // \"Deactivate\" left button\n      if (tabsWidth <= scrollerWidth || scrollLeft <= 0) {\n        wrapper.classList.remove(settings.tabsOverflowLeftClass);\n      }\n\n      // \"Deactivate\" right button\n      if (tabsWidth <= scrollerWidth || scrollLeft >= tabsWidth - scrollerWidth) {\n        wrapper.classList.remove(settings.tabsOverflowRightClass);\n      }\n    });\n  };\n\n\n  // Calculate the amount of scrolling to do\n  vanillaTabScroller.calculateScroll =  function (wrapper, direction) {\n    // Variables\n    const tabsWidth = wrapper.querySelector(settings.tabs).offsetWidth;\n    const scrollerWidth = wrapper.querySelector(settings.scroller).clientWidth;\n    const scrollLeft = wrapper.querySelector(settings.scroller).scrollLeft;\n    let scroll;\n\n    // Left button (scroll to right)\n    if (direction == 'prev') {\n      scroll = scrollLeft - scrollerWidth * settings.tabsScrollAmount;\n      if (scroll < 0) {\n        scroll = 0;\n      }\n    }\n\n    // Right button (scroll to left)\n    if (direction == 'next') {\n      scroll = scrollLeft + scrollerWidth * settings.tabsScrollAmount;\n      if (scroll > tabsWidth - scrollerWidth) {\n        scroll = tabsWidth - scrollerWidth;\n      }\n    }\n\n    // Animate the scroll\n    scrollTo(wrapper.querySelector(settings.scroller), scrollLeft, scroll, settings.tabsAnimationSpeed);\n  };\n\n\n  // Scroll active tab into screen\n  vanillaTabScroller.scrollToTab = function (element, scroller) {\n    if (!element) {\n      return;\n    }\n\n    const positionLeft = element.offsetLeft;\n    const positionRight = positionLeft + element.offsetWidth;\n\n    const parentPaddingLeft = parseInt(window.getComputedStyle(scroller.parentNode, null).getPropertyValue('padding-left'), 10);\n    const parentPaddingRight = parseInt(window.getComputedStyle(scroller.parentNode, null).getPropertyValue('padding-right'), 10);\n\n    const scrollerOffset = scroller.scrollLeft;\n    const scrollerWidth = scroller.clientWidth;\n    let scroll;\n\n\n    // When item falls of on the right side\n    if (positionRight > scrollerOffset + scrollerWidth) {\n      scroll = scrollerOffset + (positionRight - (scrollerWidth + scrollerOffset) + parentPaddingRight);\n    }\n\n    // When item falls of on the left side\n    if (positionLeft < scrollerOffset) {\n      scroll = scrollerOffset - (scrollerOffset - positionLeft + parentPaddingLeft);\n    }\n\n    if (!scroll) {\n      return;\n    }\n\n    // Animate the scroll\n    scrollTo(scroller, scrollerOffset, scroll, settings.tabsAnimationSpeed);\n  };\n\n\n  /**\n     * Handle toggle click events\n     * @private\n     */\n  const clickHandler = function (event) {\n    // Don't run if right-click or command/control + click\n    if (event.button !== 0 || event.metaKey || event.ctrlKey) {\n      return;\n    }\n\n    // Check if event target is a tab toggle\n    const wrapper = getClosest(event.target, settings.wrapper);\n    if (!wrapper) {\n      return;\n    }\n\n    if (event.target.className == settings.tabsButtonPrevClass) {\n      vanillaTabScroller.calculateScroll(wrapper, 'prev');\n    }\n    if (event.target.className == settings.tabsButtonNextClass) {\n      vanillaTabScroller.calculateScroll(wrapper, 'next');\n    }\n  };\n\n\n  /**\n     * On window scroll and resize, only run events at a rate of 15fps for better performance\n     * @private\n     * @param  {Function} eventTimeout Timeout function\n     * @param  {Object} settings\n     */\n  const resizeThrottler = function () {\n    if (!eventTimeout) {\n      eventTimeout = setTimeout(() => {\n        eventTimeout = null; // Reset timeout\n\n        vanillaTabScroller.tabsCalculateScroll();\n      }, 200);\n    }\n  };\n\n\n  /**\n     * Destroy the current initialization.\n     * @public\n     */\n  vanillaTabScroller.destroy = function () {\n    // If plugin isn't already initialized, stop\n    if (!settings) {\n      return;\n    }\n\n    // Remove event listeners\n    document.removeEventListener('click', clickHandler, false);\n    root.removeEventListener('resize', resizeThrottler, false);\n\n    // Reset variables\n    settings = null;\n  };\n\n\n  /**\n     * Initialize vanillaTabScroller\n     * @public\n     * @param {Object} options User settings\n     */\n  vanillaTabScroller.init = function (options) {\n    // feature test\n    if (!supports) {\n      return;\n    }\n\n    // Destroy any existing initializations\n    vanillaTabScroller.destroy();\n\n    // Merge user options with defaults\n    settings = extend(defaults, options || {});\n\n    // Listen\n    document.addEventListener('click', clickHandler, false);\n    root.addEventListener('resize', resizeThrottler, false);\n\n    // Run on default\n    setup();\n  };\n\n\n  //\n  // Public APIs\n  //\n\n  return vanillaTabScroller;\n}));\n\nconst pwtImage = (function () {\n  const pwtImage = {};\n  const croppers = [];\n  let targetId = '';\n  let iFrameLink = '';\n  let wysiwyg = false;\n  let resultFile = '';\n  let altText = '';\n  let captionText = '';\n  let uploadImage = '';\n  const imageLimit = 100;\n  let showImageDirect = 0;\n  let rootPath = '';\n  let viewMode = 1;\n  let sessionValue;\n\n  /**\n     * Initialise PWT Image\n     */\n  pwtImage.initialise = function () {\n    jQuery('.js-edit-image-button').on('click', () => {\n      jQuery('.js-image-cropper').removeClass('is-hidden');\n      jQuery('.js-image-preview').addClass('is-hidden');\n    });\n\n    jQuery('.js-select-existing').on('click', () => {\n      jQuery('[href=#select]').trigger('click');\n    });\n\n    jQuery('.js-upload-new').on('click', () => {\n      jQuery('[href=#upload]').trigger('click');\n    });\n\n    const options = Joomla.getOptions('PWTImageConfig');\n    sessionValue = options.sessionToken;\n  };\n\n  /**\n     * Initialise the drag and drop area\n     */\n  pwtImage.initialiseDragnDrop = function () {\n    const dragZone  = jQuery('#js-dragarea');\n\n    dragZone.on('dragenter', (e) => {\n      e.preventDefault();\n      e.stopPropagation();\n\n      dragZone.addClass('hover');\n\n      return false;\n    });\n\n    // Notify user when file is over the drop area\n    dragZone.on('dragover', (e) => {\n      e.preventDefault();\n      e.stopPropagation();\n\n      dragZone.addClass('hover');\n\n      return false;\n    });\n\n    dragZone.on('dragleave', (e) => {\n      e.preventDefault();\n      e.stopPropagation();\n      dragZone.removeClass('hover');\n\n      return false;\n    });\n\n    dragZone.on('drop', (e) => {\n      e.preventDefault();\n      e.stopPropagation();\n\n      dragZone.removeClass('hover');\n\n      const files = e.originalEvent.target.files || e.originalEvent.dataTransfer.files;\n\n      if (!files.length) {\n        return;\n      }\n\n      const element = '.pwt-content';\n\n      // Store the file into the form\n      pwtImage.createPreview(element, files);\n\n      // Clean up after the upload\n      pwtImage.cleanUpAfterUpload(element);\n\n      if (showImageDirect) {\n        pwtImage.directToCanvas(element);\n      }\n    });\n  };\n\n  /**\n     * Creates another image selector instance.\n     * @param element The Add another image button\n     */\n  pwtImage.addRepeatImage = function (element) {\n    // Get a new unique ID\n    const modalId = new Date().getTime();\n\n    // Change the ID on the another image button\n    const addNewButton = jQuery(element).clone();\n    addNewButton.prop('id', `addmore${modalId}`);\n\n    // Duplicate the controls\n    const imageField = jQuery(element).parent();\n\n    // Duplicate the first image block\n    const imageBlock = imageField.first().clone();\n\n    // Get the current ID value\n    const currentId = imageBlock.children(':first').prop('id').split('_')[0];\n\n    // Replace all IDs with a new ID\n    imageBlock.prop('id', modalId);\n\n    // Set the required IDs on the Select button\n    const selectButton = imageBlock.children('[id^=label_modal_]');\n    selectButton.prop('id', `label_modal_${modalId}`);\n    let newOnClick = selectButton.attr('onclick').replace(`setTargetId('${currentId}`, `setTargetId('${modalId}`);\n    newOnClick = newOnClick.replace(`modalId=${currentId}`, `modalId=${modalId}`);\n    selectButton.attr('onclick', newOnClick);\n\n    // Set the other required IDs\n    imageBlock.children(`#${currentId}_preview`).prop('id', `${modalId}_preview`).html('');\n    imageBlock.children(`#${currentId}_value`).prop('id', `${modalId}_value`);\n    imageBlock.children(`#${currentId}_clear`).prop('id', `${modalId}_clear`)\n      .addClass('hidden').prop('onclick', `pwtImage.clearImage('${modalId}');`);\n    imageBlock.children(`#addmore${currentId}`).prop('id', `addmore${modalId}`);\n\n    // Add the new image to the DOM\n    imageField.first().parent().append(imageBlock);\n  };\n\n  /**\n     * Prepare everything to allow a new image upload\n     * @param id\n     */\n  pwtImage.prepareUpload = function (id) {\n    jQuery(`#${id} button.js-button-save-new`).prop('disabled', true);\n    jQuery(`#${id} .pwt-image-localfile`).val('');\n    jQuery(`#${id} .pwt-image-targetfile`).val('');\n    jQuery(`#${id} .pwt-message`).removeClass('is-visible');\n  };\n\n  /**\n     * Set the ID of the image controls to use\n     *\n     * @param id The unique ID of the image controls to use.\n     */\n  pwtImage.setTargetId = function (id) {\n    targetId = id;\n  };\n\n  /**\n     * Set the iFrame link to empty out the iFrame\n     */\n  pwtImage.setIframeLink = function (link) {\n    iFrameLink = link;\n  };\n\n  /**\n     * Set the root path of the installation\n     */\n  pwtImage.setRootPath = function (root) {\n    rootPath = root;\n  };\n\n  /**\n     * Set if we are called from a WYSIWYG editor\n     */\n  pwtImage.setWysiwyg = function (value) {\n    wysiwyg = value;\n  };\n\n  /**\n     * Set if we are called from a WYSIWYG editor\n     */\n  pwtImage.setViewMode = function (value) {\n    viewMode = value;\n  };\n\n  /**\n     * Set if the image should be opened in the canvas instead of preview mode\n     */\n  pwtImage.showImageDirect = function (value) {\n    showImageDirect = value;\n  };\n\n  /**\n     * Return the ID of the image controls to use\n     */\n  pwtImage.getTargetId = function () {\n    return targetId;\n  };\n\n  /**\n     * Store the image on the server.\n     *\n     * @param id\n     * @param tokenValue\n     * @param createNew\n     */\n  pwtImage.saveImage = function (id, tokenValue, createNew) {\n    let cropper = false;\n\n    // Check if we have an existing cropper\n    if (croppers[id] !== undefined) {\n      cropper = croppers[id];\n    }\n\n    if (createNew === 'undefined') {\n      createNew = false;\n    }\n\n    const postUrl = jQuery('#post-url').val();\n    let image = jQuery(`#${id}_upload`)[0].files[0];\n    const crop = jQuery(`#${id} .js-pwt-image-data`).val();\n    let width = jQuery(`#${id} .js-pwt-image-width`).val();\n    const ratio = jQuery(`#${id} .js-pwt-image-ratio`).val();\n    const keepOriginal = jQuery(`#${id} .js-pwt-image-keepOriginal`).is(':checked');\n    const useOriginal = jQuery(`#${id} .js-pwt-image-useOriginal`).is(':checked');\n    let sourcePath = jQuery(`#${id} .js-pwt-image-sourcePath`).val();\n    let subPath = jQuery(`#${id} .js-pwt-image-subPath`).val();\n    const localfile = jQuery(`#${id} .js-pwt-image-localfile`).val();\n    const targetfile = jQuery(`#${id} .js-pwt-image-targetfile`).val();\n    const backgroundColor = jQuery(`#${id} .js-pwt-image-backgroundColor`).val();\n    const origin = jQuery(`#${id} .js-pwt-image-origin`).val();\n    const data = new FormData();\n\n    // Check if an actual file has been uploaded\n    if (uploadImage && image === undefined) {\n      image = uploadImage[0];\n    }\n\n    // Check if an alt text has been set by the image selector, if not we take the one from the edit tab\n    if (altText === '') {\n      altText = jQuery(`#${id} #alt`).val();\n    }\n\n    // Check if a caption text has been set by the image selector, if not we take the one from the edit tab\n    if (captionText === '') {\n      captionText = jQuery(`#${id} #caption`).val();\n    }\n\n    // Get the store folder\n    switch (jQuery(`#${id}_destinationFolder`).val()) {\n      case 'select':\n        subPath = jQuery(`#${id}_selectedFolderOptions`).val();\n        break;\n    }\n\n    // Check if we have a width from the field definition, if not we take the width from the cropped area\n    if (Number(width) === 0) {\n      if (cropper) {\n        width = cropper.getCropBoxData().width;\n      } else {\n        const img = new Image();\n\n        img.onload = function () {\n          width = this.width;\n        };\n\n        img.src = localfile;\n      }\n    }\n\n    // Add the form data\n    data.append('option', 'com_pwtimage');\n    data.append('task', 'image.processImage');\n    data.append('format', 'json');\n    data.append('pwt-image-localFile', localfile);\n    data.append('pwt-image-targetFile', targetfile);\n    data.append('alt', altText);\n    data.append('caption', captionText);\n    data.append('pwt-image-data', crop);\n    data.append('pwt-image-width', width);\n    data.append('pwt-image-ratio', ratio);\n    data.append('pwt-image-keepOriginal', keepOriginal);\n    data.append('pwt-image-useOriginal', useOriginal);\n    data.append('pwt-image-sourcePath', sourcePath);\n    data.append('pwt-image-subPath', subPath);\n    data.append('pwt-image-backgroundColor', backgroundColor);\n    data.append('pwt-image-origin', origin);\n    data.append('image', image);\n\n    // Find the target ID\n    const targetId = pwtImage.getTargetId();\n\n    // Try to upload and process the image\n    try {\n      jQuery.ajax({\n        type: 'POST',\n        data,\n        contentType: false,\n        url: postUrl,\n        cache: false,\n        processData: false,\n        async: false,\n        headers: {\n          'X-CSRF-TOKEN': tokenValue\n        },\n        success(response) {\n          if (response instanceof Object === false) {\n            // Check if we have a know error message\n            let friendlyMessage = findErrorMessage(response);\n\n            if (friendlyMessage.length === 0) {\n              friendlyMessage = response;\n            }\n\n            renderMessage({\n              error: [friendlyMessage]\n            }, true);\n\n            throw false;\n          }\n\n          if (response.message) {\n            renderMessage({\n              warning: [response.message]\n            });\n          }\n\n          if (response.messages) {\n            renderMessage(response.messages);\n          }\n\n          // Check if there are multiple images returned, if so, take the first one\n          resultFile = response.data;\n\n          if (!wysiwyg) {\n            resultFile = resultFile.split(',');\n\n            if (resultFile.length > 0) {\n              resultFile = resultFile[0];\n            }\n\n            window.parent.jQuery(`#${targetId}_value`).val(resultFile).trigger('change');\n            window.parent.jQuery(`#${targetId}_preview`).html(`<img src=\"${rootPath}${resultFile}\" />`);\n            window.parent.jQuery(`#${targetId}_clear`).removeClass('hidden');\n          }\n\n          if (createNew) {\n            jQuery(`#${id} .pwt-message`).addClass('is-visible');\n            jQuery(`#${id} span.has_folder`).html(response.data);\n          }\n\n          // All done, self-destruction is imminent if we don't want to create a new image\n          if (cropper) {\n            cropper.destroy();\n          }\n\n          const imageCanvas = document.getElementById(`${id}_js-pwtimage-image`);\n\n          imageCanvas.removeAttribute('src');\n\n          if (!createNew) {\n            pwtImage.closeModal();\n          }\n        },\n        error(response) {\n          renderMessage({\n            error: [Joomla.JText._('COM_PWTIMAGE_SAVE_FAILED', 'There was a problem to save the file')]\n          });\n          console.log(`Image upload failed: ${response.responseText}`);\n\n          throw false;\n        }\n      });\n\n      // Switch back to upload tab if user wants to create another image\n      if (createNew) {\n        // Clear variables\n        altText = '';\n        captionText = '';\n        resultFile = '';\n        jQuery(`#${id} .js-pwt-image-localfile`).val('');\n        jQuery(`#${id}_upload`).replaceWith(jQuery(`#${id}_upload`).val('').clone(true));\n\n        // Clean up the crop data\n        jQuery(`#${id} .js-pwt-image-data`).val('');\n\n        // Reload the images\n        if (subPath.length === 0) {\n          sourcePath = jQuery(`#${id} .js-sourcePath`).text();\n          subPath = sourcePath.substring(0, sourcePath.length - 1);\n        }\n\n        pwtImage.loadFolder(`#${id}`, subPath, 'select', tokenValue);\n\n        // Reset the Edit page\n        const fulltab = jQuery('.pwt-fulltab-message');\n        fulltab.removeClass('is-hidden');\n        fulltab.next().addClass('is-hidden');\n\n        jQuery('[href=\"#select\"]').trigger('click');\n      }\n    } catch (exception) {\n      return false;\n    }\n\n    pwtImage.cancelImage(id);\n\n    return true;\n  };\n\n  /**\n     * Clears the current image and preview.\n     * @param id  The ID of the image\n     */\n  pwtImage.clearImage = function (id) {\n    jQuery(`#${id}_value`).val('');\n    jQuery(`#${id}_preview img`).prop('src', '');\n    jQuery(`#${id}_clear`).addClass('hidden');\n    jQuery(`#${id}_js-pwtimage-image`).prop('src', '');\n  };\n\n  /**\n     * Control the toolbar actions\n     *\n     * @param element  The element that has been clicked.\n     */\n  pwtImage.imageToolbar = function (element) {\n    const id = getParentId(element);\n    const data = jQuery(element).data();\n\n    // Check if the button is active\n    if (jQuery(this).prop('disabled') || jQuery(this).hasClass('disabled')) {\n      return;\n    }\n\n    // Check if we have a valid cropper\n    if (croppers[id] === undefined) {\n      return;\n    }\n\n    // Instantiate the cropper\n    const cropper = croppers[id];\n\n    // Set some values if needed\n    switch (data.method) {\n      case 'scaleX':\n      case 'scaleY':\n        cropper[data.method](data.option);\n        jQuery(element).data('option', data.option === 1 ? -1 : 1);\n        break;\n      case 'rotate':\n      case 'zoom':\n        cropper[data.method](data.option);\n        break;\n      case 'ratio':\n        var ratio = data.option;\n\n        if (typeof ratio === 'string' && ratio.indexOf('/') > 0) {\n          const ratios = data.option.split('/');\n          ratio = ratios[0] / ratios[1];\n        }\n        cropper.setAspectRatio(ratio);\n        jQuery(`#${id} .js-pwt-image-ratio`).val(data.option);\n        break;\n    }\n  };\n\n  /**\n     * Open the server image selection page\n     *\n     * @param element  The element that has been clicked.\n     */\n  pwtImage.openImage = function (element) {\n    // Get the parent ID\n    const id = getParentId(element);\n\n    jQuery(`#${id} .js-pwt-image-toolbar`).hide();\n    jQuery(`#${id} .js-cropper-container`).hide();\n    jQuery('form.js-image-form > div.pull-right').hide();\n  };\n\n  /**\n     * Get the parent ID of a given element\n     *\n     * @param element\n     * @returns string|boolean\n     *\n     * @todo Check with multiple blocks\n     */\n  function getParentId(element) {\n    const identifier = jQuery(element).closest('.js-pwtimage-id').prop('id');\n\n    if (identifier === undefined) {\n      console.log('Cannot find parent ID for element');\n      console.log(element);\n\n      return false;\n    }\n\n    return identifier;\n  }\n\n  /**\n     * Load subfolders for a selected folder\n     *\n     * @param element\n     * @param folder\n     * @param target\n     * @param tokenValue\n     * @returns {boolean}\n     */\n  pwtImage.loadFolder = function (element, folder, target, tokenValue) {\n    const id = getParentId(element);\n    const data = new FormData();\n    const postUrl = jQuery('#post-url').val();\n\n    // Add the form data\n    data.append('option', 'com_pwtimage');\n    data.append('task', 'image.loadFolder');\n    data.append('format', 'json');\n    data.append('folder', folder);\n\n    // Load the subfolders of given folder\n    jQuery.ajax({\n      type: 'POST',\n      data,\n      url: postUrl,\n      contentType: false,\n      cache: false,\n      processData: false,\n      headers: {\n        'X-CSRF-TOKEN': tokenValue\n      },\n      success(response) {\n        try {\n          if (response.message) {\n            console.log(`Failed to load subfolders from folder ${folder}. Message: ${response.message}`);\n            renderMessage({\n              warning: [response.message]\n            });\n\n            return false;\n          }\n\n          if (response.messages) {\n            renderMessage(response.messages);\n\n            return false;\n          }\n\n          if (response.data === undefined) {\n            return false;\n          }\n        } catch (e) {\n          console.log(e.message);\n        }\n\n        let link = [];\n\n        if (response.data.folders) {\n          let folderItems;\n          const folderPath = [];\n          let structure = '';\n\n          if (folder.indexOf('/') > 0 || folder.length > 1) {\n            folderItems = folder.split('/');\n          }\n\n          // Construct the breadcrumb path\n          jQuery(folderItems).each((index, folderItem) => {\n            structure += folderItem;\n\n            if (structure.length > 0) {\n              folderPath[index + 1] = `<a onclick=\"pwtImage.loadFolder('.pwt-gallery__items--folders', '/${structure}', '${target}', '${tokenValue}'); return false;\"><span class=\"icon-folder-2\"></span>${folderItem}</a>`;\n              structure += '/';\n            }\n          });\n\n          jQuery(`#${target} .js-breadcrumb`).html(folderPath.join(' '));\n\n          // Collect all folders to show\n          jQuery(response.data.folders).each((index, item) => {\n            let itemPath = item;\n\n            if (folder !== '/') {\n              itemPath = `${folder}/${item}`;\n            }\n\n            link.push(`<div class=\"pwt-gallery__item\"><a onclick=\"pwtImage.loadFolder('.pwt-gallery__items--folders', '${itemPath}', '${target}', '${tokenValue}'); return false;\">` +\n                            '<div class=\"pwt-gallery__item__content\">' +\n                            '<span class=\"pwt-gallery__item__icon icon-folder-2\"></span>' +\n                            `<span class=\"pwt-gallery__item__title\">${item}</span>` +\n                            '</div>' +\n                            '</a></div>');\n          });\n\n          // Add the folders\n          const itemFolders = jQuery(`#${id} #${target} .pwt-gallery__items--folders`);\n          itemFolders.html('');\n\n          if (link.length) {\n            itemFolders.html(link.join(' '));\n          }\n        }\n\n        // Add the files\n        const pagination = [];\n\n        if (response.data.files) {\n          // Setup pagination\n          const pages = Math.ceil(response.data.files.length / imageLimit);\n\n          for (let page = 1; page <= pages; page++) {\n            pagination.push(`<a onclick=\"pwtImage.showMoreImages('.pwt-gallery__items--images', ${page}, '${target}');\">${page}</a>`);\n          }\n\n          // Store the data in localStorage\n          addToLocalStorage(id, 'files', response.data.files);\n          addToLocalStorage(id, 'basePath', response.data.basePath);\n\n          // Get the list of images to display\n          const files = response.data.files.slice(0, imageLimit);\n\n          // Prepare the images for display\n          link = prepareImages(files, folder, target);\n\n          // Add the files\n          const itemImages = jQuery(`#${id} #${target} .pwt-gallery__items--images`);\n          itemImages.html('');\n\n          if (link.length) {\n            itemImages.html(link.join(' '));\n          }\n\n          // Add the pagination\n          const paginationBar = jQuery(`#${id} #${target} .pwt-pagination`);\n          paginationBar.html('');\n\n          if (pagination.length) {\n            paginationBar.html(`<div class=\"pwt-pagination__pages\">${pagination.join(' ')}</div>`);\n          }\n        }\n\n        // Filter the page\n        pwtImage.selectFilter(jQuery('#selectFilter').val());\n      },\n      error(response) {\n        console.log(`Failed to load folder: ${response.responseText}`);\n        console.log(`Response code: ${response.status} ${response.statusText}`);\n      }\n    });\n\n    return false;\n  };\n\n  /**\n     * Load the folders for the select picker\n     *\n     * @param folder\n     * @param tokenValue\n     * @returns {boolean}\n     */\n  pwtImage.loadSelectFolders = function (folder, tokenValue) {\n    const data = new FormData();\n    const postUrl = jQuery('#post-url').val();\n\n    // Add the form data\n    data.append('option', 'com_pwtimage');\n    data.append('task', 'image.loadSelectFolders');\n    data.append('format', 'json');\n    data.append('sourcePath', folder);\n\n    // Load the folders\n    jQuery.ajax({\n      type: 'POST',\n      data,\n      url: postUrl,\n      contentType: false,\n      cache: false,\n      processData: false,\n      headers: {\n        'X-CSRF-TOKEN': tokenValue\n      },\n      success(response) {\n        // Empty the list\n        choicesFolder.clearChoices();\n\n        // Add the folders\n        response.data[0].forEach((item) => {\n          choicesFolder.setChoices([{value: item, label: item}], 'value', 'label', false);\n        });\n\n        // Set the default value\n        choicesFolder.setChoiceByValue('/');\n      },\n      error(response) {\n        console.log(`Failed to load folder: ${response.responseText}`);\n        console.log(`Response code: ${response.status} ${response.statusText}`);\n      }\n    });\n\n    return false;\n  };\n\n  /**\n     * Pagination class\n     *\n     * @param element\n     * @param page\n     * @param target\n     */\n  pwtImage.showMoreImages = function (element, page, target) {\n    const id = getParentId(element);\n    const storedFiles = getFromLocalStorage(id, 'files');\n    const basePath = getFromLocalStorage(id, 'basePath');\n    const start = page === 1 ? 0 : (page - 1) * imageLimit;\n    const end = page * imageLimit;\n    const files = storedFiles.slice(start, end);\n\n    // Prepare the images for display\n    const link = prepareImages(files, basePath, target);\n\n    // Add the files\n    const itemImages = jQuery(`#${id} #${target} .pwt-gallery__items--images`);\n    itemImages.html('');\n\n    if (link.length) {\n      itemImages.html(link.join(' '));\n    }\n\n    // Filter the page\n    pwtImage.selectFilter(jQuery('#selectFilter').val(), page);\n  };\n\n  /**\n     * Prepare a list of images for display\n     */\n  function prepareImages(files, folder, target) {\n    const link = [];\n\n    // Clean up the folder as the rootPath ends with a slash and the folder starts with a slash\n    if (folder.substring(0, 1) === '/') {\n      folder = `${folder.substring(1)}/`;\n    }\n\n    jQuery(files).each((index, item) => {\n      const itemPath = rootPath + folder + item;\n\n      link.push(getImageElement(item, itemPath, target));\n    });\n\n    return link;\n  }\n\n  /**\n     * Construct an image element\n     */\n  function getImageElement(item, itemPath, target) {\n    let imageElement = '';\n    const imageName = itemPath.substring(itemPath.lastIndexOf('/') + 1);\n\n    switch (target) {\n      case 'select':\n        imageElement = `${'<div class=\"pwt-gallery__item\">' +\n                    '<a onclick=\"return pwtImage.previewImage(\\'.pwt-gallery__items--images\\', \\''}${itemPath}');\" ` +\n                    `title=\"${imageName}\">` +\n                    '<div class=\"pwt-gallery__item__image\">' +\n                    '<div class=\"pwt-gallery__item__center\">' +\n                    `<img src=\"${itemPath}\" alt=\"${baseName(item)}\" />` +\n                    '</div>' +\n                    `<div class=\"pwt-gallery__item__imagename\">${\n                      imageName\n                    }</div>` +\n                    '</div>' +\n                    '</a>' +\n                    '</div>';\n        break;\n    }\n\n    return imageElement;\n  }\n\n  /**\n     * Find a known error message\n     *\n     * @param response  The response message to analyze\n     *\n     * @returns {string}\n     */\n  function findErrorMessage(response) {\n    // 'Fatal error: Allowed memory size';\n    const pattern = 'Allowed memory size';\n\n    if (response.indexOf(pattern) !== -1) {\n      return Joomla.JText._('COM_PWTIMAGE_ERROR_ALLOWED_MEMORY_SIZE');\n    }\n\n    return '';\n  }\n\n  /**\n     * This adds a file on the server to the canvas for cropping\n     *\n     * @param element  The page element to find the ID for.\n     * @param file     The selected image on the server\n     * @param image\n     * @param upload\n     *\n     * @returns {boolean}\n     */\n  pwtImage.addImageToCanvas = function (element, file, image, upload) {\n    const id = getParentId(element);\n\n    if (upload === undefined || upload === null) {\n      upload = false;\n    }\n\n    // Remove any existing cropper boxes\n    jQuery(`#${id} div.pwt-body div.cropper-container > div.cropper-container`).remove();\n\n    // Get the ratio\n    const ratio = jQuery(`#${id} .js-pwt-image-ratio`).val();\n    const ratioSplit = ratio.split('/');\n\n    // Get the image field\n    if (!upload) {\n      image = document.getElementById(`${id}_js-pwtimage-image`);\n    }\n\n    // Instantiate the cropper\n    var cropper = new Cropper(image, {\n      aspectRatio: ratioSplit[0] / ratioSplit[1],\n      viewMode,\n      crop(e) {\n        const json = [\n          `{\"x\":${e.detail.x}`,\n          `\"y\":${e.detail.y}`,\n          `\"height\":${e.detail.height}`,\n          `\"width\":${e.detail.width}`,\n          `\"rotate\":${e.detail.rotate}`,\n          `\"scaleX\":${e.detail.scaleX}`,\n          `\"scaleY\":${e.detail.scaleY}}`\n        ].join();\n\n        jQuery(`#${id} .js-pwt-image-data`).val(json);\n      },\n      ready() {\n        const imageData = cropper.getImageData();\n        cropper.setCropBoxData(\n          {\n            top: 0,\n            width: imageData.width\n          }\n        );\n      }\n    });\n\n    // Add the cropper to the list of croppers\n    if (upload) {\n      croppers[id] = cropper;\n      cropper.init();\n\n      // Set the image value in the form\n      window.parent.jQuery(`#${id}_value`).prop('value', file.name).trigger('change');\n    } else {\n      // Replace the image\n      cropper.replace(file);\n      croppers[id] = cropper;\n    }\n\n    // Hide the message\n    jQuery(`#${id} .pwt-fulltab-message`).addClass('is-hidden');\n\n    // Enable the Save & new button\n    jQuery(`#${id} button.js-button-save-new`).prop('disabled', false);\n\n    jQuery(`#${id} .js-image-info`).removeClass('is-hidden');\n\n    // Make the edit tab visible\n    jQuery('[href=\"#edit\"]').trigger('click');\n    jQuery(`#${id} .js-button-image`).removeClass('hidden');\n\n    return false;\n  };\n\n  /**\n     * Get the basename of a filename with path\n     *\n     * @param str\n     * @returns {string}\n     */\n  function baseName(str) {\n    let base = str.substring(str.lastIndexOf('/') + 1);\n\n    if (base.lastIndexOf('.') !== -1) {\n      base = base.substring(0, base.lastIndexOf('.'));\n    }\n\n    return base;\n  }\n\n  /**\n     * Close the modal window\n     */\n  pwtImage.closeModal =  function () {\n    if (wysiwyg) {\n      if (resultFile) {\n        jQuery('form.js-image-form #formPath').val(resultFile);\n      }\n\n      if (altText) {\n        jQuery('form.js-image-form #alt').val(altText);\n      }\n\n      if (captionText) {\n        jQuery('form.js-image-form #caption').val(captionText);\n      }\n\n      jQuery('form.js-image-form #layout').val('close');\n      jQuery('form.js-image-form').submit();\n    } else {\n      window.parent.jQuery(`iframe#pwtImageFrame-${targetId}`).prop('src', iFrameLink);\n      window.parent.jQuery('#js-modal-close').click();\n    }\n  };\n\n  /**\n     * Show the applicable destination option\n     */\n  pwtImage.setDestination = function (element) {\n    const id = getParentId(element);\n\n    if (choicesDestination !== undefined) {\n      switch (choicesDestination.getValue().value) {\n        case 'default':\n          jQuery(`#${id}_enterFolder`).addClass('is-visible').removeClass('is-hidden');\n          jQuery(`#${id}_subPath`).prop('disabled', true);\n          jQuery(`#${id}_selectFolder`).addClass('is-hidden').removeClass('is-visible');\n          break;\n        case 'select':\n          jQuery(`#${id}_enterFolder`).addClass('is-hidden').removeClass('is-visible');\n          jQuery(`#${id}_selectFolder`).addClass('is-visible').removeClass('is-hidden');\n          break;\n        case 'custom':\n          jQuery(`#${id}_enterFolder`).addClass('is-visible').removeClass('is-hidden');\n          jQuery(`#${id}_subPath`).prop('disabled', false);\n          jQuery(`#${id}_selectFolder`).addClass('is-hidden').removeClass('is-visible');\n          break;\n      }\n\n      jQuery(`#${id}_selectFolder`).trigger('change');\n    }\n  };\n\n  /**\n     * Shows the alt and caption input fields for a selected gallery image\n     *\n     * @param element\n     */\n  pwtImage.imageInfo = function (element) {\n    // Check if we should act on the click, only act in the sortable result div\n    if (jQuery(element).closest('#js-sortable-result').length === 0) {\n      return;\n    }\n\n    // Check if we are selected\n    const isSelected = jQuery(element).parent().find('a').hasClass('is-selected');\n\n    // Remove all selected borders\n    jQuery('#js-sortable-result').find('a.is-selected').removeClass('is-selected');\n\n    // Hide any existing inputs\n    jQuery('#gallery-image-info .js-image-info').hide();\n\n    // If we were selected, don't select it again\n    if (isSelected) {\n      // Show the Alt and Caption box\n      jQuery('#gallery-image-info').hide();\n\n      return;\n    }\n\n    // Add border to selected image\n    jQuery(element).parent().find('a').addClass('is-selected');\n\n    // Get the unique image name\n    if (element.type === 'button') {\n      var imageName = jQuery(element).siblings().find('img').prop('src').replace(/[\\/\\.]/g, '_');\n    } else {\n      var imageName = jQuery(element).find('img').prop('src').replace(/[\\/\\.]/g, '_');\n    }\n\n    // Check if an input exists\n    if (jQuery(`#gallery-image-info input[name=\"input_${imageName}_alt\"]`).length === 0) {\n      // Create the text field image name\n      const pathField = document.createElement('div');\n      pathField.className = `js-image-info ${imageName}_path`;\n      pathField.innerHTML = jQuery(element).parent().find('img').prop('src');\n      jQuery('#gallery-image-info .pwt-form-group:first').append(pathField);\n\n      // Create the alt input box with a unique name\n      const altInput = document.createElement('input');\n      altInput.type = 'text';\n      altInput.name = `input_${imageName}_alt`;\n      altInput.className = 'pwt-form-control js-image-info js-pwt-image-alt';\n      jQuery('#gallery-image-info .pwt-form-group:nth-child(3)').append(altInput);\n\n      // Create the caption input box with a unique name\n      const captionInput = document.createElement('input');\n      captionInput.type = 'text';\n      captionInput.name = `input_${imageName}_caption`;\n      captionInput.className = 'pwt-form-control js-image-info js-pwt-image-caption';\n      jQuery('#gallery-image-info .pwt-form-group:nth-child(4)').append(captionInput);\n    } else {\n      // Show existing input boxes\n      jQuery(`#gallery-image-info div.${imageName}_path`).show();\n      jQuery(`#gallery-image-info input[name=\"input_${imageName}_alt\"]`).show();\n      jQuery(`#gallery-image-info input[name=\"input_${imageName}_caption\"]`).show();\n    }\n\n    // Show the Alt and Caption box\n    jQuery('#gallery-image-info').show();\n\n    jQuery(`#gallery-image-info input[name=\"input_${imageName}_alt\"]`).focus();\n  };\n\n  /**\n     * Clean up after uploading an image\n     *\n     * @param element\n     */\n  pwtImage.cleanUpAfterUpload = function (element) {\n    const id = getParentId(element);\n\n    // Make the edit tab visible\n    jQuery('[href=\"#edit\"]').trigger('click');\n\n    // Set the Save to folder selector to default\n    if (choicesDestination !== undefined) {\n      choicesDestination.setChoiceByValue('default');\n      pwtImage.setDestination(`#${id}_destinationFolder`);\n    }\n\n    // Clear the local file\n    jQuery('.js-pwt-image-localfile').val('');\n  };\n\n  /**\n     * Create a preview of the manual uploaded image\n     *\n     * @param element\n     * @returns {boolean}\n     */\n  pwtImage.uploadImagePreview = function (element) {\n    // Get the image details\n    const url = window.URL || window.webkitURL;\n\n    // Check if we have a URL\n    if (url) {\n      // Get the image field\n      const id = getParentId(element);\n      const imageUpload = document.getElementById(`${id}_upload`);\n\n      imageUpload.onchange = function () {\n        // Create the preview\n        pwtImage.createPreview(element, this.files);\n\n        // Clean up\n        pwtImage.cleanUpAfterUpload(element);\n\n        // Hide the use original image option, if use original is available\n        const useOriginal = document.getElementById('useOriginal');\n\n        if (useOriginal !== null) {\n          // Perform the operations\n          pwtImage.useOriginal(id, element);\n\n          // Uncheck the box\n          document.getElementById('useOriginal').checked = false;\n          document.getElementById('useOriginal').value = 0;\n\n          // Hide the box\n          document.getElementById('useOriginal').parentElement.style.display = 'none';\n        }\n\n        // Make the edit tab active\n        jQuery('[href=\"#edit\"]')[0].click();\n\n        if (showImageDirect) {\n          pwtImage.directToCanvas(element);\n        }\n      };\n    }\n\n    return false;\n  };\n\n  /**\n     * Shortcut for adding image to canvas from preview window\n     *\n     * @param element\n     */\n  pwtImage.directToCanvas = function (element) {\n    const id = getParentId(element);\n\n    // Set the correct classes\n    jQuery(`#${id} .js-image-preview`).addClass('is-hidden');\n    jQuery(`#${id} .js-image-cropper`).removeClass('is-hidden');\n\n    // Get the file to show\n    const file = jQuery(`#${id}_preview img`).prop('src');\n\n    // Disable the keep original size option\n    jQuery(`#${id} #keepOriginal`).prop('checked', false);\n\n    // Add the file to the canvas\n    pwtImage.addImageToCanvas(element, file);\n  };\n\n  /**\n     * Create an image preview for a manual or drag and drop uploaded image\n     *\n     * @param element\n     * @param files\n     * @returns {boolean}\n     */\n  pwtImage.createPreview = function (element, files) {\n    // Get the parent ID\n    const id = getParentId(element);\n    const image = jQuery(`#${id}_preview img`);\n\n    // Check if any file has been uploaded\n    if (files && files.length) {\n      // Store the uploaded files\n      uploadImage = files;\n\n      // Get the values\n      var file = files[0];\n      const imageMaxSize = jQuery('.js-pwt-image-maxsize').val();\n      const dimensionSizes = jQuery('.js-pwt-image-dimensionsize');\n\n      // Check if the image is within our maximum sizes\n      if (file.size > imageMaxSize && imageMaxSize > 0) {\n        window.alert(jQuery('.js-pwt-image-maxsize-message').val());\n\n        // Clear the images\n        imageUpload.value = '';\n        image.removeAttribute('src');\n\n        return false;\n      }\n\n      // Check if the image is of an image type\n      if (/^image\\/\\w+$/.test(file.type)) {\n        // Load the image\n        image.prop('src', URL.createObjectURL(file));\n\n        // Now check for dimension size\n        if (image.naturalHeight > dimensionSizes.val() || image.naturalWidth > dimensionSizes.val()) {\n          // Show the error message\n          window.alert(jQuery('.js-pwt-image-maxsize-message').val());\n\n          // Clear the images\n          imageUpload.value = '';\n          image.removeAttribute('src');\n\n          return false;\n        }\n\n        // Set the filename in the Save to folder location\n        const fileName = file.name.split('/').slice(-1)[0];\n        jQuery(`#${id} #pwt-image-targetFile`).val(fileName);\n\n        // Set the width\n      } else {\n        window.alert(Joomla.JText._('COM_PWTIMAGE_CHOOSE_IMAGE', 'Please choose an image file.'));\n      }\n    }\n\n    // Hide the message\n    jQuery(`#${id} .pwt-message`).removeClass('is-visible');\n\n    // Show the preview\n    jQuery(`#${id} .pwt-edit-block`).removeClass('is-hidden');\n    jQuery(`#${id} .pwt-fulltab-message`).addClass('is-hidden');\n\n    // Enable the insert button on the edit page\n    jQuery(`#${id} .js-button-image`).prop('disabled', false);\n\n    // Show some basic info of the original file\n    image.off('load').on('load', function () {\n      jQuery('.js-pwt-filename').html(file.name);\n      jQuery('.js-pwt-filesize').html(filesize(file.size));\n      jQuery('.js-pwt-fileext').html(file.type.replace('image/', ''));\n      jQuery('.js-pwt-filedimensions').html(`${this.naturalWidth} x ${this.naturalHeight}`);\n    });\n  };\n\n  /**\n     * Add an image selected from server to the edit tab. Not in the cropper but in a div.\n     *\n     * @param element\n     * @param file\n     */\n  pwtImage.previewImage = function (element, file) {\n    const id = getParentId(element);\n\n    pwtImage.cancelImage(id);\n\n    // Get the local path of the file\n    const cleanFile = file.replace(rootPath, '/');\n\n    jQuery(`#${id}_preview img`).prop('src', file);\n    jQuery(`#${id}_js-pwtimage-image`).prop('src', cleanFile);\n    jQuery(`#${id} .js-pwt-image-localfile`).val(cleanFile);\n\n    // Make the edit tab visible\n    jQuery('[href=\"#edit\"]').trigger('click');\n\n    // Hide the message\n    jQuery(`#${id} .pwt-fulltab-message`).addClass('is-hidden');\n    jQuery(`#${id} .pwt-edit-block`).removeClass('is-hidden');\n\n    // Show the preview\n    jQuery(`#${id} .js-image-preview`).removeClass('is-hidden');\n\n    // Set the folder option to select\n    if (choicesDestination !== undefined) {\n      // Check if the select option exists\n      choicesDestination.setChoiceByValue('select');\n      var selected = choicesDestination.getValue().value;\n\n      if (selected !== 'select') {\n        choicesDestination.setChoiceByValue('default');\n      }\n\n      pwtImage.setDestination(`#${id}_destinationFolder`);\n    }\n\n    // Remove the domain form the file\n    if (file.indexOf(rootPath) === 0) {\n      file = file.substring(rootPath.length - 1);\n    }\n\n    // Set the path of the image\n    const basePath = jQuery(`#${id}_selectFolder`).prev().text();\n    let path = file.substring(basePath.length, file.lastIndexOf('/'));\n    const filename = file.substring(file.lastIndexOf('/') + 1);\n\n    const sourcePath = jQuery(`#${id} .js-sourcePath`).text();\n\n    if (path.lastIndexOf(sourcePath) === 0) {\n      path = path.substring(sourcePath.length);\n    }\n\n    if (path.length > 1) {\n      if (selected === 'select' && choicesFolder !== undefined) {\n        choicesFolder.setChoiceByValue(path);\n      } else {\n        jQuery(`#${id}_subPath`).val(`${path}/`);\n      }\n    }\n\n    if (filename.length > 0) {\n      jQuery(`#${id} #pwt-image-targetFile`).val(filename);\n    }\n\n    // Enable the insert button on the edit page\n    jQuery(`#${id} .js-button-image`).prop('disabled', false);\n\n    if (showImageDirect) {\n      pwtImage.directToCanvas('.pwt-content');\n    }\n\n    // Show the Use original image option\n    document.getElementById('useOriginal').parentElement.style.display = 'block';\n\n    // Show some basic info of the original file\n    jQuery.ajax({\n      type: 'POST',\n      data: {\n        option: 'com_pwtimage',\n        task: 'image.loadMetaData',\n        format: 'json',\n        image: file\n      },\n      url: jQuery('#post-url').val(),\n      headers: {\n        'X-CSRF-TOKEN': sessionValue\n      },\n      success(response) {\n        if (response && response.success === true) {\n          file = response.data;\n\n          jQuery('.js-pwt-filename').html(file.name);\n          jQuery('.js-pwt-filesize').html(filesize(file.size));\n          jQuery('.js-pwt-fileext').html(file.mime.replace('image/', ''));\n          jQuery('.js-pwt-filedimensions').html(`${file[0]} x ${file[1]}`);\n        }\n      },\n      error(response) {\n        // Hide the info section\n        console.log(response);\n      }\n    });\n  };\n\n  /**\n     * Cancel the editing of the current image\n     */\n  pwtImage.cancelImage = function (id) {\n    jQuery(`#${id} button.js-button-save-new`).prop('disabled', true);\n    jQuery(`#${id} .js-image-cropper`).addClass('is-hidden');\n    jQuery(`#${id} .js-image-info`).addClass('is-hidden');\n    jQuery(`#${id} .js-image-preview`).removeClass('is-hidden');\n  };\n\n  /**\n     * Filter the select list of images\n     *\n     * @param search The search value to filter on\n     * @param page   The page that is active\n     */\n  pwtImage.selectFilter = function (search, page) {\n    // Remove all images\n    jQuery('#select .pwt-filepicker__content .pwt-gallery__items--images').html('');\n\n    if (page === undefined) {\n      page = 1;\n    }\n\n    // Initialise all variables\n    const id = getParentId('#selectFilter');\n    const storedFiles = getFromLocalStorage(id, 'files');\n    const basePath = getFromLocalStorage(id, 'basePath');\n    let filteredItems = storedFiles;\n    const target = 'select';\n    const start = page === 1 ? 0 : (page - 1) * imageLimit;\n    const end = page * imageLimit;\n    const pagination = [];\n\n    // If we have a search filter, filter the images\n    if (search) {\n      filteredItems = filterItems(storedFiles, search);\n    }\n\n    // Get the final list of items\n    const files = filteredItems.slice(start, end);\n\n    // Create the list of images to show\n    const links = prepareImages(files, basePath, target);\n\n    // Add the files\n    const itemImages = jQuery(`#${id} #${target} .pwt-gallery__items--images`);\n    itemImages.html('');\n\n    if (links.length) {\n      itemImages.html(links.join(' '));\n    }\n\n    // Setup pagination\n    const pages = Math.ceil(filteredItems.length / imageLimit);\n\n    for (page = 1; page <= pages; page++) {\n      pagination.push(`<a onclick=\"pwtImage.showMoreImages('.pwt-gallery__items--images', ${page}, '${target}');\">${page}</a>`);\n    }\n\n    // Add the pagination\n    const paginationBar = jQuery(`#${id} #${target} .pwt-pagination`);\n    paginationBar.html('');\n\n    if (pagination.length) {\n      paginationBar.html(`<div class=\"pwt-pagination__pages\">${pagination.join(' ')}</div>`);\n    }\n  };\n\n  /**\n     * Restore canvas as user wants to keep the original image\n     */\n  pwtImage.useOriginal = function (id, element) {\n    const elements = document.getElementsByClassName('pwt-image-modify');\n    let display  = '';\n\n    if (jQuery(element).is(':checked')) {\n      pwtImage.cancelImage(id);\n\n      // Hide modify elements\n      display = 'none';\n    }\n\n    for (let i = 0; i < elements.length; i++) {\n      elements[i].style.display = display;\n    }\n  };\n\n  /**\n     * Restore canvas as user wants to keep the original image\n     */\n  pwtImage.keepOriginal = function (id, element) {\n    if (jQuery(element).is(':checked')) {\n      pwtImage.cancelImage(id);\n    }\n  };\n\n  /**\n     * Array filters items based on search criteria (query)\n     *\n     * @param items\n     * @param query\n     */\n  function filterItems(items, query) {\n    return items.filter((el) => el.toLowerCase().indexOf(query.toLowerCase()) > -1);\n  }\n\n  /**\n     * Get the filesize in a human readable string\n     *\n     * @param size The size in bits\n     *\n     * @return string Human readable string\n     */\n  function filesize(size) {\n    const kb = (size / 1024).toFixed(2);\n    const mb = (size / 1048576).toFixed(2);\n\n    return mb >= 1 ? `${mb} MB` : `${kb} KB`;\n  }\n\n  /**\n     * Add the data from the localStorage\n     *\n     * @param id The unique session ID\n     * @param type The type of data to be stored\n     * @param payload The data to be stored\n     */\n  function addToLocalStorage(id, type, payload) {\n    // Get our container\n    let container = JSON.parse(localStorage.getItem('pwtImage'));\n\n    // Make sure the container is defined\n    if (container === undefined || container === null) {\n      container = {};\n    }\n\n    // Construct a unique key\n    const key = `${id}_${type}`;\n\n    // Check for any existing IDs, remove obsolete ones\n    for (const storedKey in container) {\n      if (storedKey.indexOf(type) > 0 && key !== storedKey && container.hasOwnProperty(storedKey)) {\n        delete container[storedKey];\n      }\n    }\n\n    // Fill the container\n    container[key] = payload;\n\n    // Store the container\n    localStorage.setItem('pwtImage', JSON.stringify(container));\n  }\n\n  /**\n     * Get the data from the localStorage\n     */\n  function getFromLocalStorage(id, type) {\n    // Get our container\n    const container = JSON.parse(localStorage.getItem('pwtImage'));\n\n    // Make sure the container is defined\n    if (container === undefined || container === null) {\n      return [];\n    }\n\n    // Construct a unique key\n    const key = `${id}_${type}`;\n\n    // Check if the key exist\n    if (container.hasOwnProperty(key)) {\n      return container[key];\n    }\n  }\n\n  /**\n     * Render a Joomla system message\n     */\n  function renderMessage(message, local) {\n    if (local === 'undefined') {\n      // Render the Joomla message, first make sure there is a message container present\n      var messageContainer = window.parent.document.getElementById('system-message-container');\n\n      if (!messageContainer) {\n        return true;\n      }\n\n      window.parent.Joomla.renderMessages(message);\n    } else {\n      // Render the Joomla message, first make sure there is a message container present\n      var messageContainer = window.document.getElementById('system-message-container');\n\n      if (!messageContainer) {\n        return true;\n      }\n\n      window.Joomla.renderMessages(message);\n    }\n  }\n\n  // Return the public parts\n  return pwtImage;\n}());\n\n(function webpackUniversalModuleDefinition(root, factory) {\n\t//CommonJS2\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\t//AMD\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\t//CommonJS\n\telse if(typeof exports === 'object')\n\t\texports[\"Choices\"] = factory();\n\t//Window\n\telse\n\t\troot[\"Choices\"] = factory();\n})(window, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/ \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create a fake namespace object\n/******/ \t// mode & 1: value is a module id, require it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/ \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1: behave like require\n/******/ \t__webpack_require__.t = function(value, mode) {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/ \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"/public/assets/scripts/\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 9);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.diff = exports.cloneObject = exports.existsInArray = exports.isIE11 = exports.fetchFromObject = exports.getWindowHeight = exports.dispatchEvent = exports.sortByScore = exports.sortByAlpha = exports.calcWidthOfInput = exports.strToEl = exports.sanitise = exports.isScrolledIntoView = exports.getAdjacentEl = exports.findAncestorByAttrName = exports.wrap = exports.isElement = exports.isType = exports.getType = exports.generateId = exports.generateChars = exports.getRandomNumber = void 0;\n\nvar _this = void 0;\n\nvar getRandomNumber = function getRandomNumber(min, max) {\n  return Math.floor(Math.random() * (max - min) + min);\n};\n\nexports.getRandomNumber = getRandomNumber;\n\nvar generateChars = function generateChars(length) {\n  var chars = '';\n\n  for (var i = 0; i < length; i++) {\n    var randomChar = getRandomNumber(0, 36);\n    chars += randomChar.toString(36);\n  }\n\n  return chars;\n};\n\nexports.generateChars = generateChars;\n\nvar generateId = function generateId(element, prefix) {\n  var id = element.id || element.name && \"\".concat(element.name, \"-\").concat(generateChars(2)) || generateChars(4);\n  id = id.replace(/(:|\\.|\\[|\\]|,)/g, '');\n  id = \"\".concat(prefix, \"-\").concat(id);\n  return id;\n};\n\nexports.generateId = generateId;\n\nvar getType = function getType(obj) {\n  return Object.prototype.toString.call(obj).slice(8, -1);\n};\n\nexports.getType = getType;\n\nvar isType = function isType(type, obj) {\n  return obj !== undefined && obj !== null && getType(obj) === type;\n};\n\nexports.isType = isType;\n\nvar isElement = function isElement(element) {\n  return element instanceof Element;\n};\n\nexports.isElement = isElement;\n\nvar wrap = function wrap(element) {\n  var wrapper = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : document.createElement('div');\n\n  if (element.nextSibling) {\n    element.parentNode.insertBefore(wrapper, element.nextSibling);\n  } else {\n    element.parentNode.appendChild(wrapper);\n  }\n\n  return wrapper.appendChild(element);\n};\n\nexports.wrap = wrap;\n\nvar findAncestorByAttrName = function findAncestorByAttrName(el, attr) {\n  var target = el;\n\n  while (target) {\n    if (target.hasAttribute(attr)) {\n      return target;\n    }\n\n    target = target.parentElement;\n  }\n\n  return null;\n};\n\nexports.findAncestorByAttrName = findAncestorByAttrName;\n\nvar getAdjacentEl = function getAdjacentEl(startEl, className) {\n  var direction = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n\n  if (!startEl || !className) {\n    return;\n  }\n\n  var parent = startEl.parentNode.parentNode;\n  var children = Array.from(parent.querySelectorAll(className));\n  var startPos = children.indexOf(startEl);\n  var operatorDirection = direction > 0 ? 1 : -1;\n  return children[startPos + operatorDirection];\n};\n\nexports.getAdjacentEl = getAdjacentEl;\n\nvar isScrolledIntoView = function isScrolledIntoView(el, parent) {\n  var direction = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n\n  if (!el) {\n    return;\n  }\n\n  var isVisible;\n\n  if (direction > 0) {\n    // In view from bottom\n    isVisible = parent.scrollTop + parent.offsetHeight >= el.offsetTop + el.offsetHeight;\n  } else {\n    // In view from top\n    isVisible = el.offsetTop >= parent.scrollTop;\n  }\n\n  return isVisible;\n};\n\nexports.isScrolledIntoView = isScrolledIntoView;\n\nvar sanitise = function sanitise(value) {\n  if (!isType('String', value)) {\n    return value;\n  }\n\n  return value.replace(/&/g, '&amp;').replace(/>/g, '&rt;').replace(/</g, '&lt;').replace(/\"/g, '&quot;');\n};\n\nexports.sanitise = sanitise;\n\nvar strToEl = function () {\n  var tmpEl = document.createElement('div');\n  return function (str) {\n    var cleanedInput = str.trim();\n    tmpEl.innerHTML = cleanedInput;\n    var firldChild = tmpEl.children[0];\n\n    while (tmpEl.firstChild) {\n      tmpEl.removeChild(tmpEl.firstChild);\n    }\n\n    return firldChild;\n  };\n}();\n/**\n * Determines the width of a passed input based on its value and passes\n * it to the supplied callback function.\n */\n\n\nexports.strToEl = strToEl;\n\nvar calcWidthOfInput = function calcWidthOfInput(input, callback) {\n  var value = input.value || input.placeholder;\n  var width = input.offsetWidth;\n\n  if (value) {\n    var testEl = strToEl(\"<span>\".concat(sanitise(value), \"</span>\"));\n    testEl.style.position = 'absolute';\n    testEl.style.padding = '0';\n    testEl.style.top = '-9999px';\n    testEl.style.left = '-9999px';\n    testEl.style.width = 'auto';\n    testEl.style.whiteSpace = 'pre';\n\n    if (document.body.contains(input) && window.getComputedStyle) {\n      var inputStyle = window.getComputedStyle(input);\n\n      if (inputStyle) {\n        testEl.style.fontSize = inputStyle.fontSize;\n        testEl.style.fontFamily = inputStyle.fontFamily;\n        testEl.style.fontWeight = inputStyle.fontWeight;\n        testEl.style.fontStyle = inputStyle.fontStyle;\n        testEl.style.letterSpacing = inputStyle.letterSpacing;\n        testEl.style.textTransform = inputStyle.textTransform;\n        testEl.style.padding = inputStyle.padding;\n      }\n    }\n\n    document.body.appendChild(testEl);\n    requestAnimationFrame(function () {\n      if (value && testEl.offsetWidth !== input.offsetWidth) {\n        width = testEl.offsetWidth + 4;\n      }\n\n      document.body.removeChild(testEl);\n      callback.call(_this, \"\".concat(width, \"px\"));\n    });\n  } else {\n    callback.call(_this, \"\".concat(width, \"px\"));\n  }\n};\n\nexports.calcWidthOfInput = calcWidthOfInput;\n\nvar sortByAlpha = function sortByAlpha(a, b) {\n  var labelA = \"\".concat(a.label || a.value).toLowerCase();\n  var labelB = \"\".concat(b.label || b.value).toLowerCase();\n\n  if (labelA < labelB) {\n    return -1;\n  }\n\n  if (labelA > labelB) {\n    return 1;\n  }\n\n  return 0;\n};\n\nexports.sortByAlpha = sortByAlpha;\n\nvar sortByScore = function sortByScore(a, b) {\n  return a.score - b.score;\n};\n\nexports.sortByScore = sortByScore;\n\nvar dispatchEvent = function dispatchEvent(element, type) {\n  var customArgs = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n  var event = new CustomEvent(type, {\n    detail: customArgs,\n    bubbles: true,\n    cancelable: true\n  });\n  return element.dispatchEvent(event);\n};\n\nexports.dispatchEvent = dispatchEvent;\n\nvar getWindowHeight = function getWindowHeight() {\n  var body = document.body;\n  var html = document.documentElement;\n  return Math.max(body.scrollHeight, body.offsetHeight, html.clientHeight, html.scrollHeight, html.offsetHeight);\n};\n\nexports.getWindowHeight = getWindowHeight;\n\nvar fetchFromObject = function fetchFromObject(object, path) {\n  var index = path.indexOf('.');\n\n  if (index > -1) {\n    return fetchFromObject(object[path.substring(0, index)], path.substr(index + 1));\n  }\n\n  return object[path];\n};\n\nexports.fetchFromObject = fetchFromObject;\n\nvar isIE11 = function isIE11() {\n  return !!(navigator.userAgent.match(/Trident/) && navigator.userAgent.match(/rv[ :]11/));\n};\n\nexports.isIE11 = isIE11;\n\nvar existsInArray = function existsInArray(array, value) {\n  var key = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'value';\n  return array.some(function (item) {\n    if (isType('String', value)) {\n      return item[key] === value.trim();\n    }\n\n    return item[key] === value;\n  });\n};\n\nexports.existsInArray = existsInArray;\n\nvar cloneObject = function cloneObject(obj) {\n  return JSON.parse(JSON.stringify(obj));\n};\n\nexports.cloneObject = cloneObject;\n\nvar diff = function diff(a, b) {\n  var aKeys = Object.keys(a).sort();\n  var bKeys = Object.keys(b).sort();\n  return aKeys.filter(function (i) {\n    return bKeys.indexOf(i) < 0;\n  });\n};\n\nexports.diff = diff;\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SCROLLING_SPEED = exports.KEY_CODES = exports.ACTION_TYPES = exports.EVENTS = exports.DEFAULT_CONFIG = exports.DEFAULT_CLASSNAMES = void 0;\n\nvar _utils = __webpack_require__(0);\n\nvar DEFAULT_CLASSNAMES = {\n  containerOuter: 'choices',\n  containerInner: 'choices__inner',\n  input: 'choices__input',\n  inputCloned: 'choices__input--cloned',\n  list: 'choices__list',\n  listItems: 'choices__list--multiple',\n  listSingle: 'choices__list--single',\n  listDropdown: 'choices__list--dropdown',\n  item: 'choices__item',\n  itemSelectable: 'choices__item--selectable',\n  itemDisabled: 'choices__item--disabled',\n  itemChoice: 'choices__item--choice',\n  placeholder: 'choices__placeholder',\n  group: 'choices__group',\n  groupHeading: 'choices__heading',\n  button: 'choices__button',\n  activeState: 'is-active',\n  focusState: 'is-focused',\n  openState: 'is-open',\n  disabledState: 'is-disabled',\n  highlightedState: 'is-highlighted',\n  hiddenState: 'is-hidden',\n  flippedState: 'is-flipped',\n  loadingState: 'is-loading',\n  noResults: 'has-no-results',\n  noChoices: 'has-no-choices'\n};\nexports.DEFAULT_CLASSNAMES = DEFAULT_CLASSNAMES;\nvar DEFAULT_CONFIG = {\n  items: [],\n  choices: [],\n  silent: false,\n  renderChoiceLimit: -1,\n  maxItemCount: -1,\n  addItems: true,\n  addItemFilterFn: null,\n  removeItems: true,\n  removeItemButton: false,\n  editItems: false,\n  duplicateItemsAllowed: true,\n  delimiter: ',',\n  paste: true,\n  searchEnabled: true,\n  searchChoices: true,\n  searchFloor: 1,\n  searchResultLimit: 4,\n  searchFields: ['label', 'value'],\n  position: 'auto',\n  resetScrollPosition: true,\n  shouldSort: true,\n  shouldSortItems: false,\n  sortFn: _utils.sortByAlpha,\n  placeholder: true,\n  placeholderValue: null,\n  searchPlaceholderValue: null,\n  prependValue: null,\n  appendValue: null,\n  renderSelectedChoices: 'auto',\n  loadingText: 'Loading...',\n  noResultsText: 'No results found',\n  noChoicesText: 'No choices to choose from',\n  itemSelectText: 'Press to select',\n  uniqueItemText: 'Only unique values can be added',\n  customAddItemText: 'Only values matching specific conditions can be added',\n  addItemText: function addItemText(value) {\n    return \"Press Enter to add <b>\\\"\".concat((0, _utils.sanitise)(value), \"\\\"</b>\");\n  },\n  maxItemText: function maxItemText(maxItemCount) {\n    return \"Only \".concat(maxItemCount, \" values can be added\");\n  },\n  itemComparer: function itemComparer(choice, item) {\n    return choice === item;\n  },\n  fuseOptions: {\n    includeScore: true\n  },\n  callbackOnInit: null,\n  callbackOnCreateTemplates: null,\n  classNames: DEFAULT_CLASSNAMES\n};\nexports.DEFAULT_CONFIG = DEFAULT_CONFIG;\nvar EVENTS = {\n  showDropdown: 'showDropdown',\n  hideDropdown: 'hideDropdown',\n  change: 'change',\n  choice: 'choice',\n  search: 'search',\n  addItem: 'addItem',\n  removeItem: 'removeItem',\n  highlightItem: 'highlightItem',\n  highlightChoice: 'highlightChoice'\n};\nexports.EVENTS = EVENTS;\nvar ACTION_TYPES = {\n  ADD_CHOICE: 'ADD_CHOICE',\n  FILTER_CHOICES: 'FILTER_CHOICES',\n  ACTIVATE_CHOICES: 'ACTIVATE_CHOICES',\n  CLEAR_CHOICES: 'CLEAR_CHOICES',\n  ADD_GROUP: 'ADD_GROUP',\n  ADD_ITEM: 'ADD_ITEM',\n  REMOVE_ITEM: 'REMOVE_ITEM',\n  HIGHLIGHT_ITEM: 'HIGHLIGHT_ITEM',\n  CLEAR_ALL: 'CLEAR_ALL'\n};\nexports.ACTION_TYPES = ACTION_TYPES;\nvar KEY_CODES = {\n  BACK_KEY: 46,\n  DELETE_KEY: 8,\n  ENTER_KEY: 13,\n  A_KEY: 65,\n  ESC_KEY: 27,\n  UP_KEY: 38,\n  DOWN_KEY: 40,\n  PAGE_UP_KEY: 33,\n  PAGE_DOWN_KEY: 34\n};\nexports.KEY_CODES = KEY_CODES;\nvar SCROLLING_SPEED = 4;\nexports.SCROLLING_SPEED = SCROLLING_SPEED;\n\n/***/ }),\n/* 2 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global, module) {/* harmony import */ var _ponyfill_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(7);\n/* global window */\n\n\nvar root;\n\nif (typeof self !== 'undefined') {\n  root = self;\n} else if (typeof window !== 'undefined') {\n  root = window;\n} else if (typeof global !== 'undefined') {\n  root = global;\n} else if (true) {\n  root = module;\n} else {}\n\nvar result = Object(_ponyfill_js__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])(root);\n/* harmony default export */ __webpack_exports__[\"a\"] = (result);\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(3), __webpack_require__(14)(module)))\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports) {\n\nvar g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _utils = __webpack_require__(0);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar WrappedElement =\n/*#__PURE__*/\nfunction () {\n  function WrappedElement(_ref) {\n    var element = _ref.element,\n        classNames = _ref.classNames;\n\n    _classCallCheck(this, WrappedElement);\n\n    Object.assign(this, {\n      element: element,\n      classNames: classNames\n    });\n\n    if (!(0, _utils.isElement)(element)) {\n      throw new TypeError('Invalid element passed');\n    }\n\n    this.isDisabled = false;\n  }\n\n  _createClass(WrappedElement, [{\n    key: \"conceal\",\n    value: function conceal() {\n      // Hide passed input\n      this.element.classList.add(this.classNames.input);\n      this.element.classList.add(this.classNames.hiddenState); // Remove element from tab index\n\n      this.element.tabIndex = '-1'; // Backup original styles if any\n\n      var origStyle = this.element.getAttribute('style');\n\n      if (origStyle) {\n        this.element.setAttribute('data-choice-orig-style', origStyle);\n      }\n\n      this.element.setAttribute('aria-hidden', 'true');\n      this.element.setAttribute('data-choice', 'active');\n    }\n  }, {\n    key: \"reveal\",\n    value: function reveal() {\n      // Reinstate passed element\n      this.element.classList.remove(this.classNames.input);\n      this.element.classList.remove(this.classNames.hiddenState);\n      this.element.removeAttribute('tabindex'); // Recover original styles if any\n\n      var origStyle = this.element.getAttribute('data-choice-orig-style');\n\n      if (origStyle) {\n        this.element.removeAttribute('data-choice-orig-style');\n        this.element.setAttribute('style', origStyle);\n      } else {\n        this.element.removeAttribute('style');\n      }\n\n      this.element.removeAttribute('aria-hidden');\n      this.element.removeAttribute('data-choice'); // Re-assign values - this is weird, I know\n\n      this.element.value = this.element.value;\n    }\n  }, {\n    key: \"enable\",\n    value: function enable() {\n      this.element.removeAttribute('disabled');\n      this.element.disabled = false;\n      this.isDisabled = false;\n    }\n  }, {\n    key: \"disable\",\n    value: function disable() {\n      this.element.setAttribute('disabled', '');\n      this.element.disabled = true;\n      this.isDisabled = true;\n    }\n  }, {\n    key: \"triggerEvent\",\n    value: function triggerEvent(eventType, data) {\n      (0, _utils.dispatchEvent)(this.element, eventType, data);\n    }\n  }, {\n    key: \"value\",\n    get: function get() {\n      return this.element.value;\n    }\n  }]);\n\n  return WrappedElement;\n}();\n\nexports.default = WrappedElement;\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.TEMPLATES = void 0;\n\nvar _classnames = _interopRequireDefault(__webpack_require__(27));\n\nvar _utils = __webpack_require__(0);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar TEMPLATES = {\n  containerOuter: function containerOuter(globalClasses, direction, isSelectElement, isSelectOneElement, searchEnabled, passedElementType) {\n    var tabIndex = isSelectOneElement ? 'tabindex=\"0\"' : '';\n    var role = isSelectElement ? 'role=\"listbox\"' : '';\n    var ariaAutoComplete = '';\n\n    if (isSelectElement && searchEnabled) {\n      role = 'role=\"combobox\"';\n      ariaAutoComplete = 'aria-autocomplete=\"list\"';\n    }\n\n    return (0, _utils.strToEl)(\"\\n      <div\\n        class=\\\"\".concat(globalClasses.containerOuter, \"\\\"\\n        data-type=\\\"\").concat(passedElementType, \"\\\"\\n        \").concat(role, \"\\n        \").concat(tabIndex, \"\\n        \").concat(ariaAutoComplete, \"\\n        aria-haspopup=\\\"true\\\"\\n        aria-expanded=\\\"false\\\"\\n        dir=\\\"\").concat(direction, \"\\\"\\n        >\\n      </div>\\n    \"));\n  },\n  containerInner: function containerInner(globalClasses) {\n    return (0, _utils.strToEl)(\"\\n      <div class=\\\"\".concat(globalClasses.containerInner, \"\\\"></div>\\n    \"));\n  },\n  itemList: function itemList(globalClasses, isSelectOneElement) {\n    var _classNames;\n\n    var localClasses = (0, _classnames.default)(globalClasses.list, (_classNames = {}, _defineProperty(_classNames, globalClasses.listSingle, isSelectOneElement), _defineProperty(_classNames, globalClasses.listItems, !isSelectOneElement), _classNames));\n    return (0, _utils.strToEl)(\"\\n      <div class=\\\"\".concat(localClasses, \"\\\"></div>\\n    \"));\n  },\n  placeholder: function placeholder(globalClasses, value) {\n    return (0, _utils.strToEl)(\"\\n      <div class=\\\"\".concat(globalClasses.placeholder, \"\\\">\\n        \").concat(value, \"\\n      </div>\\n    \"));\n  },\n  item: function item(globalClasses, data, removeItemButton) {\n    var _classNames2;\n\n    var ariaSelected = data.active ? 'aria-selected=\"true\"' : '';\n    var ariaDisabled = data.disabled ? 'aria-disabled=\"true\"' : '';\n    var localClasses = (0, _classnames.default)(globalClasses.item, (_classNames2 = {}, _defineProperty(_classNames2, globalClasses.highlightedState, data.highlighted), _defineProperty(_classNames2, globalClasses.itemSelectable, !data.highlighted), _defineProperty(_classNames2, globalClasses.placeholder, data.placeholder), _classNames2));\n\n    if (removeItemButton) {\n      var _classNames3;\n\n      localClasses = (0, _classnames.default)(globalClasses.item, (_classNames3 = {}, _defineProperty(_classNames3, globalClasses.highlightedState, data.highlighted), _defineProperty(_classNames3, globalClasses.itemSelectable, !data.disabled), _defineProperty(_classNames3, globalClasses.placeholder, data.placeholder), _classNames3));\n      return (0, _utils.strToEl)(\"\\n        <div\\n          class=\\\"\".concat(localClasses, \"\\\"\\n          data-item\\n          data-id=\\\"\").concat(data.id, \"\\\"\\n          data-value=\\\"\").concat(data.value, \"\\\"\\n          data-custom-properties='\").concat(data.customProperties, \"'\\n          data-deletable\\n          \").concat(ariaSelected, \"\\n          \").concat(ariaDisabled, \"\\n          >\\n          \").concat(data.label, \"<!--\\n       --><button\\n            type=\\\"button\\\"\\n            class=\\\"\").concat(globalClasses.button, \"\\\"\\n            data-button\\n            aria-label=\\\"Remove item: '\").concat(data.value, \"'\\\"\\n            >\\n            Remove item\\n          </button>\\n        </div>\\n      \"));\n    }\n\n    return (0, _utils.strToEl)(\"\\n      <div\\n        class=\\\"\".concat(localClasses, \"\\\"\\n        data-item\\n        data-id=\\\"\").concat(data.id, \"\\\"\\n        data-value=\\\"\").concat(data.value, \"\\\"\\n        \").concat(ariaSelected, \"\\n        \").concat(ariaDisabled, \"\\n        >\\n        \").concat(data.label, \"\\n      </div>\\n    \"));\n  },\n  choiceList: function choiceList(globalClasses, isSelectOneElement) {\n    var ariaMultiSelectable = !isSelectOneElement ? 'aria-multiselectable=\"true\"' : '';\n    return (0, _utils.strToEl)(\"\\n      <div\\n        class=\\\"\".concat(globalClasses.list, \"\\\"\\n        dir=\\\"ltr\\\"\\n        role=\\\"listbox\\\"\\n        \").concat(ariaMultiSelectable, \"\\n        >\\n      </div>\\n    \"));\n  },\n  choiceGroup: function choiceGroup(globalClasses, data) {\n    var ariaDisabled = data.disabled ? 'aria-disabled=\"true\"' : '';\n    var localClasses = (0, _classnames.default)(globalClasses.group, _defineProperty({}, globalClasses.itemDisabled, data.disabled));\n    return (0, _utils.strToEl)(\"\\n      <div\\n        class=\\\"\".concat(localClasses, \"\\\"\\n        data-group\\n        data-id=\\\"\").concat(data.id, \"\\\"\\n        data-value=\\\"\").concat(data.value, \"\\\"\\n        role=\\\"group\\\"\\n        \").concat(ariaDisabled, \"\\n        >\\n        <div class=\\\"\").concat(globalClasses.groupHeading, \"\\\">\").concat(data.value, \"</div>\\n      </div>\\n    \"));\n  },\n  choice: function choice(globalClasses, data, itemSelectText) {\n    var _classNames5;\n\n    var role = data.groupId > 0 ? 'role=\"treeitem\"' : 'role=\"option\"';\n    var localClasses = (0, _classnames.default)(globalClasses.item, globalClasses.itemChoice, (_classNames5 = {}, _defineProperty(_classNames5, globalClasses.itemDisabled, data.disabled), _defineProperty(_classNames5, globalClasses.itemSelectable, !data.disabled), _defineProperty(_classNames5, globalClasses.placeholder, data.placeholder), _classNames5));\n    return (0, _utils.strToEl)(\"\\n      <div\\n        class=\\\"\".concat(localClasses, \"\\\"\\n        data-select-text=\\\"\").concat(itemSelectText, \"\\\"\\n        data-choice\\n        data-id=\\\"\").concat(data.id, \"\\\"\\n        data-value=\\\"\").concat(data.value, \"\\\"\\n        \").concat(data.disabled ? 'data-choice-disabled aria-disabled=\"true\"' : 'data-choice-selectable', \"\\n        id=\\\"\").concat(data.elementId, \"\\\"\\n        \").concat(role, \"\\n        >\\n        \").concat(data.label, \"\\n      </div>\\n    \"));\n  },\n  input: function input(globalClasses) {\n    var localClasses = (0, _classnames.default)(globalClasses.input, globalClasses.inputCloned);\n    return (0, _utils.strToEl)(\"\\n      <input\\n        type=\\\"text\\\"\\n        class=\\\"\".concat(localClasses, \"\\\"\\n        autocomplete=\\\"off\\\"\\n        autocapitalize=\\\"off\\\"\\n        spellcheck=\\\"false\\\"\\n        role=\\\"textbox\\\"\\n        aria-autocomplete=\\\"list\\\"\\n        >\\n    \"));\n  },\n  dropdown: function dropdown(globalClasses) {\n    var localClasses = (0, _classnames.default)(globalClasses.list, globalClasses.listDropdown);\n    return (0, _utils.strToEl)(\"\\n      <div\\n        class=\\\"\".concat(localClasses, \"\\\"\\n        aria-expanded=\\\"false\\\"\\n        >\\n      </div>\\n    \"));\n  },\n  notice: function notice(globalClasses, label) {\n    var _classNames6;\n\n    var type = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '';\n    var localClasses = (0, _classnames.default)(globalClasses.item, globalClasses.itemChoice, (_classNames6 = {}, _defineProperty(_classNames6, globalClasses.noResults, type === 'no-results'), _defineProperty(_classNames6, globalClasses.noChoices, type === 'no-choices'), _classNames6));\n    return (0, _utils.strToEl)(\"\\n      <div class=\\\"\".concat(localClasses, \"\\\">\\n        \").concat(label, \"\\n      </div>\\n    \"));\n  },\n  option: function option(data) {\n    return (0, _utils.strToEl)(\"\\n      <option value=\\\"\".concat(data.value, \"\\\" \").concat(data.active ? 'selected' : '', \" \").concat(data.disabled ? 'disabled' : '', \" \").concat(data.customProperties ? \"data-custom-properties=\".concat(data.customProperties) : '', \">\").concat(data.label, \"</option>\\n    \"));\n  }\n};\nexports.TEMPLATES = TEMPLATES;\nvar _default = TEMPLATES;\nexports.default = _default;\n\n/***/ }),\n/* 6 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/lodash-es/_freeGlobal.js\nvar _freeGlobal = __webpack_require__(8);\n\n// CONCATENATED MODULE: ./node_modules/lodash-es/_root.js\n\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = _freeGlobal[\"a\" /* default */] || freeSelf || Function('return this')();\n\n/* harmony default export */ var _root = (root);\n\n// CONCATENATED MODULE: ./node_modules/lodash-es/_Symbol.js\n\n\n/** Built-in value references. */\nvar Symbol = _root.Symbol;\n\n/* harmony default export */ var _Symbol = (Symbol);\n\n// CONCATENATED MODULE: ./node_modules/lodash-es/_getRawTag.js\n\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar _getRawTag_hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = _Symbol ? _Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = _getRawTag_hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\n/* harmony default export */ var _getRawTag = (getRawTag);\n\n// CONCATENATED MODULE: ./node_modules/lodash-es/_objectToString.js\n/** Used for built-in method references. */\nvar _objectToString_objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar _objectToString_nativeObjectToString = _objectToString_objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return _objectToString_nativeObjectToString.call(value);\n}\n\n/* harmony default export */ var _objectToString = (objectToString);\n\n// CONCATENATED MODULE: ./node_modules/lodash-es/_baseGetTag.js\n\n\n\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar _baseGetTag_symToStringTag = _Symbol ? _Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (_baseGetTag_symToStringTag && _baseGetTag_symToStringTag in Object(value))\n    ? _getRawTag(value)\n    : _objectToString(value);\n}\n\n/* harmony default export */ var _baseGetTag = (baseGetTag);\n\n// CONCATENATED MODULE: ./node_modules/lodash-es/_overArg.js\n/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\n/* harmony default export */ var _overArg = (overArg);\n\n// CONCATENATED MODULE: ./node_modules/lodash-es/_getPrototype.js\n\n\n/** Built-in value references. */\nvar getPrototype = _overArg(Object.getPrototypeOf, Object);\n\n/* harmony default export */ var _getPrototype = (getPrototype);\n\n// CONCATENATED MODULE: ./node_modules/lodash-es/isObjectLike.js\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\n/* harmony default export */ var lodash_es_isObjectLike = (isObjectLike);\n\n// CONCATENATED MODULE: ./node_modules/lodash-es/isPlainObject.js\n\n\n\n\n/** `Object#toString` result references. */\nvar objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    isPlainObject_objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar isPlainObject_hasOwnProperty = isPlainObject_objectProto.hasOwnProperty;\n\n/** Used to infer the `Object` constructor. */\nvar objectCtorString = funcToString.call(Object);\n\n/**\n * Checks if `value` is a plain object, that is, an object created by the\n * `Object` constructor or one with a `[[Prototype]]` of `null`.\n *\n * @static\n * @memberOf _\n * @since 0.8.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * _.isPlainObject(new Foo);\n * // => false\n *\n * _.isPlainObject([1, 2, 3]);\n * // => false\n *\n * _.isPlainObject({ 'x': 0, 'y': 0 });\n * // => true\n *\n * _.isPlainObject(Object.create(null));\n * // => true\n */\nfunction isPlainObject(value) {\n  if (!lodash_es_isObjectLike(value) || _baseGetTag(value) != objectTag) {\n    return false;\n  }\n  var proto = _getPrototype(value);\n  if (proto === null) {\n    return true;\n  }\n  var Ctor = isPlainObject_hasOwnProperty.call(proto, 'constructor') && proto.constructor;\n  return typeof Ctor == 'function' && Ctor instanceof Ctor &&\n    funcToString.call(Ctor) == objectCtorString;\n}\n\n/* harmony default export */ var lodash_es_isPlainObject = (isPlainObject);\n\n// EXTERNAL MODULE: ./node_modules/symbol-observable/es/index.js\nvar es = __webpack_require__(2);\n\n// CONCATENATED MODULE: ./node_modules/redux/es/createStore.js\n\n\n\n/**\n * These are private action types reserved by Redux.\n * For any unknown actions, you must return the current state.\n * If the current state is undefined, you must return the initial state.\n * Do not reference these action types directly in your code.\n */\nvar ActionTypes = {\n  INIT: '@@redux/INIT'\n\n  /**\n   * Creates a Redux store that holds the state tree.\n   * The only way to change the data in the store is to call `dispatch()` on it.\n   *\n   * There should only be a single store in your app. To specify how different\n   * parts of the state tree respond to actions, you may combine several reducers\n   * into a single reducer function by using `combineReducers`.\n   *\n   * @param {Function} reducer A function that returns the next state tree, given\n   * the current state tree and the action to handle.\n   *\n   * @param {any} [preloadedState] The initial state. You may optionally specify it\n   * to hydrate the state from the server in universal apps, or to restore a\n   * previously serialized user session.\n   * If you use `combineReducers` to produce the root reducer function, this must be\n   * an object with the same shape as `combineReducers` keys.\n   *\n   * @param {Function} [enhancer] The store enhancer. You may optionally specify it\n   * to enhance the store with third-party capabilities such as middleware,\n   * time travel, persistence, etc. The only store enhancer that ships with Redux\n   * is `applyMiddleware()`.\n   *\n   * @returns {Store} A Redux store that lets you read the state, dispatch actions\n   * and subscribe to changes.\n   */\n};function createStore_createStore(reducer, preloadedState, enhancer) {\n  var _ref2;\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'undefined') {\n    enhancer = preloadedState;\n    preloadedState = undefined;\n  }\n\n  if (typeof enhancer !== 'undefined') {\n    if (typeof enhancer !== 'function') {\n      throw new Error('Expected the enhancer to be a function.');\n    }\n\n    return enhancer(createStore_createStore)(reducer, preloadedState);\n  }\n\n  if (typeof reducer !== 'function') {\n    throw new Error('Expected the reducer to be a function.');\n  }\n\n  var currentReducer = reducer;\n  var currentState = preloadedState;\n  var currentListeners = [];\n  var nextListeners = currentListeners;\n  var isDispatching = false;\n\n  function ensureCanMutateNextListeners() {\n    if (nextListeners === currentListeners) {\n      nextListeners = currentListeners.slice();\n    }\n  }\n\n  /**\n   * Reads the state tree managed by the store.\n   *\n   * @returns {any} The current state tree of your application.\n   */\n  function getState() {\n    return currentState;\n  }\n\n  /**\n   * Adds a change listener. It will be called any time an action is dispatched,\n   * and some part of the state tree may potentially have changed. You may then\n   * call `getState()` to read the current state tree inside the callback.\n   *\n   * You may call `dispatch()` from a change listener, with the following\n   * caveats:\n   *\n   * 1. The subscriptions are snapshotted just before every `dispatch()` call.\n   * If you subscribe or unsubscribe while the listeners are being invoked, this\n   * will not have any effect on the `dispatch()` that is currently in progress.\n   * However, the next `dispatch()` call, whether nested or not, will use a more\n   * recent snapshot of the subscription list.\n   *\n   * 2. The listener should not expect to see all state changes, as the state\n   * might have been updated multiple times during a nested `dispatch()` before\n   * the listener is called. It is, however, guaranteed that all subscribers\n   * registered before the `dispatch()` started will be called with the latest\n   * state by the time it exits.\n   *\n   * @param {Function} listener A callback to be invoked on every dispatch.\n   * @returns {Function} A function to remove this change listener.\n   */\n  function subscribe(listener) {\n    if (typeof listener !== 'function') {\n      throw new Error('Expected listener to be a function.');\n    }\n\n    var isSubscribed = true;\n\n    ensureCanMutateNextListeners();\n    nextListeners.push(listener);\n\n    return function unsubscribe() {\n      if (!isSubscribed) {\n        return;\n      }\n\n      isSubscribed = false;\n\n      ensureCanMutateNextListeners();\n      var index = nextListeners.indexOf(listener);\n      nextListeners.splice(index, 1);\n    };\n  }\n\n  /**\n   * Dispatches an action. It is the only way to trigger a state change.\n   *\n   * The `reducer` function, used to create the store, will be called with the\n   * current state tree and the given `action`. Its return value will\n   * be considered the **next** state of the tree, and the change listeners\n   * will be notified.\n   *\n   * The base implementation only supports plain object actions. If you want to\n   * dispatch a Promise, an Observable, a thunk, or something else, you need to\n   * wrap your store creating function into the corresponding middleware. For\n   * example, see the documentation for the `redux-thunk` package. Even the\n   * middleware will eventually dispatch plain object actions using this method.\n   *\n   * @param {Object} action A plain object representing “what changed”. It is\n   * a good idea to keep actions serializable so you can record and replay user\n   * sessions, or use the time travelling `redux-devtools`. An action must have\n   * a `type` property which may not be `undefined`. It is a good idea to use\n   * string constants for action types.\n   *\n   * @returns {Object} For convenience, the same action object you dispatched.\n   *\n   * Note that, if you use a custom middleware, it may wrap `dispatch()` to\n   * return something else (for example, a Promise you can await).\n   */\n  function dispatch(action) {\n    if (!lodash_es_isPlainObject(action)) {\n      throw new Error('Actions must be plain objects. ' + 'Use custom middleware for async actions.');\n    }\n\n    if (typeof action.type === 'undefined') {\n      throw new Error('Actions may not have an undefined \"type\" property. ' + 'Have you misspelled a constant?');\n    }\n\n    if (isDispatching) {\n      throw new Error('Reducers may not dispatch actions.');\n    }\n\n    try {\n      isDispatching = true;\n      currentState = currentReducer(currentState, action);\n    } finally {\n      isDispatching = false;\n    }\n\n    var listeners = currentListeners = nextListeners;\n    for (var i = 0; i < listeners.length; i++) {\n      var listener = listeners[i];\n      listener();\n    }\n\n    return action;\n  }\n\n  /**\n   * Replaces the reducer currently used by the store to calculate the state.\n   *\n   * You might need this if your app implements code splitting and you want to\n   * load some of the reducers dynamically. You might also need this if you\n   * implement a hot reloading mechanism for Redux.\n   *\n   * @param {Function} nextReducer The reducer for the store to use instead.\n   * @returns {void}\n   */\n  function replaceReducer(nextReducer) {\n    if (typeof nextReducer !== 'function') {\n      throw new Error('Expected the nextReducer to be a function.');\n    }\n\n    currentReducer = nextReducer;\n    dispatch({ type: ActionTypes.INIT });\n  }\n\n  /**\n   * Interoperability point for observable/reactive libraries.\n   * @returns {observable} A minimal observable of state changes.\n   * For more information, see the observable proposal:\n   * https://github.com/tc39/proposal-observable\n   */\n  function observable() {\n    var _ref;\n\n    var outerSubscribe = subscribe;\n    return _ref = {\n      /**\n       * The minimal observable subscription method.\n       * @param {Object} observer Any object that can be used as an observer.\n       * The observer object should have a `next` method.\n       * @returns {subscription} An object with an `unsubscribe` method that can\n       * be used to unsubscribe the observable from the store, and prevent further\n       * emission of values from the observable.\n       */\n      subscribe: function subscribe(observer) {\n        if (typeof observer !== 'object') {\n          throw new TypeError('Expected the observer to be an object.');\n        }\n\n        function observeState() {\n          if (observer.next) {\n            observer.next(getState());\n          }\n        }\n\n        observeState();\n        var unsubscribe = outerSubscribe(observeState);\n        return { unsubscribe: unsubscribe };\n      }\n    }, _ref[es[\"a\" /* default */]] = function () {\n      return this;\n    }, _ref;\n  }\n\n  // When a store is created, an \"INIT\" action is dispatched so that every\n  // reducer returns their initial state. This effectively populates\n  // the initial state tree.\n  dispatch({ type: ActionTypes.INIT });\n\n  return _ref2 = {\n    dispatch: dispatch,\n    subscribe: subscribe,\n    getState: getState,\n    replaceReducer: replaceReducer\n  }, _ref2[es[\"a\" /* default */]] = observable, _ref2;\n}\n// CONCATENATED MODULE: ./node_modules/redux/es/utils/warning.js\n/**\n * Prints a warning in the console if it exists.\n *\n * @param {String} message The warning message.\n * @returns {void}\n */\nfunction warning(message) {\n  /* eslint-disable no-console */\n  if (typeof console !== 'undefined' && typeof console.error === 'function') {\n    console.error(message);\n  }\n  /* eslint-enable no-console */\n  try {\n    // This error was thrown as a convenience so that if you enable\n    // \"break on all exceptions\" in your console,\n    // it would pause the execution at this line.\n    throw new Error(message);\n    /* eslint-disable no-empty */\n  } catch (e) {}\n  /* eslint-enable no-empty */\n}\n// CONCATENATED MODULE: ./node_modules/redux/es/combineReducers.js\n\n\n\n\nfunction getUndefinedStateErrorMessage(key, action) {\n  var actionType = action && action.type;\n  var actionName = actionType && '\"' + actionType.toString() + '\"' || 'an action';\n\n  return 'Given action ' + actionName + ', reducer \"' + key + '\" returned undefined. ' + 'To ignore an action, you must explicitly return the previous state. ' + 'If you want this reducer to hold no value, you can return null instead of undefined.';\n}\n\nfunction getUnexpectedStateShapeWarningMessage(inputState, reducers, action, unexpectedKeyCache) {\n  var reducerKeys = Object.keys(reducers);\n  var argumentName = action && action.type === ActionTypes.INIT ? 'preloadedState argument passed to createStore' : 'previous state received by the reducer';\n\n  if (reducerKeys.length === 0) {\n    return 'Store does not have a valid reducer. Make sure the argument passed ' + 'to combineReducers is an object whose values are reducers.';\n  }\n\n  if (!lodash_es_isPlainObject(inputState)) {\n    return 'The ' + argumentName + ' has unexpected type of \"' + {}.toString.call(inputState).match(/\\s([a-z|A-Z]+)/)[1] + '\". Expected argument to be an object with the following ' + ('keys: \"' + reducerKeys.join('\", \"') + '\"');\n  }\n\n  var unexpectedKeys = Object.keys(inputState).filter(function (key) {\n    return !reducers.hasOwnProperty(key) && !unexpectedKeyCache[key];\n  });\n\n  unexpectedKeys.forEach(function (key) {\n    unexpectedKeyCache[key] = true;\n  });\n\n  if (unexpectedKeys.length > 0) {\n    return 'Unexpected ' + (unexpectedKeys.length > 1 ? 'keys' : 'key') + ' ' + ('\"' + unexpectedKeys.join('\", \"') + '\" found in ' + argumentName + '. ') + 'Expected to find one of the known reducer keys instead: ' + ('\"' + reducerKeys.join('\", \"') + '\". Unexpected keys will be ignored.');\n  }\n}\n\nfunction assertReducerShape(reducers) {\n  Object.keys(reducers).forEach(function (key) {\n    var reducer = reducers[key];\n    var initialState = reducer(undefined, { type: ActionTypes.INIT });\n\n    if (typeof initialState === 'undefined') {\n      throw new Error('Reducer \"' + key + '\" returned undefined during initialization. ' + 'If the state passed to the reducer is undefined, you must ' + 'explicitly return the initial state. The initial state may ' + 'not be undefined. If you don\\'t want to set a value for this reducer, ' + 'you can use null instead of undefined.');\n    }\n\n    var type = '@@redux/PROBE_UNKNOWN_ACTION_' + Math.random().toString(36).substring(7).split('').join('.');\n    if (typeof reducer(undefined, { type: type }) === 'undefined') {\n      throw new Error('Reducer \"' + key + '\" returned undefined when probed with a random type. ' + ('Don\\'t try to handle ' + ActionTypes.INIT + ' or other actions in \"redux/*\" ') + 'namespace. They are considered private. Instead, you must return the ' + 'current state for any unknown actions, unless it is undefined, ' + 'in which case you must return the initial state, regardless of the ' + 'action type. The initial state may not be undefined, but can be null.');\n    }\n  });\n}\n\n/**\n * Turns an object whose values are different reducer functions, into a single\n * reducer function. It will call every child reducer, and gather their results\n * into a single state object, whose keys correspond to the keys of the passed\n * reducer functions.\n *\n * @param {Object} reducers An object whose values correspond to different\n * reducer functions that need to be combined into one. One handy way to obtain\n * it is to use ES6 `import * as reducers` syntax. The reducers may never return\n * undefined for any action. Instead, they should return their initial state\n * if the state passed to them was undefined, and the current state for any\n * unrecognized action.\n *\n * @returns {Function} A reducer function that invokes every reducer inside the\n * passed object, and builds a state object with the same shape.\n */\nfunction combineReducers(reducers) {\n  var reducerKeys = Object.keys(reducers);\n  var finalReducers = {};\n  for (var i = 0; i < reducerKeys.length; i++) {\n    var key = reducerKeys[i];\n\n    if (false) {}\n\n    if (typeof reducers[key] === 'function') {\n      finalReducers[key] = reducers[key];\n    }\n  }\n  var finalReducerKeys = Object.keys(finalReducers);\n\n  var unexpectedKeyCache = void 0;\n  if (false) {}\n\n  var shapeAssertionError = void 0;\n  try {\n    assertReducerShape(finalReducers);\n  } catch (e) {\n    shapeAssertionError = e;\n  }\n\n  return function combination() {\n    var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var action = arguments[1];\n\n    if (shapeAssertionError) {\n      throw shapeAssertionError;\n    }\n\n    if (false) { var warningMessage; }\n\n    var hasChanged = false;\n    var nextState = {};\n    for (var _i = 0; _i < finalReducerKeys.length; _i++) {\n      var _key = finalReducerKeys[_i];\n      var reducer = finalReducers[_key];\n      var previousStateForKey = state[_key];\n      var nextStateForKey = reducer(previousStateForKey, action);\n      if (typeof nextStateForKey === 'undefined') {\n        var errorMessage = getUndefinedStateErrorMessage(_key, action);\n        throw new Error(errorMessage);\n      }\n      nextState[_key] = nextStateForKey;\n      hasChanged = hasChanged || nextStateForKey !== previousStateForKey;\n    }\n    return hasChanged ? nextState : state;\n  };\n}\n// CONCATENATED MODULE: ./node_modules/redux/es/bindActionCreators.js\nfunction bindActionCreator(actionCreator, dispatch) {\n  return function () {\n    return dispatch(actionCreator.apply(undefined, arguments));\n  };\n}\n\n/**\n * Turns an object whose values are action creators, into an object with the\n * same keys, but with every function wrapped into a `dispatch` call so they\n * may be invoked directly. This is just a convenience method, as you can call\n * `store.dispatch(MyActionCreators.doSomething())` yourself just fine.\n *\n * For convenience, you can also pass a single function as the first argument,\n * and get a function in return.\n *\n * @param {Function|Object} actionCreators An object whose values are action\n * creator functions. One handy way to obtain it is to use ES6 `import * as`\n * syntax. You may also pass a single function.\n *\n * @param {Function} dispatch The `dispatch` function available on your Redux\n * store.\n *\n * @returns {Function|Object} The object mimicking the original object, but with\n * every action creator wrapped into the `dispatch` call. If you passed a\n * function as `actionCreators`, the return value will also be a single\n * function.\n */\nfunction bindActionCreators(actionCreators, dispatch) {\n  if (typeof actionCreators === 'function') {\n    return bindActionCreator(actionCreators, dispatch);\n  }\n\n  if (typeof actionCreators !== 'object' || actionCreators === null) {\n    throw new Error('bindActionCreators expected an object or a function, instead received ' + (actionCreators === null ? 'null' : typeof actionCreators) + '. ' + 'Did you write \"import ActionCreators from\" instead of \"import * as ActionCreators from\"?');\n  }\n\n  var keys = Object.keys(actionCreators);\n  var boundActionCreators = {};\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    var actionCreator = actionCreators[key];\n    if (typeof actionCreator === 'function') {\n      boundActionCreators[key] = bindActionCreator(actionCreator, dispatch);\n    }\n  }\n  return boundActionCreators;\n}\n// CONCATENATED MODULE: ./node_modules/redux/es/compose.js\n/**\n * Composes single-argument functions from right to left. The rightmost\n * function can take multiple arguments as it provides the signature for\n * the resulting composite function.\n *\n * @param {...Function} funcs The functions to compose.\n * @returns {Function} A function obtained by composing the argument functions\n * from right to left. For example, compose(f, g, h) is identical to doing\n * (...args) => f(g(h(...args))).\n */\n\nfunction compose() {\n  for (var _len = arguments.length, funcs = Array(_len), _key = 0; _key < _len; _key++) {\n    funcs[_key] = arguments[_key];\n  }\n\n  if (funcs.length === 0) {\n    return function (arg) {\n      return arg;\n    };\n  }\n\n  if (funcs.length === 1) {\n    return funcs[0];\n  }\n\n  return funcs.reduce(function (a, b) {\n    return function () {\n      return a(b.apply(undefined, arguments));\n    };\n  });\n}\n// CONCATENATED MODULE: ./node_modules/redux/es/applyMiddleware.js\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\n\n\n/**\n * Creates a store enhancer that applies middleware to the dispatch method\n * of the Redux store. This is handy for a variety of tasks, such as expressing\n * asynchronous actions in a concise manner, or logging every action payload.\n *\n * See `redux-thunk` package as an example of the Redux middleware.\n *\n * Because middleware is potentially asynchronous, this should be the first\n * store enhancer in the composition chain.\n *\n * Note that each middleware will be given the `dispatch` and `getState` functions\n * as named arguments.\n *\n * @param {...Function} middlewares The middleware chain to be applied.\n * @returns {Function} A store enhancer applying the middleware.\n */\nfunction applyMiddleware() {\n  for (var _len = arguments.length, middlewares = Array(_len), _key = 0; _key < _len; _key++) {\n    middlewares[_key] = arguments[_key];\n  }\n\n  return function (createStore) {\n    return function (reducer, preloadedState, enhancer) {\n      var store = createStore(reducer, preloadedState, enhancer);\n      var _dispatch = store.dispatch;\n      var chain = [];\n\n      var middlewareAPI = {\n        getState: store.getState,\n        dispatch: function dispatch(action) {\n          return _dispatch(action);\n        }\n      };\n      chain = middlewares.map(function (middleware) {\n        return middleware(middlewareAPI);\n      });\n      _dispatch = compose.apply(undefined, chain)(store.dispatch);\n\n      return _extends({}, store, {\n        dispatch: _dispatch\n      });\n    };\n  };\n}\n// CONCATENATED MODULE: ./node_modules/redux/es/index.js\n/* concated harmony reexport createStore */__webpack_require__.d(__webpack_exports__, \"createStore\", function() { return createStore_createStore; });\n/* concated harmony reexport combineReducers */__webpack_require__.d(__webpack_exports__, \"combineReducers\", function() { return combineReducers; });\n/* concated harmony reexport bindActionCreators */__webpack_require__.d(__webpack_exports__, \"bindActionCreators\", function() { return bindActionCreators; });\n/* concated harmony reexport applyMiddleware */__webpack_require__.d(__webpack_exports__, \"applyMiddleware\", function() { return applyMiddleware; });\n/* concated harmony reexport compose */__webpack_require__.d(__webpack_exports__, \"compose\", function() { return compose; });\n\n\n\n\n\n\n\n/*\n* This is a dummy function to check if the function name has been altered by minification.\n* If the function has been minified and NODE_ENV !== 'production', warn the user.\n*/\nfunction isCrushed() {}\n\nif (false) {}\n\n\n\n/***/ }),\n/* 7 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return symbolObservablePonyfill; });\nfunction symbolObservablePonyfill(root) {\n\tvar result;\n\tvar Symbol = root.Symbol;\n\n\tif (typeof Symbol === 'function') {\n\t\tif (Symbol.observable) {\n\t\t\tresult = Symbol.observable;\n\t\t} else {\n\t\t\tresult = Symbol('observable');\n\t\t\tSymbol.observable = result;\n\t\t}\n\t} else {\n\t\tresult = '@@observable';\n\t}\n\n\treturn result;\n};\n\n\n/***/ }),\n/* 8 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global) {/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (freeGlobal);\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(3)))\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(10);\n\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _fuse = _interopRequireDefault(__webpack_require__(11));\n\nvar _deepmerge = _interopRequireDefault(__webpack_require__(12));\n\nvar _store = _interopRequireDefault(__webpack_require__(13));\n\nvar _components = __webpack_require__(20);\n\nvar _constants = __webpack_require__(1);\n\nvar _templates = __webpack_require__(5);\n\nvar _choices = __webpack_require__(28);\n\nvar _items = __webpack_require__(29);\n\nvar _groups = __webpack_require__(30);\n\nvar _misc = __webpack_require__(31);\n\nvar _general = __webpack_require__(32);\n\nvar _utils = __webpack_require__(0);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n/**\n * Choices\n * @author Josh Johnson<josh@joshuajohnson.co.uk>\n */\nvar Choices =\n/*#__PURE__*/\nfunction () {\n  function Choices() {\n    var element = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '[data-choice]';\n    var userConfig = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, Choices);\n\n    if ((0, _utils.isType)('String', element)) {\n      var elements = Array.from(document.querySelectorAll(element)); // If there are multiple elements, create a new instance\n      // for each element besides the first one (as that already has an instance)\n\n      if (elements.length > 1) {\n        return this._generateInstances(elements, userConfig);\n      }\n    }\n\n    this.config = _deepmerge.default.all([_constants.DEFAULT_CONFIG, Choices.userDefaults, userConfig], // When merging array configs, replace with a copy of the userConfig array,\n    // instead of concatenating with the default array\n    {\n      arrayMerge: function arrayMerge(destinationArray, sourceArray) {\n        return [].concat(sourceArray);\n      }\n    });\n    var invalidConfigOptions = (0, _utils.diff)(this.config, _constants.DEFAULT_CONFIG);\n\n    if (invalidConfigOptions.length) {\n      console.warn('Unknown config option(s) passed', invalidConfigOptions.join(', '));\n    }\n\n    if (!['auto', 'always'].includes(this.config.renderSelectedChoices)) {\n      this.config.renderSelectedChoices = 'auto';\n    } // Retrieve triggering element (i.e. element with 'data-choice' trigger)\n\n\n    var passedElement = (0, _utils.isType)('String', element) ? document.querySelector(element) : element;\n\n    if (!passedElement) {\n      return console.error('Could not find passed element or passed element was of an invalid type');\n    }\n\n    this._isTextElement = passedElement.type === 'text';\n    this._isSelectOneElement = passedElement.type === 'select-one';\n    this._isSelectMultipleElement = passedElement.type === 'select-multiple';\n    this._isSelectElement = this._isSelectOneElement || this._isSelectMultipleElement;\n\n    if (this._isTextElement) {\n      this.passedElement = new _components.WrappedInput({\n        element: passedElement,\n        classNames: this.config.classNames,\n        delimiter: this.config.delimiter\n      });\n    } else if (this._isSelectElement) {\n      this.passedElement = new _components.WrappedSelect({\n        element: passedElement,\n        classNames: this.config.classNames\n      });\n    }\n\n    if (!this.passedElement) {\n      return console.error('Passed element was of an invalid type');\n    }\n\n    if (this.config.shouldSortItems === true && this._isSelectOneElement && !this.config.silent) {\n      console.warn(\"shouldSortElements: Type of passed element is 'select-one', falling back to false.\");\n    }\n\n    this.initialised = false;\n    this._store = new _store.default(this.render);\n    this._initialState = {};\n    this._currentState = {};\n    this._prevState = {};\n    this._currentValue = '';\n    this._canSearch = this.config.searchEnabled;\n    this._isScrollingOnIe = false;\n    this._highlightPosition = 0;\n    this._wasTap = true;\n    this._placeholderValue = this._generatePlaceholderValue();\n    this._baseId = (0, _utils.generateId)(this.passedElement.element, 'choices-');\n    this._direction = this.passedElement.element.getAttribute('dir') || 'ltr';\n    this._idNames = {\n      itemChoice: 'item-choice'\n    }; // Assign preset choices from passed object\n\n    this._presetChoices = this.config.choices; // Assign preset items from passed object first\n\n    this._presetItems = this.config.items; // Then add any values passed from attribute\n\n    if (this.passedElement.value) {\n      this._presetItems = this._presetItems.concat(this.passedElement.value.split(this.config.delimiter));\n    }\n\n    this._render = this._render.bind(this);\n    this._onFocus = this._onFocus.bind(this);\n    this._onBlur = this._onBlur.bind(this);\n    this._onKeyUp = this._onKeyUp.bind(this);\n    this._onKeyDown = this._onKeyDown.bind(this);\n    this._onClick = this._onClick.bind(this);\n    this._onTouchMove = this._onTouchMove.bind(this);\n    this._onTouchEnd = this._onTouchEnd.bind(this);\n    this._onMouseDown = this._onMouseDown.bind(this);\n    this._onMouseOver = this._onMouseOver.bind(this);\n    this._onFormReset = this._onFormReset.bind(this);\n    this._onAKey = this._onAKey.bind(this);\n    this._onEnterKey = this._onEnterKey.bind(this);\n    this._onEscapeKey = this._onEscapeKey.bind(this);\n    this._onDirectionKey = this._onDirectionKey.bind(this);\n    this._onDeleteKey = this._onDeleteKey.bind(this); // If element has already been initialised with Choices, fail silently\n\n    if (this.passedElement.element.getAttribute('data-choice') === 'active') {\n      console.warn('Trying to initialise Choices on element already initialised');\n    } // Let's go\n\n\n    this.init();\n  }\n  /* ========================================\n  =            Public functions            =\n  ======================================== */\n\n\n  _createClass(Choices, [{\n    key: \"init\",\n    value: function init() {\n      if (this.initialised) {\n        return;\n      }\n\n      this._createTemplates();\n\n      this._createElements();\n\n      this._createStructure(); // Set initial state (We need to clone the state because some reducers\n      // modify the inner objects properties in the state) 🤢\n\n\n      this._initialState = (0, _utils.cloneObject)(this._store.state);\n\n      this._store.subscribe(this._render);\n\n      this._render();\n\n      this._addEventListeners();\n\n      var shouldDisable = !this.config.addItems || this.passedElement.element.hasAttribute('disabled');\n\n      if (shouldDisable) {\n        this.disable();\n      }\n\n      this.initialised = true;\n      var callbackOnInit = this.config.callbackOnInit; // Run callback if it is a function\n\n      if (callbackOnInit && (0, _utils.isType)('Function', callbackOnInit)) {\n        callbackOnInit.call(this);\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      if (!this.initialised) {\n        return;\n      }\n\n      this._removeEventListeners();\n\n      this.passedElement.reveal();\n      this.containerOuter.unwrap(this.passedElement.element);\n\n      if (this._isSelectElement) {\n        this.passedElement.options = this._presetChoices;\n      }\n\n      this.clearStore();\n      this.config.templates = null;\n      this.initialised = false;\n    }\n  }, {\n    key: \"enable\",\n    value: function enable() {\n      if (this.passedElement.isDisabled) {\n        this.passedElement.enable();\n      }\n\n      if (this.containerOuter.isDisabled) {\n        this._addEventListeners();\n\n        this.input.enable();\n        this.containerOuter.enable();\n      }\n\n      return this;\n    }\n  }, {\n    key: \"disable\",\n    value: function disable() {\n      if (!this.passedElement.isDisabled) {\n        this.passedElement.disable();\n      }\n\n      if (!this.containerOuter.isDisabled) {\n        this._removeEventListeners();\n\n        this.input.disable();\n        this.containerOuter.disable();\n      }\n\n      return this;\n    }\n  }, {\n    key: \"highlightItem\",\n    value: function highlightItem(item) {\n      var runEvent = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n      if (!item) {\n        return this;\n      }\n\n      var id = item.id,\n          _item$groupId = item.groupId,\n          groupId = _item$groupId === void 0 ? -1 : _item$groupId,\n          _item$value = item.value,\n          value = _item$value === void 0 ? '' : _item$value,\n          _item$label = item.label,\n          label = _item$label === void 0 ? '' : _item$label;\n      var group = groupId >= 0 ? this._store.getGroupById(groupId) : null;\n\n      this._store.dispatch((0, _items.highlightItem)(id, true));\n\n      if (runEvent) {\n        this.passedElement.triggerEvent(_constants.EVENTS.highlightItem, {\n          id: id,\n          value: value,\n          label: label,\n          groupValue: group && group.value ? group.value : null\n        });\n      }\n\n      return this;\n    }\n  }, {\n    key: \"unhighlightItem\",\n    value: function unhighlightItem(item) {\n      if (!item) {\n        return this;\n      }\n\n      var id = item.id,\n          _item$groupId2 = item.groupId,\n          groupId = _item$groupId2 === void 0 ? -1 : _item$groupId2,\n          _item$value2 = item.value,\n          value = _item$value2 === void 0 ? '' : _item$value2,\n          _item$label2 = item.label,\n          label = _item$label2 === void 0 ? '' : _item$label2;\n      var group = groupId >= 0 ? this._store.getGroupById(groupId) : null;\n\n      this._store.dispatch((0, _items.highlightItem)(id, false));\n\n      this.passedElement.triggerEvent(_constants.EVENTS.highlightItem, {\n        id: id,\n        value: value,\n        label: label,\n        groupValue: group && group.value ? group.value : null\n      });\n      return this;\n    }\n  }, {\n    key: \"highlightAll\",\n    value: function highlightAll() {\n      var _this = this;\n\n      this._store.items.forEach(function (item) {\n        return _this.highlightItem(item);\n      });\n\n      return this;\n    }\n  }, {\n    key: \"unhighlightAll\",\n    value: function unhighlightAll() {\n      var _this2 = this;\n\n      this._store.items.forEach(function (item) {\n        return _this2.unhighlightItem(item);\n      });\n\n      return this;\n    }\n  }, {\n    key: \"removeActiveItemsByValue\",\n    value: function removeActiveItemsByValue(value) {\n      var _this3 = this;\n\n      this._store.activeItems.filter(function (item) {\n        return item.value === value;\n      }).forEach(function (item) {\n        return _this3._removeItem(item);\n      });\n\n      return this;\n    }\n  }, {\n    key: \"removeActiveItems\",\n    value: function removeActiveItems(excludedId) {\n      var _this4 = this;\n\n      this._store.activeItems.filter(function (_ref) {\n        var id = _ref.id;\n        return id !== excludedId;\n      }).forEach(function (item) {\n        return _this4._removeItem(item);\n      });\n\n      return this;\n    }\n  }, {\n    key: \"removeHighlightedItems\",\n    value: function removeHighlightedItems() {\n      var _this5 = this;\n\n      var runEvent = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n      this._store.highlightedActiveItems.forEach(function (item) {\n        _this5._removeItem(item); // If this action was performed by the user\n        // trigger the event\n\n\n        if (runEvent) {\n          _this5._triggerChange(item.value);\n        }\n      });\n\n      return this;\n    }\n  }, {\n    key: \"showDropdown\",\n    value: function showDropdown(preventInputFocus) {\n      var _this6 = this;\n\n      if (this.dropdown.isActive) {\n        return this;\n      }\n\n      requestAnimationFrame(function () {\n        _this6.dropdown.show();\n\n        _this6.containerOuter.open(_this6.dropdown.distanceFromTopWindow());\n\n        if (!preventInputFocus && _this6._canSearch) {\n          _this6.input.focus();\n        }\n\n        _this6.passedElement.triggerEvent(_constants.EVENTS.showDropdown, {});\n      });\n      return this;\n    }\n  }, {\n    key: \"hideDropdown\",\n    value: function hideDropdown(preventInputBlur) {\n      var _this7 = this;\n\n      if (!this.dropdown.isActive) {\n        return this;\n      }\n\n      requestAnimationFrame(function () {\n        _this7.dropdown.hide();\n\n        _this7.containerOuter.close();\n\n        if (!preventInputBlur && _this7._canSearch) {\n          _this7.input.removeActiveDescendant();\n\n          _this7.input.blur();\n        }\n\n        _this7.passedElement.triggerEvent(_constants.EVENTS.hideDropdown, {});\n      });\n      return this;\n    }\n  }, {\n    key: \"getValue\",\n    value: function getValue() {\n      var valueOnly = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n      var values = this._store.activeItems.reduce(function (selectedItems, item) {\n        var itemValue = valueOnly ? item.value : item;\n        selectedItems.push(itemValue);\n        return selectedItems;\n      }, []);\n\n      return this._isSelectOneElement ? values[0] : values;\n    }\n  }, {\n    key: \"setValue\",\n    value: function setValue(args) {\n      var _this8 = this;\n\n      if (!this.initialised) {\n        return this;\n      }\n\n      [].concat(args).forEach(function (value) {\n        return _this8._setChoiceOrItem(value);\n      });\n      return this;\n    }\n  }, {\n    key: \"setChoiceByValue\",\n    value: function setChoiceByValue(value) {\n      var _this9 = this;\n\n      if (!this.initialised || this._isTextElement) {\n        return this;\n      } // If only one value has been passed, convert to array\n\n\n      var choiceValue = (0, _utils.isType)('Array', value) ? value : [value]; // Loop through each value and\n\n      choiceValue.forEach(function (val) {\n        return _this9._findAndSelectChoiceByValue(val);\n      });\n      return this;\n    }\n  }, {\n    key: \"setChoices\",\n    value: function setChoices() {\n      var _this10 = this;\n\n      var choices = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n      var value = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n      var label = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '';\n      var replaceChoices = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n\n      if (!this._isSelectElement || !value) {\n        return this;\n      } // Clear choices if needed\n\n\n      if (replaceChoices) {\n        this.clearChoices();\n      }\n\n      this.containerOuter.removeLoadingState();\n\n      var addGroupsAndChoices = function addGroupsAndChoices(groupOrChoice) {\n        if (groupOrChoice.choices) {\n          _this10._addGroup({\n            group: groupOrChoice,\n            id: groupOrChoice.id || null,\n            valueKey: value,\n            labelKey: label\n          });\n        } else {\n          _this10._addChoice({\n            value: groupOrChoice[value],\n            label: groupOrChoice[label],\n            isSelected: groupOrChoice.selected,\n            isDisabled: groupOrChoice.disabled,\n            customProperties: groupOrChoice.customProperties,\n            placeholder: groupOrChoice.placeholder\n          });\n        }\n      };\n\n      this._setLoading(true);\n\n      choices.forEach(addGroupsAndChoices);\n\n      this._setLoading(false);\n\n      return this;\n    }\n  }, {\n    key: \"clearChoices\",\n    value: function clearChoices() {\n      this._store.dispatch((0, _choices.clearChoices)());\n    }\n  }, {\n    key: \"clearStore\",\n    value: function clearStore() {\n      this._store.dispatch((0, _misc.clearAll)());\n\n      return this;\n    }\n  }, {\n    key: \"clearInput\",\n    value: function clearInput() {\n      var shouldSetInputWidth = !this._isSelectOneElement;\n      this.input.clear(shouldSetInputWidth);\n\n      if (!this._isTextElement && this._canSearch) {\n        this._isSearching = false;\n\n        this._store.dispatch((0, _choices.activateChoices)(true));\n      }\n\n      return this;\n    }\n  }, {\n    key: \"ajax\",\n    value: function ajax(fn) {\n      var _this11 = this;\n\n      if (!this.initialised || !this._isSelectElement || !fn) {\n        return this;\n      }\n\n      requestAnimationFrame(function () {\n        return _this11._handleLoadingState(true);\n      });\n      fn(this._ajaxCallback());\n      return this;\n    }\n    /* =====  End of Public functions  ====== */\n\n    /* =============================================\n    =                Private functions            =\n    ============================================= */\n\n  }, {\n    key: \"_render\",\n    value: function _render() {\n      if (this._store.isLoading()) {\n        return;\n      }\n\n      this._currentState = this._store.state;\n      var stateChanged = this._currentState.choices !== this._prevState.choices || this._currentState.groups !== this._prevState.groups || this._currentState.items !== this._prevState.items;\n      var shouldRenderChoices = this._isSelectElement;\n      var shouldRenderItems = this._currentState.items !== this._prevState.items;\n\n      if (!stateChanged) {\n        return;\n      }\n\n      if (shouldRenderChoices) {\n        this._renderChoices();\n      }\n\n      if (shouldRenderItems) {\n        this._renderItems();\n      }\n\n      this._prevState = this._currentState;\n    }\n  }, {\n    key: \"_renderChoices\",\n    value: function _renderChoices() {\n      var _this12 = this;\n\n      var _this$_store = this._store,\n          activeGroups = _this$_store.activeGroups,\n          activeChoices = _this$_store.activeChoices;\n      var choiceListFragment = document.createDocumentFragment();\n      this.choiceList.clear();\n\n      if (this.config.resetScrollPosition) {\n        requestAnimationFrame(function () {\n          return _this12.choiceList.scrollToTop();\n        });\n      } // If we have grouped options\n\n\n      if (activeGroups.length >= 1 && !this._isSearching) {\n        // If we have a placeholder choice along with groups\n        var activePlaceholders = activeChoices.filter(function (activeChoice) {\n          return activeChoice.placeholder === true && activeChoice.groupId === -1;\n        });\n\n        if (activePlaceholders.length >= 1) {\n          choiceListFragment = this._createChoicesFragment(activePlaceholders, choiceListFragment);\n        }\n\n        choiceListFragment = this._createGroupsFragment(activeGroups, activeChoices, choiceListFragment);\n      } else if (activeChoices.length >= 1) {\n        choiceListFragment = this._createChoicesFragment(activeChoices, choiceListFragment);\n      } // If we have choices to show\n\n\n      if (choiceListFragment.childNodes && choiceListFragment.childNodes.length > 0) {\n        var activeItems = this._store.activeItems;\n\n        var canAddItem = this._canAddItem(activeItems, this.input.value); // ...and we can select them\n\n\n        if (canAddItem.response) {\n          // ...append them and highlight the first choice\n          this.choiceList.append(choiceListFragment);\n\n          this._highlightChoice();\n        } else {\n          // ...otherwise show a notice\n          this.choiceList.append(this._getTemplate('notice', canAddItem.notice));\n        }\n      } else {\n        // Otherwise show a notice\n        var dropdownItem;\n        var notice;\n\n        if (this._isSearching) {\n          notice = (0, _utils.isType)('Function', this.config.noResultsText) ? this.config.noResultsText() : this.config.noResultsText;\n          dropdownItem = this._getTemplate('notice', notice, 'no-results');\n        } else {\n          notice = (0, _utils.isType)('Function', this.config.noChoicesText) ? this.config.noChoicesText() : this.config.noChoicesText;\n          dropdownItem = this._getTemplate('notice', notice, 'no-choices');\n        }\n\n        this.choiceList.append(dropdownItem);\n      }\n    }\n  }, {\n    key: \"_renderItems\",\n    value: function _renderItems() {\n      var activeItems = this._store.activeItems || [];\n      this.itemList.clear(); // Create a fragment to store our list items\n      // (so we don't have to update the DOM for each item)\n\n      var itemListFragment = this._createItemsFragment(activeItems); // If we have items to add, append them\n\n\n      if (itemListFragment.childNodes) {\n        this.itemList.append(itemListFragment);\n      }\n    }\n  }, {\n    key: \"_createGroupsFragment\",\n    value: function _createGroupsFragment(groups, choices, fragment) {\n      var _this13 = this;\n\n      var groupFragment = fragment || document.createDocumentFragment();\n\n      var getGroupChoices = function getGroupChoices(group) {\n        return choices.filter(function (choice) {\n          if (_this13._isSelectOneElement) {\n            return choice.groupId === group.id;\n          }\n\n          return choice.groupId === group.id && (_this13.config.renderSelectedChoices === 'always' || !choice.selected);\n        });\n      }; // If sorting is enabled, filter groups\n\n\n      if (this.config.shouldSort) {\n        groups.sort(this.config.sortFn);\n      }\n\n      groups.forEach(function (group) {\n        var groupChoices = getGroupChoices(group);\n\n        if (groupChoices.length >= 1) {\n          var dropdownGroup = _this13._getTemplate('choiceGroup', group);\n\n          groupFragment.appendChild(dropdownGroup);\n\n          _this13._createChoicesFragment(groupChoices, groupFragment, true);\n        }\n      });\n      return groupFragment;\n    }\n  }, {\n    key: \"_createChoicesFragment\",\n    value: function _createChoicesFragment(choices, fragment) {\n      var _this14 = this;\n\n      var withinGroup = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n      // Create a fragment to store our list items (so we don't have to update the DOM for each item)\n      var choicesFragment = fragment || document.createDocumentFragment();\n      var _this$config = this.config,\n          renderSelectedChoices = _this$config.renderSelectedChoices,\n          searchResultLimit = _this$config.searchResultLimit,\n          renderChoiceLimit = _this$config.renderChoiceLimit;\n      var filter = this._isSearching ? _utils.sortByScore : this.config.sortFn;\n\n      var appendChoice = function appendChoice(choice) {\n        var shouldRender = renderSelectedChoices === 'auto' ? _this14._isSelectOneElement || !choice.selected : true;\n\n        if (shouldRender) {\n          var dropdownItem = _this14._getTemplate('choice', choice, _this14.config.itemSelectText);\n\n          choicesFragment.appendChild(dropdownItem);\n        }\n      };\n\n      var rendererableChoices = choices;\n\n      if (renderSelectedChoices === 'auto' && !this._isSelectOneElement) {\n        rendererableChoices = choices.filter(function (choice) {\n          return !choice.selected;\n        });\n      } // Split array into placeholders and \"normal\" choices\n\n\n      var _rendererableChoices$ = rendererableChoices.reduce(function (acc, choice) {\n        if (choice.placeholder) {\n          acc.placeholderChoices.push(choice);\n        } else {\n          acc.normalChoices.push(choice);\n        }\n\n        return acc;\n      }, {\n        placeholderChoices: [],\n        normalChoices: []\n      }),\n          placeholderChoices = _rendererableChoices$.placeholderChoices,\n          normalChoices = _rendererableChoices$.normalChoices; // If sorting is enabled or the user is searching, filter choices\n\n\n      if (this.config.shouldSort || this._isSearching) {\n        normalChoices.sort(filter);\n      }\n\n      var choiceLimit = rendererableChoices.length; // Prepend placeholeder\n\n      var sortedChoices = [].concat(placeholderChoices, normalChoices);\n\n      if (this._isSearching) {\n        choiceLimit = searchResultLimit;\n      } else if (renderChoiceLimit > 0 && !withinGroup) {\n        choiceLimit = renderChoiceLimit;\n      } // Add each choice to dropdown within range\n\n\n      for (var i = 0; i < choiceLimit; i += 1) {\n        if (sortedChoices[i]) {\n          appendChoice(sortedChoices[i]);\n        }\n      }\n\n      return choicesFragment;\n    }\n  }, {\n    key: \"_createItemsFragment\",\n    value: function _createItemsFragment(items) {\n      var _this15 = this;\n\n      var fragment = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n      // Create fragment to add elements to\n      var _this$config2 = this.config,\n          shouldSortItems = _this$config2.shouldSortItems,\n          sortFn = _this$config2.sortFn,\n          removeItemButton = _this$config2.removeItemButton;\n      var itemListFragment = fragment || document.createDocumentFragment(); // If sorting is enabled, filter items\n\n      if (shouldSortItems && !this._isSelectOneElement) {\n        items.sort(sortFn);\n      }\n\n      if (this._isTextElement) {\n        // Update the value of the hidden input\n        this.passedElement.value = items;\n      } else {\n        // Update the options of the hidden input\n        this.passedElement.options = items;\n      }\n\n      var addItemToFragment = function addItemToFragment(item) {\n        // Create new list element\n        var listItem = _this15._getTemplate('item', item, removeItemButton); // Append it to list\n\n\n        itemListFragment.appendChild(listItem);\n      }; // Add each list item to list\n\n\n      items.forEach(function (item) {\n        return addItemToFragment(item);\n      });\n      return itemListFragment;\n    }\n  }, {\n    key: \"_triggerChange\",\n    value: function _triggerChange(value) {\n      if (value === undefined || value === null) {\n        return;\n      }\n\n      this.passedElement.triggerEvent(_constants.EVENTS.change, {\n        value: value\n      });\n    }\n  }, {\n    key: \"_selectPlaceholderChoice\",\n    value: function _selectPlaceholderChoice() {\n      var placeholderChoice = this._store.placeholderChoice;\n\n      if (placeholderChoice) {\n        this._addItem({\n          value: placeholderChoice.value,\n          label: placeholderChoice.label,\n          choiceId: placeholderChoice.id,\n          groupId: placeholderChoice.groupId,\n          placeholder: placeholderChoice.placeholder\n        });\n\n        this._triggerChange(placeholderChoice.value);\n      }\n    }\n  }, {\n    key: \"_handleButtonAction\",\n    value: function _handleButtonAction(activeItems, element) {\n      if (!activeItems || !element || !this.config.removeItems || !this.config.removeItemButton) {\n        return;\n      }\n\n      var itemId = element.parentNode.getAttribute('data-id');\n      var itemToRemove = activeItems.find(function (item) {\n        return item.id === parseInt(itemId, 10);\n      }); // Remove item associated with button\n\n      this._removeItem(itemToRemove);\n\n      this._triggerChange(itemToRemove.value);\n\n      if (this._isSelectOneElement) {\n        this._selectPlaceholderChoice();\n      }\n    }\n  }, {\n    key: \"_handleItemAction\",\n    value: function _handleItemAction(activeItems, element) {\n      var _this16 = this;\n\n      var hasShiftKey = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n      if (!activeItems || !element || !this.config.removeItems || this._isSelectOneElement) {\n        return;\n      }\n\n      var passedId = element.getAttribute('data-id'); // We only want to select one item with a click\n      // so we deselect any items that aren't the target\n      // unless shift is being pressed\n\n      activeItems.forEach(function (item) {\n        if (item.id === parseInt(passedId, 10) && !item.highlighted) {\n          _this16.highlightItem(item);\n        } else if (!hasShiftKey && item.highlighted) {\n          _this16.unhighlightItem(item);\n        }\n      }); // Focus input as without focus, a user cannot do anything with a\n      // highlighted item\n\n      this.input.focus();\n    }\n  }, {\n    key: \"_handleChoiceAction\",\n    value: function _handleChoiceAction(activeItems, element) {\n      if (!activeItems || !element) {\n        return;\n      } // If we are clicking on an option\n\n\n      var id = element.getAttribute('data-id');\n\n      var choice = this._store.getChoiceById(id);\n\n      var passedKeyCode = activeItems[0] && activeItems[0].keyCode ? activeItems[0].keyCode : null;\n      var hasActiveDropdown = this.dropdown.isActive; // Update choice keyCode\n\n      choice.keyCode = passedKeyCode;\n      this.passedElement.triggerEvent(_constants.EVENTS.choice, {\n        choice: choice\n      });\n\n      if (choice && !choice.selected && !choice.disabled) {\n        var canAddItem = this._canAddItem(activeItems, choice.value);\n\n        if (canAddItem.response) {\n          this._addItem({\n            value: choice.value,\n            label: choice.label,\n            choiceId: choice.id,\n            groupId: choice.groupId,\n            customProperties: choice.customProperties,\n            placeholder: choice.placeholder,\n            keyCode: choice.keyCode\n          });\n\n          this._triggerChange(choice.value);\n        }\n      }\n\n      this.clearInput(); // We wont to close the dropdown if we are dealing with a single select box\n\n      if (hasActiveDropdown && this._isSelectOneElement) {\n        this.hideDropdown(true);\n        this.containerOuter.focus();\n      }\n    }\n  }, {\n    key: \"_handleBackspace\",\n    value: function _handleBackspace(activeItems) {\n      if (!this.config.removeItems || !activeItems) {\n        return;\n      }\n\n      var lastItem = activeItems[activeItems.length - 1];\n      var hasHighlightedItems = activeItems.some(function (item) {\n        return item.highlighted;\n      }); // If editing the last item is allowed and there are not other selected items,\n      // we can edit the item value. Otherwise if we can remove items, remove all selected items\n\n      if (this.config.editItems && !hasHighlightedItems && lastItem) {\n        this.input.value = lastItem.value;\n        this.input.setWidth();\n\n        this._removeItem(lastItem);\n\n        this._triggerChange(lastItem.value);\n      } else {\n        if (!hasHighlightedItems) {\n          // Highlight last item if none already highlighted\n          this.highlightItem(lastItem, false);\n        }\n\n        this.removeHighlightedItems(true);\n      }\n    }\n  }, {\n    key: \"_setLoading\",\n    value: function _setLoading(isLoading) {\n      this._store.dispatch((0, _general.setIsLoading)(isLoading));\n    }\n  }, {\n    key: \"_handleLoadingState\",\n    value: function _handleLoadingState() {\n      var setLoading = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n      var placeholderItem = this.itemList.getChild(\".\".concat(this.config.classNames.placeholder));\n\n      if (setLoading) {\n        this.disable();\n        this.containerOuter.addLoadingState();\n\n        if (this._isSelectOneElement) {\n          if (!placeholderItem) {\n            placeholderItem = this._getTemplate('placeholder', this.config.loadingText);\n            this.itemList.append(placeholderItem);\n          } else {\n            placeholderItem.innerHTML = this.config.loadingText;\n          }\n        } else {\n          this.input.placeholder = this.config.loadingText;\n        }\n      } else {\n        this.enable();\n        this.containerOuter.removeLoadingState();\n\n        if (this._isSelectOneElement) {\n          placeholderItem.innerHTML = this._placeholderValue || '';\n        } else {\n          this.input.placeholder = this._placeholderValue || '';\n        }\n      }\n    }\n  }, {\n    key: \"_handleSearch\",\n    value: function _handleSearch(value) {\n      if (!value || !this.input.isFocussed) {\n        return;\n      }\n\n      var choices = this._store.choices;\n      var _this$config3 = this.config,\n          searchFloor = _this$config3.searchFloor,\n          searchChoices = _this$config3.searchChoices;\n      var hasUnactiveChoices = choices.some(function (option) {\n        return !option.active;\n      }); // Check that we have a value to search and the input was an alphanumeric character\n\n      if (value && value.length >= searchFloor) {\n        var resultCount = searchChoices ? this._searchChoices(value) : 0; // Trigger search event\n\n        this.passedElement.triggerEvent(_constants.EVENTS.search, {\n          value: value,\n          resultCount: resultCount\n        });\n      } else if (hasUnactiveChoices) {\n        // Otherwise reset choices to active\n        this._isSearching = false;\n\n        this._store.dispatch((0, _choices.activateChoices)(true));\n      }\n    }\n  }, {\n    key: \"_canAddItem\",\n    value: function _canAddItem(activeItems, value) {\n      var canAddItem = true;\n      var notice = (0, _utils.isType)('Function', this.config.addItemText) ? this.config.addItemText(value) : this.config.addItemText;\n\n      if (!this._isSelectOneElement) {\n        var isDuplicateValue = (0, _utils.existsInArray)(activeItems, value);\n\n        if (this.config.maxItemCount > 0 && this.config.maxItemCount <= activeItems.length) {\n          // If there is a max entry limit and we have reached that limit\n          // don't update\n          canAddItem = false;\n          notice = (0, _utils.isType)('Function', this.config.maxItemText) ? this.config.maxItemText(this.config.maxItemCount) : this.config.maxItemText;\n        }\n\n        if (!this.config.duplicateItemsAllowed && isDuplicateValue && canAddItem) {\n          canAddItem = false;\n          notice = (0, _utils.isType)('Function', this.config.uniqueItemText) ? this.config.uniqueItemText(value) : this.config.uniqueItemText;\n        }\n\n        if (this._isTextElement && this.config.addItems && canAddItem && (0, _utils.isType)('Function', this.config.addItemFilterFn) && !this.config.addItemFilterFn(value)) {\n          canAddItem = false;\n          notice = (0, _utils.isType)('Function', this.config.customAddItemText) ? this.config.customAddItemText(value) : this.config.customAddItemText;\n        }\n      }\n\n      return {\n        response: canAddItem,\n        notice: notice\n      };\n    }\n  }, {\n    key: \"_ajaxCallback\",\n    value: function _ajaxCallback() {\n      var _this17 = this;\n\n      return function (results, value, label) {\n        if (!results || !value) {\n          return;\n        }\n\n        var parsedResults = (0, _utils.isType)('Object', results) ? [results] : results;\n\n        if (parsedResults && (0, _utils.isType)('Array', parsedResults) && parsedResults.length) {\n          // Remove loading states/text\n          _this17._handleLoadingState(false);\n\n          _this17._setLoading(true); // Add each result as a choice\n\n\n          parsedResults.forEach(function (result) {\n            if (result.choices) {\n              _this17._addGroup({\n                group: result,\n                id: result.id || null,\n                valueKey: value,\n                labelKey: label\n              });\n            } else {\n              _this17._addChoice({\n                value: (0, _utils.fetchFromObject)(result, value),\n                label: (0, _utils.fetchFromObject)(result, label),\n                isSelected: result.selected,\n                isDisabled: result.disabled,\n                customProperties: result.customProperties,\n                placeholder: result.placeholder\n              });\n            }\n          });\n\n          _this17._setLoading(false);\n\n          if (_this17._isSelectOneElement) {\n            _this17._selectPlaceholderChoice();\n          }\n        } else {\n          // No results, remove loading state\n          _this17._handleLoadingState(false);\n        }\n      };\n    }\n  }, {\n    key: \"_searchChoices\",\n    value: function _searchChoices(value) {\n      var newValue = (0, _utils.isType)('String', value) ? value.trim() : value;\n      var currentValue = (0, _utils.isType)('String', this._currentValue) ? this._currentValue.trim() : this._currentValue;\n\n      if (newValue.length < 1 && newValue === \"\".concat(currentValue, \" \")) {\n        return 0;\n      } // If new value matches the desired length and is not the same as the current value with a space\n\n\n      var haystack = this._store.searchableChoices;\n      var needle = newValue;\n      var keys = [].concat(this.config.searchFields);\n      var options = Object.assign(this.config.fuseOptions, {\n        keys: keys\n      });\n      var fuse = new _fuse.default(haystack, options);\n      var results = fuse.search(needle);\n      this._currentValue = newValue;\n      this._highlightPosition = 0;\n      this._isSearching = true;\n\n      this._store.dispatch((0, _choices.filterChoices)(results));\n\n      return results.length;\n    }\n  }, {\n    key: \"_addEventListeners\",\n    value: function _addEventListeners() {\n      document.addEventListener('keyup', this._onKeyUp);\n      document.addEventListener('keydown', this._onKeyDown);\n      document.addEventListener('click', this._onClick);\n      document.addEventListener('touchmove', this._onTouchMove);\n      document.addEventListener('touchend', this._onTouchEnd);\n      document.addEventListener('mousedown', this._onMouseDown);\n      document.addEventListener('mouseover', this._onMouseOver);\n\n      if (this._isSelectOneElement) {\n        this.containerOuter.element.addEventListener('focus', this._onFocus);\n        this.containerOuter.element.addEventListener('blur', this._onBlur);\n      }\n\n      this.input.element.addEventListener('focus', this._onFocus);\n      this.input.element.addEventListener('blur', this._onBlur);\n\n      if (this.input.element.form) {\n        this.input.element.form.addEventListener('reset', this._onFormReset);\n      }\n\n      this.input.addEventListeners();\n    }\n  }, {\n    key: \"_removeEventListeners\",\n    value: function _removeEventListeners() {\n      document.removeEventListener('keyup', this._onKeyUp);\n      document.removeEventListener('keydown', this._onKeyDown);\n      document.removeEventListener('click', this._onClick);\n      document.removeEventListener('touchmove', this._onTouchMove);\n      document.removeEventListener('touchend', this._onTouchEnd);\n      document.removeEventListener('mousedown', this._onMouseDown);\n      document.removeEventListener('mouseover', this._onMouseOver);\n\n      if (this._isSelectOneElement) {\n        this.containerOuter.element.removeEventListener('focus', this._onFocus);\n        this.containerOuter.element.removeEventListener('blur', this._onBlur);\n      }\n\n      this.input.element.removeEventListener('focus', this._onFocus);\n      this.input.element.removeEventListener('blur', this._onBlur);\n\n      if (this.input.element.form) {\n        this.input.element.form.removeEventListener('reset', this._onFormReset);\n      }\n\n      this.input.removeEventListeners();\n    }\n  }, {\n    key: \"_onKeyDown\",\n    value: function _onKeyDown(event) {\n      var _keyDownActions;\n\n      var target = event.target,\n          keyCode = event.keyCode,\n          ctrlKey = event.ctrlKey,\n          metaKey = event.metaKey;\n\n      if (target !== this.input.element && !this.containerOuter.element.contains(target)) {\n        return;\n      }\n\n      var activeItems = this._store.activeItems;\n      var hasFocusedInput = this.input.isFocussed;\n      var hasActiveDropdown = this.dropdown.isActive;\n      var hasItems = this.itemList.hasChildren;\n      var keyString = String.fromCharCode(keyCode);\n      var BACK_KEY = _constants.KEY_CODES.BACK_KEY,\n          DELETE_KEY = _constants.KEY_CODES.DELETE_KEY,\n          ENTER_KEY = _constants.KEY_CODES.ENTER_KEY,\n          A_KEY = _constants.KEY_CODES.A_KEY,\n          ESC_KEY = _constants.KEY_CODES.ESC_KEY,\n          UP_KEY = _constants.KEY_CODES.UP_KEY,\n          DOWN_KEY = _constants.KEY_CODES.DOWN_KEY,\n          PAGE_UP_KEY = _constants.KEY_CODES.PAGE_UP_KEY,\n          PAGE_DOWN_KEY = _constants.KEY_CODES.PAGE_DOWN_KEY;\n      var hasCtrlDownKeyPressed = ctrlKey || metaKey; // If a user is typing and the dropdown is not active\n\n      if (!this._isTextElement && /[a-zA-Z0-9-_ ]/.test(keyString)) {\n        this.showDropdown();\n      } // Map keys to key actions\n\n\n      var keyDownActions = (_keyDownActions = {}, _defineProperty(_keyDownActions, A_KEY, this._onAKey), _defineProperty(_keyDownActions, ENTER_KEY, this._onEnterKey), _defineProperty(_keyDownActions, ESC_KEY, this._onEscapeKey), _defineProperty(_keyDownActions, UP_KEY, this._onDirectionKey), _defineProperty(_keyDownActions, PAGE_UP_KEY, this._onDirectionKey), _defineProperty(_keyDownActions, DOWN_KEY, this._onDirectionKey), _defineProperty(_keyDownActions, PAGE_DOWN_KEY, this._onDirectionKey), _defineProperty(_keyDownActions, DELETE_KEY, this._onDeleteKey), _defineProperty(_keyDownActions, BACK_KEY, this._onDeleteKey), _keyDownActions); // If keycode has a function, run it\n\n      if (keyDownActions[keyCode]) {\n        keyDownActions[keyCode]({\n          event: event,\n          target: target,\n          keyCode: keyCode,\n          metaKey: metaKey,\n          activeItems: activeItems,\n          hasFocusedInput: hasFocusedInput,\n          hasActiveDropdown: hasActiveDropdown,\n          hasItems: hasItems,\n          hasCtrlDownKeyPressed: hasCtrlDownKeyPressed\n        });\n      }\n    }\n  }, {\n    key: \"_onKeyUp\",\n    value: function _onKeyUp(_ref2) {\n      var target = _ref2.target,\n          keyCode = _ref2.keyCode;\n\n      if (target !== this.input.element) {\n        return;\n      }\n\n      var value = this.input.value;\n      var activeItems = this._store.activeItems;\n\n      var canAddItem = this._canAddItem(activeItems, value);\n\n      var backKey = _constants.KEY_CODES.BACK_KEY,\n          deleteKey = _constants.KEY_CODES.DELETE_KEY; // We are typing into a text input and have a value, we want to show a dropdown\n      // notice. Otherwise hide the dropdown\n\n      if (this._isTextElement) {\n        var canShowDropdownNotice = canAddItem.notice && value;\n\n        if (canShowDropdownNotice) {\n          var dropdownItem = this._getTemplate('notice', canAddItem.notice);\n\n          this.dropdown.element.innerHTML = dropdownItem.outerHTML;\n          this.showDropdown(true);\n        } else {\n          this.hideDropdown(true);\n        }\n      } else {\n        var userHasRemovedValue = (keyCode === backKey || keyCode === deleteKey) && !target.value;\n        var canReactivateChoices = !this._isTextElement && this._isSearching;\n        var canSearch = this._canSearch && canAddItem.response;\n\n        if (userHasRemovedValue && canReactivateChoices) {\n          this._isSearching = false;\n\n          this._store.dispatch((0, _choices.activateChoices)(true));\n        } else if (canSearch) {\n          this._handleSearch(this.input.value);\n        }\n      }\n\n      this._canSearch = this.config.searchEnabled;\n    }\n  }, {\n    key: \"_onAKey\",\n    value: function _onAKey(_ref3) {\n      var hasItems = _ref3.hasItems,\n          hasCtrlDownKeyPressed = _ref3.hasCtrlDownKeyPressed;\n\n      // If CTRL + A or CMD + A have been pressed and there are items to select\n      if (hasCtrlDownKeyPressed && hasItems) {\n        this._canSearch = false;\n        var shouldHightlightAll = this.config.removeItems && !this.input.value && this.input.element === document.activeElement;\n\n        if (shouldHightlightAll) {\n          this.highlightAll();\n        }\n      }\n    }\n  }, {\n    key: \"_onEnterKey\",\n    value: function _onEnterKey(_ref4) {\n      var event = _ref4.event,\n          target = _ref4.target,\n          activeItems = _ref4.activeItems,\n          hasActiveDropdown = _ref4.hasActiveDropdown;\n      var enterKey = _constants.KEY_CODES.ENTER_KEY;\n      var targetWasButton = target.hasAttribute('data-button');\n\n      if (this._isTextElement && target.value) {\n        var value = this.input.value;\n\n        var canAddItem = this._canAddItem(activeItems, value);\n\n        if (canAddItem.response) {\n          this.hideDropdown(true);\n\n          this._addItem({\n            value: value\n          });\n\n          this._triggerChange(value);\n\n          this.clearInput();\n        }\n      }\n\n      if (targetWasButton) {\n        this._handleButtonAction(activeItems, target);\n\n        event.preventDefault();\n      }\n\n      if (hasActiveDropdown) {\n        var highlightedChoice = this.dropdown.getChild(\".\".concat(this.config.classNames.highlightedState));\n\n        if (highlightedChoice) {\n          // add enter keyCode value\n          if (activeItems[0]) {\n            activeItems[0].keyCode = enterKey; // eslint-disable-line no-param-reassign\n          }\n\n          this._handleChoiceAction(activeItems, highlightedChoice);\n        }\n\n        event.preventDefault();\n      } else if (this._isSelectOneElement) {\n        this.showDropdown();\n        event.preventDefault();\n      }\n    }\n  }, {\n    key: \"_onEscapeKey\",\n    value: function _onEscapeKey(_ref5) {\n      var hasActiveDropdown = _ref5.hasActiveDropdown;\n\n      if (hasActiveDropdown) {\n        this.hideDropdown(true);\n        this.containerOuter.focus();\n      }\n    }\n  }, {\n    key: \"_onDirectionKey\",\n    value: function _onDirectionKey(_ref6) {\n      var event = _ref6.event,\n          hasActiveDropdown = _ref6.hasActiveDropdown,\n          keyCode = _ref6.keyCode,\n          metaKey = _ref6.metaKey;\n      var downKey = _constants.KEY_CODES.DOWN_KEY,\n          pageUpKey = _constants.KEY_CODES.PAGE_UP_KEY,\n          pageDownKey = _constants.KEY_CODES.PAGE_DOWN_KEY; // If up or down key is pressed, traverse through options\n\n      if (hasActiveDropdown || this._isSelectOneElement) {\n        this.showDropdown();\n        this._canSearch = false;\n        var directionInt = keyCode === downKey || keyCode === pageDownKey ? 1 : -1;\n        var skipKey = metaKey || keyCode === pageDownKey || keyCode === pageUpKey;\n        var selectableChoiceIdentifier = '[data-choice-selectable]';\n        var nextEl;\n\n        if (skipKey) {\n          if (directionInt > 0) {\n            nextEl = Array.from(this.dropdown.element.querySelectorAll(selectableChoiceIdentifier)).pop();\n          } else {\n            nextEl = this.dropdown.element.querySelector(selectableChoiceIdentifier);\n          }\n        } else {\n          var currentEl = this.dropdown.element.querySelector(\".\".concat(this.config.classNames.highlightedState));\n\n          if (currentEl) {\n            nextEl = (0, _utils.getAdjacentEl)(currentEl, selectableChoiceIdentifier, directionInt);\n          } else {\n            nextEl = this.dropdown.element.querySelector(selectableChoiceIdentifier);\n          }\n        }\n\n        if (nextEl) {\n          // We prevent default to stop the cursor moving\n          // when pressing the arrow\n          if (!(0, _utils.isScrolledIntoView)(nextEl, this.choiceList.element, directionInt)) {\n            this.choiceList.scrollToChoice(nextEl, directionInt);\n          }\n\n          this._highlightChoice(nextEl);\n        } // Prevent default to maintain cursor position whilst\n        // traversing dropdown options\n\n\n        event.preventDefault();\n      }\n    }\n  }, {\n    key: \"_onDeleteKey\",\n    value: function _onDeleteKey(_ref7) {\n      var event = _ref7.event,\n          target = _ref7.target,\n          hasFocusedInput = _ref7.hasFocusedInput,\n          activeItems = _ref7.activeItems;\n\n      // If backspace or delete key is pressed and the input has no value\n      if (hasFocusedInput && !target.value && !this._isSelectOneElement) {\n        this._handleBackspace(activeItems);\n\n        event.preventDefault();\n      }\n    }\n  }, {\n    key: \"_onTouchMove\",\n    value: function _onTouchMove() {\n      if (this._wasTap) {\n        this._wasTap = false;\n      }\n    }\n  }, {\n    key: \"_onTouchEnd\",\n    value: function _onTouchEnd(event) {\n      var _ref8 = event || event.touches[0],\n          target = _ref8.target;\n\n      var touchWasWithinContainer = this._wasTap && this.containerOuter.element.contains(target);\n\n      if (touchWasWithinContainer) {\n        var containerWasExactTarget = target === this.containerOuter.element || target === this.containerInner.element;\n\n        if (containerWasExactTarget) {\n          if (this._isTextElement) {\n            this.input.focus();\n          } else if (this._isSelectMultipleElement) {\n            this.showDropdown();\n          }\n        } // Prevents focus event firing\n\n\n        event.stopPropagation();\n      }\n\n      this._wasTap = true;\n    }\n  }, {\n    key: \"_onMouseDown\",\n    value: function _onMouseDown(event) {\n      var target = event.target,\n          shiftKey = event.shiftKey; // If we have our mouse down on the scrollbar and are on IE11...\n\n      if (this.choiceList.element.contains(target) && (0, _utils.isIE11)()) {\n        this._isScrollingOnIe = true;\n      }\n\n      if (!this.containerOuter.element.contains(target) || target === this.input.element) {\n        return;\n      }\n\n      var activeItems = this._store.activeItems;\n      var hasShiftKey = shiftKey;\n      var buttonTarget = (0, _utils.findAncestorByAttrName)(target, 'data-button');\n      var itemTarget = (0, _utils.findAncestorByAttrName)(target, 'data-item');\n      var choiceTarget = (0, _utils.findAncestorByAttrName)(target, 'data-choice');\n\n      if (buttonTarget) {\n        this._handleButtonAction(activeItems, buttonTarget);\n      } else if (itemTarget) {\n        this._handleItemAction(activeItems, itemTarget, hasShiftKey);\n      } else if (choiceTarget) {\n        this._handleChoiceAction(activeItems, choiceTarget);\n      }\n\n      event.preventDefault();\n    }\n  }, {\n    key: \"_onMouseOver\",\n    value: function _onMouseOver(_ref9) {\n      var target = _ref9.target;\n      var targetWithinDropdown = target === this.dropdown || this.dropdown.element.contains(target);\n      var shouldHighlightChoice = targetWithinDropdown && target.hasAttribute('data-choice');\n\n      if (shouldHighlightChoice) {\n        this._highlightChoice(target);\n      }\n    }\n  }, {\n    key: \"_onClick\",\n    value: function _onClick(_ref10) {\n      var target = _ref10.target;\n      var clickWasWithinContainer = this.containerOuter.element.contains(target);\n\n      if (clickWasWithinContainer) {\n        if (!this.dropdown.isActive && !this.containerOuter.isDisabled) {\n          if (this._isTextElement) {\n            if (document.activeElement !== this.input.element) {\n              this.input.focus();\n            }\n          } else {\n            this.showDropdown();\n            this.containerOuter.focus();\n          }\n        } else if (this._isSelectOneElement && target !== this.input.element && !this.dropdown.element.contains(target)) {\n          this.hideDropdown();\n        }\n      } else {\n        var hasHighlightedItems = this._store.highlightedActiveItems;\n\n        if (hasHighlightedItems) {\n          this.unhighlightAll();\n        }\n\n        this.containerOuter.removeFocusState();\n        this.hideDropdown(true);\n      }\n    }\n  }, {\n    key: \"_onFocus\",\n    value: function _onFocus(_ref11) {\n      var _this18 = this;\n\n      var target = _ref11.target;\n      var focusWasWithinContainer = this.containerOuter.element.contains(target);\n\n      if (!focusWasWithinContainer) {\n        return;\n      }\n\n      var focusActions = {\n        text: function text() {\n          if (target === _this18.input.element) {\n            _this18.containerOuter.addFocusState();\n          }\n        },\n        'select-one': function selectOne() {\n          _this18.containerOuter.addFocusState();\n\n          if (target === _this18.input.element) {\n            _this18.showDropdown(true);\n          }\n        },\n        'select-multiple': function selectMultiple() {\n          if (target === _this18.input.element) {\n            _this18.showDropdown(true); // If element is a select box, the focused element is the container and the dropdown\n            // isn't already open, focus and show dropdown\n\n\n            _this18.containerOuter.addFocusState();\n          }\n        }\n      };\n      focusActions[this.passedElement.element.type]();\n    }\n  }, {\n    key: \"_onBlur\",\n    value: function _onBlur(_ref12) {\n      var _this19 = this;\n\n      var target = _ref12.target;\n      var blurWasWithinContainer = this.containerOuter.element.contains(target);\n\n      if (blurWasWithinContainer && !this._isScrollingOnIe) {\n        var activeItems = this._store.activeItems;\n        var hasHighlightedItems = activeItems.some(function (item) {\n          return item.highlighted;\n        });\n        var blurActions = {\n          text: function text() {\n            if (target === _this19.input.element) {\n              _this19.containerOuter.removeFocusState();\n\n              if (hasHighlightedItems) {\n                _this19.unhighlightAll();\n              }\n\n              _this19.hideDropdown(true);\n            }\n          },\n          'select-one': function selectOne() {\n            _this19.containerOuter.removeFocusState();\n\n            if (target === _this19.input.element || target === _this19.containerOuter.element && !_this19._canSearch) {\n              _this19.hideDropdown(true);\n            }\n          },\n          'select-multiple': function selectMultiple() {\n            if (target === _this19.input.element) {\n              _this19.containerOuter.removeFocusState();\n\n              _this19.hideDropdown(true);\n\n              if (hasHighlightedItems) {\n                _this19.unhighlightAll();\n              }\n            }\n          }\n        };\n        blurActions[this.passedElement.element.type]();\n      } else {\n        // On IE11, clicking the scollbar blurs our input and thus\n        // closes the dropdown. To stop this, we refocus our input\n        // if we know we are on IE *and* are scrolling.\n        this._isScrollingOnIe = false;\n        this.input.element.focus();\n      }\n    }\n  }, {\n    key: \"_onFormReset\",\n    value: function _onFormReset() {\n      this._store.dispatch((0, _misc.resetTo)(this._initialState));\n    }\n  }, {\n    key: \"_highlightChoice\",\n    value: function _highlightChoice() {\n      var _this20 = this;\n\n      var el = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n      var choices = Array.from(this.dropdown.element.querySelectorAll('[data-choice-selectable]'));\n\n      if (!choices.length) {\n        return;\n      }\n\n      var passedEl = el;\n      var highlightedChoices = Array.from(this.dropdown.element.querySelectorAll(\".\".concat(this.config.classNames.highlightedState))); // Remove any highlighted choices\n\n      highlightedChoices.forEach(function (choice) {\n        choice.classList.remove(_this20.config.classNames.highlightedState);\n        choice.setAttribute('aria-selected', 'false');\n      });\n\n      if (passedEl) {\n        this._highlightPosition = choices.indexOf(passedEl);\n      } else {\n        // Highlight choice based on last known highlight location\n        if (choices.length > this._highlightPosition) {\n          // If we have an option to highlight\n          passedEl = choices[this._highlightPosition];\n        } else {\n          // Otherwise highlight the option before\n          passedEl = choices[choices.length - 1];\n        }\n\n        if (!passedEl) {\n          passedEl = choices[0];\n        }\n      }\n\n      passedEl.classList.add(this.config.classNames.highlightedState);\n      passedEl.setAttribute('aria-selected', 'true');\n      this.passedElement.triggerEvent(_constants.EVENTS.highlightChoice, {\n        el: passedEl\n      });\n\n      if (this.dropdown.isActive) {\n        // IE11 ignores aria-label and blocks virtual keyboard\n        // if aria-activedescendant is set without a dropdown\n        this.input.setActiveDescendant(passedEl.id);\n        this.containerOuter.setActiveDescendant(passedEl.id);\n      }\n    }\n  }, {\n    key: \"_addItem\",\n    value: function _addItem(_ref13) {\n      var value = _ref13.value,\n          _ref13$label = _ref13.label,\n          label = _ref13$label === void 0 ? null : _ref13$label,\n          _ref13$choiceId = _ref13.choiceId,\n          choiceId = _ref13$choiceId === void 0 ? -1 : _ref13$choiceId,\n          _ref13$groupId = _ref13.groupId,\n          groupId = _ref13$groupId === void 0 ? -1 : _ref13$groupId,\n          _ref13$customProperti = _ref13.customProperties,\n          customProperties = _ref13$customProperti === void 0 ? null : _ref13$customProperti,\n          _ref13$placeholder = _ref13.placeholder,\n          placeholder = _ref13$placeholder === void 0 ? false : _ref13$placeholder,\n          _ref13$keyCode = _ref13.keyCode,\n          keyCode = _ref13$keyCode === void 0 ? null : _ref13$keyCode;\n      var passedValue = (0, _utils.isType)('String', value) ? value.trim() : value;\n      var passedKeyCode = keyCode;\n      var passedCustomProperties = customProperties;\n      var items = this._store.items;\n      var passedLabel = label || passedValue;\n      var passedOptionId = parseInt(choiceId, 10) || -1;\n      var group = groupId >= 0 ? this._store.getGroupById(groupId) : null;\n      var id = items ? items.length + 1 : 1; // If a prepended value has been passed, prepend it\n\n      if (this.config.prependValue) {\n        passedValue = this.config.prependValue + passedValue.toString();\n      } // If an appended value has been passed, append it\n\n\n      if (this.config.appendValue) {\n        passedValue += this.config.appendValue.toString();\n      }\n\n      this._store.dispatch((0, _items.addItem)({\n        value: passedValue,\n        label: passedLabel,\n        id: id,\n        choiceId: passedOptionId,\n        groupId: groupId,\n        customProperties: customProperties,\n        placeholder: placeholder,\n        keyCode: passedKeyCode\n      }));\n\n      if (this._isSelectOneElement) {\n        this.removeActiveItems(id);\n      } // Trigger change event\n\n\n      this.passedElement.triggerEvent(_constants.EVENTS.addItem, {\n        id: id,\n        value: passedValue,\n        label: passedLabel,\n        customProperties: passedCustomProperties,\n        groupValue: group && group.value ? group.value : undefined,\n        keyCode: passedKeyCode\n      });\n      return this;\n    }\n  }, {\n    key: \"_removeItem\",\n    value: function _removeItem(item) {\n      if (!item || !(0, _utils.isType)('Object', item)) {\n        return this;\n      }\n\n      var id = item.id,\n          value = item.value,\n          label = item.label,\n          choiceId = item.choiceId,\n          groupId = item.groupId;\n      var group = groupId >= 0 ? this._store.getGroupById(groupId) : null;\n\n      this._store.dispatch((0, _items.removeItem)(id, choiceId));\n\n      if (group && group.value) {\n        this.passedElement.triggerEvent(_constants.EVENTS.removeItem, {\n          id: id,\n          value: value,\n          label: label,\n          groupValue: group.value\n        });\n      } else {\n        this.passedElement.triggerEvent(_constants.EVENTS.removeItem, {\n          id: id,\n          value: value,\n          label: label\n        });\n      }\n\n      return this;\n    }\n  }, {\n    key: \"_addChoice\",\n    value: function _addChoice(_ref14) {\n      var value = _ref14.value,\n          _ref14$label = _ref14.label,\n          label = _ref14$label === void 0 ? null : _ref14$label,\n          _ref14$isSelected = _ref14.isSelected,\n          isSelected = _ref14$isSelected === void 0 ? false : _ref14$isSelected,\n          _ref14$isDisabled = _ref14.isDisabled,\n          isDisabled = _ref14$isDisabled === void 0 ? false : _ref14$isDisabled,\n          _ref14$groupId = _ref14.groupId,\n          groupId = _ref14$groupId === void 0 ? -1 : _ref14$groupId,\n          _ref14$customProperti = _ref14.customProperties,\n          customProperties = _ref14$customProperti === void 0 ? null : _ref14$customProperti,\n          _ref14$placeholder = _ref14.placeholder,\n          placeholder = _ref14$placeholder === void 0 ? false : _ref14$placeholder,\n          _ref14$keyCode = _ref14.keyCode,\n          keyCode = _ref14$keyCode === void 0 ? null : _ref14$keyCode;\n\n      if (typeof value === 'undefined' || value === null) {\n        return;\n      } // Generate unique id\n\n\n      var choices = this._store.choices;\n      var choiceLabel = label || value;\n      var choiceId = choices ? choices.length + 1 : 1;\n      var choiceElementId = \"\".concat(this._baseId, \"-\").concat(this._idNames.itemChoice, \"-\").concat(choiceId);\n\n      this._store.dispatch((0, _choices.addChoice)({\n        value: value,\n        label: choiceLabel,\n        id: choiceId,\n        groupId: groupId,\n        disabled: isDisabled,\n        elementId: choiceElementId,\n        customProperties: customProperties,\n        placeholder: placeholder,\n        keyCode: keyCode\n      }));\n\n      if (isSelected) {\n        this._addItem({\n          value: value,\n          label: choiceLabel,\n          choiceId: choiceId,\n          customProperties: customProperties,\n          placeholder: placeholder,\n          keyCode: keyCode\n        });\n      }\n    }\n  }, {\n    key: \"_addGroup\",\n    value: function _addGroup(_ref15) {\n      var _this21 = this;\n\n      var group = _ref15.group,\n          id = _ref15.id,\n          _ref15$valueKey = _ref15.valueKey,\n          valueKey = _ref15$valueKey === void 0 ? 'value' : _ref15$valueKey,\n          _ref15$labelKey = _ref15.labelKey,\n          labelKey = _ref15$labelKey === void 0 ? 'label' : _ref15$labelKey;\n      var groupChoices = (0, _utils.isType)('Object', group) ? group.choices : Array.from(group.getElementsByTagName('OPTION'));\n      var groupId = id || Math.floor(new Date().valueOf() * Math.random());\n      var isDisabled = group.disabled ? group.disabled : false;\n\n      if (groupChoices) {\n        this._store.dispatch((0, _groups.addGroup)(group.label, groupId, true, isDisabled));\n\n        var addGroupChoices = function addGroupChoices(choice) {\n          var isOptDisabled = choice.disabled || choice.parentNode && choice.parentNode.disabled;\n\n          _this21._addChoice({\n            value: choice[valueKey],\n            label: (0, _utils.isType)('Object', choice) ? choice[labelKey] : choice.innerHTML,\n            isSelected: choice.selected,\n            isDisabled: isOptDisabled,\n            groupId: groupId,\n            customProperties: choice.customProperties,\n            placeholder: choice.placeholder\n          });\n        };\n\n        groupChoices.forEach(addGroupChoices);\n      } else {\n        this._store.dispatch((0, _groups.addGroup)(group.label, group.id, false, group.disabled));\n      }\n    }\n  }, {\n    key: \"_getTemplate\",\n    value: function _getTemplate(template) {\n      var _templates$template;\n\n      if (!template) {\n        return null;\n      }\n\n      var _this$config4 = this.config,\n          templates = _this$config4.templates,\n          classNames = _this$config4.classNames;\n\n      for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n\n      return (_templates$template = templates[template]).call.apply(_templates$template, [this, classNames].concat(args));\n    }\n  }, {\n    key: \"_createTemplates\",\n    value: function _createTemplates() {\n      var callbackOnCreateTemplates = this.config.callbackOnCreateTemplates;\n      var userTemplates = {};\n\n      if (callbackOnCreateTemplates && (0, _utils.isType)('Function', callbackOnCreateTemplates)) {\n        userTemplates = callbackOnCreateTemplates.call(this, _utils.strToEl);\n      }\n\n      this.config.templates = (0, _deepmerge.default)(_templates.TEMPLATES, userTemplates);\n    }\n  }, {\n    key: \"_createElements\",\n    value: function _createElements() {\n      this.containerOuter = new _components.Container({\n        element: this._getTemplate('containerOuter', this._direction, this._isSelectElement, this._isSelectOneElement, this.config.searchEnabled, this.passedElement.element.type),\n        classNames: this.config.classNames,\n        type: this.passedElement.element.type,\n        position: this.config.position\n      });\n      this.containerInner = new _components.Container({\n        element: this._getTemplate('containerInner'),\n        classNames: this.config.classNames,\n        type: this.passedElement.element.type,\n        position: this.config.position\n      });\n      this.input = new _components.Input({\n        element: this._getTemplate('input'),\n        classNames: this.config.classNames,\n        type: this.passedElement.element.type\n      });\n      this.choiceList = new _components.List({\n        element: this._getTemplate('choiceList', this._isSelectOneElement)\n      });\n      this.itemList = new _components.List({\n        element: this._getTemplate('itemList', this._isSelectOneElement)\n      });\n      this.dropdown = new _components.Dropdown({\n        element: this._getTemplate('dropdown'),\n        classNames: this.config.classNames,\n        type: this.passedElement.element.type\n      });\n    }\n  }, {\n    key: \"_createStructure\",\n    value: function _createStructure() {\n      // Hide original element\n      this.passedElement.conceal(); // Wrap input in container preserving DOM ordering\n\n      this.containerInner.wrap(this.passedElement.element); // Wrapper inner container with outer container\n\n      this.containerOuter.wrap(this.containerInner.element);\n\n      if (this._isSelectOneElement) {\n        this.input.placeholder = this.config.searchPlaceholderValue || '';\n      } else if (this._placeholderValue) {\n        this.input.placeholder = this._placeholderValue;\n        this.input.setWidth(true);\n      }\n\n      this.containerOuter.element.appendChild(this.containerInner.element);\n      this.containerOuter.element.appendChild(this.dropdown.element);\n      this.containerInner.element.appendChild(this.itemList.element);\n\n      if (!this._isTextElement) {\n        this.dropdown.element.appendChild(this.choiceList.element);\n      }\n\n      if (!this._isSelectOneElement) {\n        this.containerInner.element.appendChild(this.input.element);\n      } else if (this.config.searchEnabled) {\n        this.dropdown.element.insertBefore(this.input.element, this.dropdown.element.firstChild);\n      }\n\n      if (this._isSelectElement) {\n        this._addPredefinedChoices();\n      } else if (this._isTextElement) {\n        this._addPredefinedItems();\n      }\n    }\n  }, {\n    key: \"_addPredefinedChoices\",\n    value: function _addPredefinedChoices() {\n      var _this22 = this;\n\n      var passedGroups = this.passedElement.optionGroups;\n      this._highlightPosition = 0;\n      this._isSearching = false;\n\n      this._setLoading(true);\n\n      if (passedGroups && passedGroups.length) {\n        // If we have a placeholder option\n        var placeholderChoice = this.passedElement.placeholderOption;\n\n        if (placeholderChoice && placeholderChoice.parentNode.tagName === 'SELECT') {\n          this._addChoice({\n            value: placeholderChoice.value,\n            label: placeholderChoice.innerHTML,\n            isSelected: placeholderChoice.selected,\n            isDisabled: placeholderChoice.disabled,\n            placeholder: true\n          });\n        }\n\n        passedGroups.forEach(function (group) {\n          return _this22._addGroup({\n            group: group,\n            id: group.id || null\n          });\n        });\n      } else {\n        var passedOptions = this.passedElement.options;\n        var filter = this.config.sortFn;\n        var allChoices = this._presetChoices; // Create array of options from option elements\n\n        passedOptions.forEach(function (o) {\n          allChoices.push({\n            value: o.value,\n            label: o.innerHTML,\n            selected: o.selected,\n            disabled: o.disabled || o.parentNode.disabled,\n            placeholder: o.hasAttribute('placeholder'),\n            customProperties: o.getAttribute('data-custom-properties')\n          });\n        }); // If sorting is enabled or the user is searching, filter choices\n\n        if (this.config.shouldSort) allChoices.sort(filter); // Determine whether there is a selected choice\n\n        var hasSelectedChoice = allChoices.some(function (choice) {\n          return choice.selected;\n        });\n\n        var handleChoice = function handleChoice(choice, index) {\n          var value = choice.value,\n              label = choice.label,\n              customProperties = choice.customProperties,\n              placeholder = choice.placeholder;\n\n          if (_this22._isSelectElement) {\n            // If the choice is actually a group\n            if (choice.choices) {\n              _this22._addGroup({\n                group: choice,\n                id: choice.id || null\n              });\n            } else {\n              // If there is a selected choice already or the choice is not\n              // the first in the array, add each choice normally\n              // Otherwise pre-select the first choice in the array if it's a single select\n              var shouldPreselect = _this22._isSelectOneElement && !hasSelectedChoice && index === 0;\n              var isSelected = shouldPreselect ? true : choice.selected;\n              var isDisabled = shouldPreselect ? false : choice.disabled;\n\n              _this22._addChoice({\n                value: value,\n                label: label,\n                isSelected: isSelected,\n                isDisabled: isDisabled,\n                customProperties: customProperties,\n                placeholder: placeholder\n              });\n            }\n          } else {\n            _this22._addChoice({\n              value: value,\n              label: label,\n              isSelected: choice.selected,\n              isDisabled: choice.disabled,\n              customProperties: customProperties,\n              placeholder: placeholder\n            });\n          }\n        }; // Add each choice\n\n\n        allChoices.forEach(function (choice, index) {\n          return handleChoice(choice, index);\n        });\n      }\n\n      this._setLoading(false);\n    }\n  }, {\n    key: \"_addPredefinedItems\",\n    value: function _addPredefinedItems() {\n      var _this23 = this;\n\n      var handlePresetItem = function handlePresetItem(item) {\n        var itemType = (0, _utils.getType)(item);\n\n        if (itemType === 'Object' && item.value) {\n          _this23._addItem({\n            value: item.value,\n            label: item.label,\n            choiceId: item.id,\n            customProperties: item.customProperties,\n            placeholder: item.placeholder\n          });\n        } else if (itemType === 'String') {\n          _this23._addItem({\n            value: item\n          });\n        }\n      };\n\n      this._presetItems.forEach(function (item) {\n        return handlePresetItem(item);\n      });\n    }\n  }, {\n    key: \"_setChoiceOrItem\",\n    value: function _setChoiceOrItem(item) {\n      var _this24 = this;\n\n      var itemType = (0, _utils.getType)(item).toLowerCase();\n      var handleType = {\n        object: function object() {\n          if (!item.value) {\n            return;\n          } // If we are dealing with a select input, we need to create an option first\n          // that is then selected. For text inputs we can just add items normally.\n\n\n          if (!_this24._isTextElement) {\n            _this24._addChoice({\n              value: item.value,\n              label: item.label,\n              isSelected: true,\n              isDisabled: false,\n              customProperties: item.customProperties,\n              placeholder: item.placeholder\n            });\n          } else {\n            _this24._addItem({\n              value: item.value,\n              label: item.label,\n              choiceId: item.id,\n              customProperties: item.customProperties,\n              placeholder: item.placeholder\n            });\n          }\n        },\n        string: function string() {\n          if (!_this24._isTextElement) {\n            _this24._addChoice({\n              value: item,\n              label: item,\n              isSelected: true,\n              isDisabled: false\n            });\n          } else {\n            _this24._addItem({\n              value: item\n            });\n          }\n        }\n      };\n      handleType[itemType]();\n    }\n  }, {\n    key: \"_findAndSelectChoiceByValue\",\n    value: function _findAndSelectChoiceByValue(val) {\n      var _this25 = this;\n\n      var choices = this._store.choices; // Check 'value' property exists and the choice isn't already selected\n\n      var foundChoice = choices.find(function (choice) {\n        return _this25.config.itemComparer(choice.value, val);\n      });\n\n      if (foundChoice && !foundChoice.selected) {\n        this._addItem({\n          value: foundChoice.value,\n          label: foundChoice.label,\n          choiceId: foundChoice.id,\n          groupId: foundChoice.groupId,\n          customProperties: foundChoice.customProperties,\n          placeholder: foundChoice.placeholder,\n          keyCode: foundChoice.keyCode\n        });\n      }\n    }\n  }, {\n    key: \"_generateInstances\",\n    value: function _generateInstances(elements, config) {\n      return elements.reduce(function (instances, element) {\n        instances.push(new Choices(element, config));\n        return instances;\n      }, [this]);\n    }\n  }, {\n    key: \"_generatePlaceholderValue\",\n    value: function _generatePlaceholderValue() {\n      if (this._isSelectOneElement) {\n        return false;\n      }\n\n      return this.config.placeholder ? this.config.placeholderValue || this.passedElement.element.getAttribute('placeholder') : false;\n    }\n    /* =====  End of Private functions  ====== */\n\n  }]);\n\n  return Choices;\n}();\n\nChoices.userDefaults = {}; // We cannot export default here due to Webpack: https://github.com/webpack/webpack/issues/3929\n\nmodule.exports = Choices;\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/*!\n * Fuse.js v3.4.2 - Lightweight fuzzy-search (http://fusejs.io)\n * \n * Copyright (c) 2012-2017 Kirollos Risk (http://kiro.me)\n * All Rights Reserved. Apache Software License 2.0\n * \n * http://www.apache.org/licenses/LICENSE-2.0\n */\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(true)\n\t\tmodule.exports = factory();\n\telse {}\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/ \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create a fake namespace object\n/******/ \t// mode & 1: value is a module id, require it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/ \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1: behave like require\n/******/ \t__webpack_require__.t = function(value, mode) {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/ \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n/******/ })\n/************************************************************************/\n/******/ ({\n\n/***/ \"./src/bitap/bitap_matched_indices.js\":\n/*!********************************************!*\\\n  !*** ./src/bitap/bitap_matched_indices.js ***!\n  \\********************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = function () {\n  var matchmask = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var minMatchCharLength = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n  var matchedIndices = [];\n  var start = -1;\n  var end = -1;\n  var i = 0;\n\n  for (var len = matchmask.length; i < len; i += 1) {\n    var match = matchmask[i];\n\n    if (match && start === -1) {\n      start = i;\n    } else if (!match && start !== -1) {\n      end = i - 1;\n\n      if (end - start + 1 >= minMatchCharLength) {\n        matchedIndices.push([start, end]);\n      }\n\n      start = -1;\n    }\n  } // (i-1 - start) + 1 => i - start\n\n\n  if (matchmask[i - 1] && i - start >= minMatchCharLength) {\n    matchedIndices.push([start, i - 1]);\n  }\n\n  return matchedIndices;\n};\n\n/***/ }),\n\n/***/ \"./src/bitap/bitap_pattern_alphabet.js\":\n/*!*********************************************!*\\\n  !*** ./src/bitap/bitap_pattern_alphabet.js ***!\n  \\*********************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = function (pattern) {\n  var mask = {};\n  var len = pattern.length;\n\n  for (var i = 0; i < len; i += 1) {\n    mask[pattern.charAt(i)] = 0;\n  }\n\n  for (var _i = 0; _i < len; _i += 1) {\n    mask[pattern.charAt(_i)] |= 1 << len - _i - 1;\n  }\n\n  return mask;\n};\n\n/***/ }),\n\n/***/ \"./src/bitap/bitap_regex_search.js\":\n/*!*****************************************!*\\\n  !*** ./src/bitap/bitap_regex_search.js ***!\n  \\*****************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nvar SPECIAL_CHARS_REGEX = /[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g;\n\nmodule.exports = function (text, pattern) {\n  var tokenSeparator = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : / +/g;\n  var regex = new RegExp(pattern.replace(SPECIAL_CHARS_REGEX, '\\\\$&').replace(tokenSeparator, '|'));\n  var matches = text.match(regex);\n  var isMatch = !!matches;\n  var matchedIndices = [];\n\n  if (isMatch) {\n    for (var i = 0, matchesLen = matches.length; i < matchesLen; i += 1) {\n      var match = matches[i];\n      matchedIndices.push([text.indexOf(match), match.length - 1]);\n    }\n  }\n\n  return {\n    // TODO: revisit this score\n    score: isMatch ? 0.5 : 1,\n    isMatch: isMatch,\n    matchedIndices: matchedIndices\n  };\n};\n\n/***/ }),\n\n/***/ \"./src/bitap/bitap_score.js\":\n/*!**********************************!*\\\n  !*** ./src/bitap/bitap_score.js ***!\n  \\**********************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = function (pattern, _ref) {\n  var _ref$errors = _ref.errors,\n      errors = _ref$errors === void 0 ? 0 : _ref$errors,\n      _ref$currentLocation = _ref.currentLocation,\n      currentLocation = _ref$currentLocation === void 0 ? 0 : _ref$currentLocation,\n      _ref$expectedLocation = _ref.expectedLocation,\n      expectedLocation = _ref$expectedLocation === void 0 ? 0 : _ref$expectedLocation,\n      _ref$distance = _ref.distance,\n      distance = _ref$distance === void 0 ? 100 : _ref$distance;\n  var accuracy = errors / pattern.length;\n  var proximity = Math.abs(expectedLocation - currentLocation);\n\n  if (!distance) {\n    // Dodge divide by zero error.\n    return proximity ? 1.0 : accuracy;\n  }\n\n  return accuracy + proximity / distance;\n};\n\n/***/ }),\n\n/***/ \"./src/bitap/bitap_search.js\":\n/*!***********************************!*\\\n  !*** ./src/bitap/bitap_search.js ***!\n  \\***********************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar bitapScore = __webpack_require__(/*! ./bitap_score */ \"./src/bitap/bitap_score.js\");\n\nvar matchedIndices = __webpack_require__(/*! ./bitap_matched_indices */ \"./src/bitap/bitap_matched_indices.js\");\n\nmodule.exports = function (text, pattern, patternAlphabet, _ref) {\n  var _ref$location = _ref.location,\n      location = _ref$location === void 0 ? 0 : _ref$location,\n      _ref$distance = _ref.distance,\n      distance = _ref$distance === void 0 ? 100 : _ref$distance,\n      _ref$threshold = _ref.threshold,\n      threshold = _ref$threshold === void 0 ? 0.6 : _ref$threshold,\n      _ref$findAllMatches = _ref.findAllMatches,\n      findAllMatches = _ref$findAllMatches === void 0 ? false : _ref$findAllMatches,\n      _ref$minMatchCharLeng = _ref.minMatchCharLength,\n      minMatchCharLength = _ref$minMatchCharLeng === void 0 ? 1 : _ref$minMatchCharLeng;\n  var expectedLocation = location; // Set starting location at beginning text and initialize the alphabet.\n\n  var textLen = text.length; // Highest score beyond which we give up.\n\n  var currentThreshold = threshold; // Is there a nearby exact match? (speedup)\n\n  var bestLocation = text.indexOf(pattern, expectedLocation);\n  var patternLen = pattern.length; // a mask of the matches\n\n  var matchMask = [];\n\n  for (var i = 0; i < textLen; i += 1) {\n    matchMask[i] = 0;\n  }\n\n  if (bestLocation !== -1) {\n    var score = bitapScore(pattern, {\n      errors: 0,\n      currentLocation: bestLocation,\n      expectedLocation: expectedLocation,\n      distance: distance\n    });\n    currentThreshold = Math.min(score, currentThreshold); // What about in the other direction? (speed up)\n\n    bestLocation = text.lastIndexOf(pattern, expectedLocation + patternLen);\n\n    if (bestLocation !== -1) {\n      var _score = bitapScore(pattern, {\n        errors: 0,\n        currentLocation: bestLocation,\n        expectedLocation: expectedLocation,\n        distance: distance\n      });\n\n      currentThreshold = Math.min(_score, currentThreshold);\n    }\n  } // Reset the best location\n\n\n  bestLocation = -1;\n  var lastBitArr = [];\n  var finalScore = 1;\n  var binMax = patternLen + textLen;\n  var mask = 1 << patternLen - 1;\n\n  for (var _i = 0; _i < patternLen; _i += 1) {\n    // Scan for the best match; each iteration allows for one more error.\n    // Run a binary search to determine how far from the match location we can stray\n    // at this error level.\n    var binMin = 0;\n    var binMid = binMax;\n\n    while (binMin < binMid) {\n      var _score3 = bitapScore(pattern, {\n        errors: _i,\n        currentLocation: expectedLocation + binMid,\n        expectedLocation: expectedLocation,\n        distance: distance\n      });\n\n      if (_score3 <= currentThreshold) {\n        binMin = binMid;\n      } else {\n        binMax = binMid;\n      }\n\n      binMid = Math.floor((binMax - binMin) / 2 + binMin);\n    } // Use the result from this iteration as the maximum for the next.\n\n\n    binMax = binMid;\n    var start = Math.max(1, expectedLocation - binMid + 1);\n    var finish = findAllMatches ? textLen : Math.min(expectedLocation + binMid, textLen) + patternLen; // Initialize the bit array\n\n    var bitArr = Array(finish + 2);\n    bitArr[finish + 1] = (1 << _i) - 1;\n\n    for (var j = finish; j >= start; j -= 1) {\n      var currentLocation = j - 1;\n      var charMatch = patternAlphabet[text.charAt(currentLocation)];\n\n      if (charMatch) {\n        matchMask[currentLocation] = 1;\n      } // First pass: exact match\n\n\n      bitArr[j] = (bitArr[j + 1] << 1 | 1) & charMatch; // Subsequent passes: fuzzy match\n\n      if (_i !== 0) {\n        bitArr[j] |= (lastBitArr[j + 1] | lastBitArr[j]) << 1 | 1 | lastBitArr[j + 1];\n      }\n\n      if (bitArr[j] & mask) {\n        finalScore = bitapScore(pattern, {\n          errors: _i,\n          currentLocation: currentLocation,\n          expectedLocation: expectedLocation,\n          distance: distance\n        }); // This match will almost certainly be better than any existing match.\n        // But check anyway.\n\n        if (finalScore <= currentThreshold) {\n          // Indeed it is\n          currentThreshold = finalScore;\n          bestLocation = currentLocation; // Already passed `loc`, downhill from here on in.\n\n          if (bestLocation <= expectedLocation) {\n            break;\n          } // When passing `bestLocation`, don't exceed our current distance from `expectedLocation`.\n\n\n          start = Math.max(1, 2 * expectedLocation - bestLocation);\n        }\n      }\n    } // No hope for a (better) match at greater error levels.\n\n\n    var _score2 = bitapScore(pattern, {\n      errors: _i + 1,\n      currentLocation: expectedLocation,\n      expectedLocation: expectedLocation,\n      distance: distance\n    }); // console.log('score', score, finalScore)\n\n\n    if (_score2 > currentThreshold) {\n      break;\n    }\n\n    lastBitArr = bitArr;\n  } // console.log('FINAL SCORE', finalScore)\n  // Count exact matches (those with a score of 0) to be \"almost\" exact\n\n\n  return {\n    isMatch: bestLocation >= 0,\n    score: finalScore === 0 ? 0.001 : finalScore,\n    matchedIndices: matchedIndices(matchMask, minMatchCharLength)\n  };\n};\n\n/***/ }),\n\n/***/ \"./src/bitap/index.js\":\n/*!****************************!*\\\n  !*** ./src/bitap/index.js ***!\n  \\****************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar bitapRegexSearch = __webpack_require__(/*! ./bitap_regex_search */ \"./src/bitap/bitap_regex_search.js\");\n\nvar bitapSearch = __webpack_require__(/*! ./bitap_search */ \"./src/bitap/bitap_search.js\");\n\nvar patternAlphabet = __webpack_require__(/*! ./bitap_pattern_alphabet */ \"./src/bitap/bitap_pattern_alphabet.js\");\n\nvar Bitap =\n/*#__PURE__*/\nfunction () {\n  function Bitap(pattern, _ref) {\n    var _ref$location = _ref.location,\n        location = _ref$location === void 0 ? 0 : _ref$location,\n        _ref$distance = _ref.distance,\n        distance = _ref$distance === void 0 ? 100 : _ref$distance,\n        _ref$threshold = _ref.threshold,\n        threshold = _ref$threshold === void 0 ? 0.6 : _ref$threshold,\n        _ref$maxPatternLength = _ref.maxPatternLength,\n        maxPatternLength = _ref$maxPatternLength === void 0 ? 32 : _ref$maxPatternLength,\n        _ref$isCaseSensitive = _ref.isCaseSensitive,\n        isCaseSensitive = _ref$isCaseSensitive === void 0 ? false : _ref$isCaseSensitive,\n        _ref$tokenSeparator = _ref.tokenSeparator,\n        tokenSeparator = _ref$tokenSeparator === void 0 ? / +/g : _ref$tokenSeparator,\n        _ref$findAllMatches = _ref.findAllMatches,\n        findAllMatches = _ref$findAllMatches === void 0 ? false : _ref$findAllMatches,\n        _ref$minMatchCharLeng = _ref.minMatchCharLength,\n        minMatchCharLength = _ref$minMatchCharLeng === void 0 ? 1 : _ref$minMatchCharLeng;\n\n    _classCallCheck(this, Bitap);\n\n    this.options = {\n      location: location,\n      distance: distance,\n      threshold: threshold,\n      maxPatternLength: maxPatternLength,\n      isCaseSensitive: isCaseSensitive,\n      tokenSeparator: tokenSeparator,\n      findAllMatches: findAllMatches,\n      minMatchCharLength: minMatchCharLength\n    };\n    this.pattern = this.options.isCaseSensitive ? pattern : pattern.toLowerCase();\n\n    if (this.pattern.length <= maxPatternLength) {\n      this.patternAlphabet = patternAlphabet(this.pattern);\n    }\n  }\n\n  _createClass(Bitap, [{\n    key: \"search\",\n    value: function search(text) {\n      if (!this.options.isCaseSensitive) {\n        text = text.toLowerCase();\n      } // Exact match\n\n\n      if (this.pattern === text) {\n        return {\n          isMatch: true,\n          score: 0,\n          matchedIndices: [[0, text.length - 1]]\n        };\n      } // When pattern length is greater than the machine word length, just do a a regex comparison\n\n\n      var _this$options = this.options,\n          maxPatternLength = _this$options.maxPatternLength,\n          tokenSeparator = _this$options.tokenSeparator;\n\n      if (this.pattern.length > maxPatternLength) {\n        return bitapRegexSearch(text, this.pattern, tokenSeparator);\n      } // Otherwise, use Bitap algorithm\n\n\n      var _this$options2 = this.options,\n          location = _this$options2.location,\n          distance = _this$options2.distance,\n          threshold = _this$options2.threshold,\n          findAllMatches = _this$options2.findAllMatches,\n          minMatchCharLength = _this$options2.minMatchCharLength;\n      return bitapSearch(text, this.pattern, this.patternAlphabet, {\n        location: location,\n        distance: distance,\n        threshold: threshold,\n        findAllMatches: findAllMatches,\n        minMatchCharLength: minMatchCharLength\n      });\n    }\n  }]);\n\n  return Bitap;\n}(); // let x = new Bitap(\"od mn war\", {})\n// let result = x.search(\"Old Man's War\")\n// console.log(result)\n\n\nmodule.exports = Bitap;\n\n/***/ }),\n\n/***/ \"./src/helpers/deep_value.js\":\n/*!***********************************!*\\\n  !*** ./src/helpers/deep_value.js ***!\n  \\***********************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar isArray = __webpack_require__(/*! ./is_array */ \"./src/helpers/is_array.js\");\n\nvar deepValue = function deepValue(obj, path, list) {\n  if (!path) {\n    // If there's no path left, we've gotten to the object we care about.\n    list.push(obj);\n  } else {\n    var dotIndex = path.indexOf('.');\n    var firstSegment = path;\n    var remaining = null;\n\n    if (dotIndex !== -1) {\n      firstSegment = path.slice(0, dotIndex);\n      remaining = path.slice(dotIndex + 1);\n    }\n\n    var value = obj[firstSegment];\n\n    if (value !== null && value !== undefined) {\n      if (!remaining && (typeof value === 'string' || typeof value === 'number')) {\n        list.push(value.toString());\n      } else if (isArray(value)) {\n        // Search each item in the array.\n        for (var i = 0, len = value.length; i < len; i += 1) {\n          deepValue(value[i], remaining, list);\n        }\n      } else if (remaining) {\n        // An object. Recurse further.\n        deepValue(value, remaining, list);\n      }\n    }\n  }\n\n  return list;\n};\n\nmodule.exports = function (obj, path) {\n  return deepValue(obj, path, []);\n};\n\n/***/ }),\n\n/***/ \"./src/helpers/is_array.js\":\n/*!*********************************!*\\\n  !*** ./src/helpers/is_array.js ***!\n  \\*********************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = function (obj) {\n  return !Array.isArray ? Object.prototype.toString.call(obj) === '[object Array]' : Array.isArray(obj);\n};\n\n/***/ }),\n\n/***/ \"./src/index.js\":\n/*!**********************!*\\\n  !*** ./src/index.js ***!\n  \\**********************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar Bitap = __webpack_require__(/*! ./bitap */ \"./src/bitap/index.js\");\n\nvar deepValue = __webpack_require__(/*! ./helpers/deep_value */ \"./src/helpers/deep_value.js\");\n\nvar isArray = __webpack_require__(/*! ./helpers/is_array */ \"./src/helpers/is_array.js\");\n\nvar Fuse =\n/*#__PURE__*/\nfunction () {\n  function Fuse(list, _ref) {\n    var _ref$location = _ref.location,\n        location = _ref$location === void 0 ? 0 : _ref$location,\n        _ref$distance = _ref.distance,\n        distance = _ref$distance === void 0 ? 100 : _ref$distance,\n        _ref$threshold = _ref.threshold,\n        threshold = _ref$threshold === void 0 ? 0.6 : _ref$threshold,\n        _ref$maxPatternLength = _ref.maxPatternLength,\n        maxPatternLength = _ref$maxPatternLength === void 0 ? 32 : _ref$maxPatternLength,\n        _ref$caseSensitive = _ref.caseSensitive,\n        caseSensitive = _ref$caseSensitive === void 0 ? false : _ref$caseSensitive,\n        _ref$tokenSeparator = _ref.tokenSeparator,\n        tokenSeparator = _ref$tokenSeparator === void 0 ? / +/g : _ref$tokenSeparator,\n        _ref$findAllMatches = _ref.findAllMatches,\n        findAllMatches = _ref$findAllMatches === void 0 ? false : _ref$findAllMatches,\n        _ref$minMatchCharLeng = _ref.minMatchCharLength,\n        minMatchCharLength = _ref$minMatchCharLeng === void 0 ? 1 : _ref$minMatchCharLeng,\n        _ref$id = _ref.id,\n        id = _ref$id === void 0 ? null : _ref$id,\n        _ref$keys = _ref.keys,\n        keys = _ref$keys === void 0 ? [] : _ref$keys,\n        _ref$shouldSort = _ref.shouldSort,\n        shouldSort = _ref$shouldSort === void 0 ? true : _ref$shouldSort,\n        _ref$getFn = _ref.getFn,\n        getFn = _ref$getFn === void 0 ? deepValue : _ref$getFn,\n        _ref$sortFn = _ref.sortFn,\n        sortFn = _ref$sortFn === void 0 ? function (a, b) {\n      return a.score - b.score;\n    } : _ref$sortFn,\n        _ref$tokenize = _ref.tokenize,\n        tokenize = _ref$tokenize === void 0 ? false : _ref$tokenize,\n        _ref$matchAllTokens = _ref.matchAllTokens,\n        matchAllTokens = _ref$matchAllTokens === void 0 ? false : _ref$matchAllTokens,\n        _ref$includeMatches = _ref.includeMatches,\n        includeMatches = _ref$includeMatches === void 0 ? false : _ref$includeMatches,\n        _ref$includeScore = _ref.includeScore,\n        includeScore = _ref$includeScore === void 0 ? false : _ref$includeScore,\n        _ref$verbose = _ref.verbose,\n        verbose = _ref$verbose === void 0 ? false : _ref$verbose;\n\n    _classCallCheck(this, Fuse);\n\n    this.options = {\n      location: location,\n      distance: distance,\n      threshold: threshold,\n      maxPatternLength: maxPatternLength,\n      isCaseSensitive: caseSensitive,\n      tokenSeparator: tokenSeparator,\n      findAllMatches: findAllMatches,\n      minMatchCharLength: minMatchCharLength,\n      id: id,\n      keys: keys,\n      includeMatches: includeMatches,\n      includeScore: includeScore,\n      shouldSort: shouldSort,\n      getFn: getFn,\n      sortFn: sortFn,\n      verbose: verbose,\n      tokenize: tokenize,\n      matchAllTokens: matchAllTokens\n    };\n    this.setCollection(list);\n  }\n\n  _createClass(Fuse, [{\n    key: \"setCollection\",\n    value: function setCollection(list) {\n      this.list = list;\n      return list;\n    }\n  }, {\n    key: \"search\",\n    value: function search(pattern) {\n      var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n        limit: false\n      };\n\n      this._log(\"---------\\nSearch pattern: \\\"\".concat(pattern, \"\\\"\"));\n\n      var _this$_prepareSearche = this._prepareSearchers(pattern),\n          tokenSearchers = _this$_prepareSearche.tokenSearchers,\n          fullSearcher = _this$_prepareSearche.fullSearcher;\n\n      var _this$_search = this._search(tokenSearchers, fullSearcher),\n          weights = _this$_search.weights,\n          results = _this$_search.results;\n\n      this._computeScore(weights, results);\n\n      if (this.options.shouldSort) {\n        this._sort(results);\n      }\n\n      if (opts.limit && typeof opts.limit === 'number') {\n        results = results.slice(0, opts.limit);\n      }\n\n      return this._format(results);\n    }\n  }, {\n    key: \"_prepareSearchers\",\n    value: function _prepareSearchers() {\n      var pattern = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n      var tokenSearchers = [];\n\n      if (this.options.tokenize) {\n        // Tokenize on the separator\n        var tokens = pattern.split(this.options.tokenSeparator);\n\n        for (var i = 0, len = tokens.length; i < len; i += 1) {\n          tokenSearchers.push(new Bitap(tokens[i], this.options));\n        }\n      }\n\n      var fullSearcher = new Bitap(pattern, this.options);\n      return {\n        tokenSearchers: tokenSearchers,\n        fullSearcher: fullSearcher\n      };\n    }\n  }, {\n    key: \"_search\",\n    value: function _search() {\n      var tokenSearchers = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n      var fullSearcher = arguments.length > 1 ? arguments[1] : undefined;\n      var list = this.list;\n      var resultMap = {};\n      var results = []; // Check the first item in the list, if it's a string, then we assume\n      // that every item in the list is also a string, and thus it's a flattened array.\n\n      if (typeof list[0] === 'string') {\n        // Iterate over every item\n        for (var i = 0, len = list.length; i < len; i += 1) {\n          this._analyze({\n            key: '',\n            value: list[i],\n            record: i,\n            index: i\n          }, {\n            resultMap: resultMap,\n            results: results,\n            tokenSearchers: tokenSearchers,\n            fullSearcher: fullSearcher\n          });\n        }\n\n        return {\n          weights: null,\n          results: results\n        };\n      } // Otherwise, the first item is an Object (hopefully), and thus the searching\n      // is done on the values of the keys of each item.\n\n\n      var weights = {};\n\n      for (var _i = 0, _len = list.length; _i < _len; _i += 1) {\n        var item = list[_i]; // Iterate over every key\n\n        for (var j = 0, keysLen = this.options.keys.length; j < keysLen; j += 1) {\n          var key = this.options.keys[j];\n\n          if (typeof key !== 'string') {\n            weights[key.name] = {\n              weight: 1 - key.weight || 1\n            };\n\n            if (key.weight <= 0 || key.weight > 1) {\n              throw new Error('Key weight has to be > 0 and <= 1');\n            }\n\n            key = key.name;\n          } else {\n            weights[key] = {\n              weight: 1\n            };\n          }\n\n          this._analyze({\n            key: key,\n            value: this.options.getFn(item, key),\n            record: item,\n            index: _i\n          }, {\n            resultMap: resultMap,\n            results: results,\n            tokenSearchers: tokenSearchers,\n            fullSearcher: fullSearcher\n          });\n        }\n      }\n\n      return {\n        weights: weights,\n        results: results\n      };\n    }\n  }, {\n    key: \"_analyze\",\n    value: function _analyze(_ref2, _ref3) {\n      var key = _ref2.key,\n          _ref2$arrayIndex = _ref2.arrayIndex,\n          arrayIndex = _ref2$arrayIndex === void 0 ? -1 : _ref2$arrayIndex,\n          value = _ref2.value,\n          record = _ref2.record,\n          index = _ref2.index;\n      var _ref3$tokenSearchers = _ref3.tokenSearchers,\n          tokenSearchers = _ref3$tokenSearchers === void 0 ? [] : _ref3$tokenSearchers,\n          _ref3$fullSearcher = _ref3.fullSearcher,\n          fullSearcher = _ref3$fullSearcher === void 0 ? [] : _ref3$fullSearcher,\n          _ref3$resultMap = _ref3.resultMap,\n          resultMap = _ref3$resultMap === void 0 ? {} : _ref3$resultMap,\n          _ref3$results = _ref3.results,\n          results = _ref3$results === void 0 ? [] : _ref3$results;\n\n      // Check if the texvaluet can be searched\n      if (value === undefined || value === null) {\n        return;\n      }\n\n      var exists = false;\n      var averageScore = -1;\n      var numTextMatches = 0;\n\n      if (typeof value === 'string') {\n        this._log(\"\\nKey: \".concat(key === '' ? '-' : key));\n\n        var mainSearchResult = fullSearcher.search(value);\n\n        this._log(\"Full text: \\\"\".concat(value, \"\\\", score: \").concat(mainSearchResult.score));\n\n        if (this.options.tokenize) {\n          var words = value.split(this.options.tokenSeparator);\n          var scores = [];\n\n          for (var i = 0; i < tokenSearchers.length; i += 1) {\n            var tokenSearcher = tokenSearchers[i];\n\n            this._log(\"\\nPattern: \\\"\".concat(tokenSearcher.pattern, \"\\\"\")); // let tokenScores = []\n\n\n            var hasMatchInText = false;\n\n            for (var j = 0; j < words.length; j += 1) {\n              var word = words[j];\n              var tokenSearchResult = tokenSearcher.search(word);\n              var obj = {};\n\n              if (tokenSearchResult.isMatch) {\n                obj[word] = tokenSearchResult.score;\n                exists = true;\n                hasMatchInText = true;\n                scores.push(tokenSearchResult.score);\n              } else {\n                obj[word] = 1;\n\n                if (!this.options.matchAllTokens) {\n                  scores.push(1);\n                }\n              }\n\n              this._log(\"Token: \\\"\".concat(word, \"\\\", score: \").concat(obj[word])); // tokenScores.push(obj)\n\n            }\n\n            if (hasMatchInText) {\n              numTextMatches += 1;\n            }\n          }\n\n          averageScore = scores[0];\n          var scoresLen = scores.length;\n\n          for (var _i2 = 1; _i2 < scoresLen; _i2 += 1) {\n            averageScore += scores[_i2];\n          }\n\n          averageScore = averageScore / scoresLen;\n\n          this._log('Token score average:', averageScore);\n        }\n\n        var finalScore = mainSearchResult.score;\n\n        if (averageScore > -1) {\n          finalScore = (finalScore + averageScore) / 2;\n        }\n\n        this._log('Score average:', finalScore);\n\n        var checkTextMatches = this.options.tokenize && this.options.matchAllTokens ? numTextMatches >= tokenSearchers.length : true;\n\n        this._log(\"\\nCheck Matches: \".concat(checkTextMatches)); // If a match is found, add the item to <rawResults>, including its score\n\n\n        if ((exists || mainSearchResult.isMatch) && checkTextMatches) {\n          // Check if the item already exists in our results\n          var existingResult = resultMap[index];\n\n          if (existingResult) {\n            // Use the lowest score\n            // existingResult.score, bitapResult.score\n            existingResult.output.push({\n              key: key,\n              arrayIndex: arrayIndex,\n              value: value,\n              score: finalScore,\n              matchedIndices: mainSearchResult.matchedIndices\n            });\n          } else {\n            // Add it to the raw result list\n            resultMap[index] = {\n              item: record,\n              output: [{\n                key: key,\n                arrayIndex: arrayIndex,\n                value: value,\n                score: finalScore,\n                matchedIndices: mainSearchResult.matchedIndices\n              }]\n            };\n            results.push(resultMap[index]);\n          }\n        }\n      } else if (isArray(value)) {\n        for (var _i3 = 0, len = value.length; _i3 < len; _i3 += 1) {\n          this._analyze({\n            key: key,\n            arrayIndex: _i3,\n            value: value[_i3],\n            record: record,\n            index: index\n          }, {\n            resultMap: resultMap,\n            results: results,\n            tokenSearchers: tokenSearchers,\n            fullSearcher: fullSearcher\n          });\n        }\n      }\n    }\n  }, {\n    key: \"_computeScore\",\n    value: function _computeScore(weights, results) {\n      this._log('\\n\\nComputing score:\\n');\n\n      for (var i = 0, len = results.length; i < len; i += 1) {\n        var output = results[i].output;\n        var scoreLen = output.length;\n        var currScore = 1;\n        var bestScore = 1;\n\n        for (var j = 0; j < scoreLen; j += 1) {\n          var weight = weights ? weights[output[j].key].weight : 1;\n          var score = weight === 1 ? output[j].score : output[j].score || 0.001;\n          var nScore = score * weight;\n\n          if (weight !== 1) {\n            bestScore = Math.min(bestScore, nScore);\n          } else {\n            output[j].nScore = nScore;\n            currScore *= nScore;\n          }\n        }\n\n        results[i].score = bestScore === 1 ? currScore : bestScore;\n\n        this._log(results[i]);\n      }\n    }\n  }, {\n    key: \"_sort\",\n    value: function _sort(results) {\n      this._log('\\n\\nSorting....');\n\n      results.sort(this.options.sortFn);\n    }\n  }, {\n    key: \"_format\",\n    value: function _format(results) {\n      var finalOutput = [];\n\n      if (this.options.verbose) {\n        var cache = [];\n\n        this._log('\\n\\nOutput:\\n\\n', JSON.stringify(results, function (key, value) {\n          if (_typeof(value) === 'object' && value !== null) {\n            if (cache.indexOf(value) !== -1) {\n              // Circular reference found, discard key\n              return;\n            } // Store value in our collection\n\n\n            cache.push(value);\n          }\n\n          return value;\n        }));\n\n        cache = null;\n      }\n\n      var transformers = [];\n\n      if (this.options.includeMatches) {\n        transformers.push(function (result, data) {\n          var output = result.output;\n          data.matches = [];\n\n          for (var i = 0, len = output.length; i < len; i += 1) {\n            var item = output[i];\n\n            if (item.matchedIndices.length === 0) {\n              continue;\n            }\n\n            var obj = {\n              indices: item.matchedIndices,\n              value: item.value\n            };\n\n            if (item.key) {\n              obj.key = item.key;\n            }\n\n            if (item.hasOwnProperty('arrayIndex') && item.arrayIndex > -1) {\n              obj.arrayIndex = item.arrayIndex;\n            }\n\n            data.matches.push(obj);\n          }\n        });\n      }\n\n      if (this.options.includeScore) {\n        transformers.push(function (result, data) {\n          data.score = result.score;\n        });\n      }\n\n      for (var i = 0, len = results.length; i < len; i += 1) {\n        var result = results[i];\n\n        if (this.options.id) {\n          result.item = this.options.getFn(result.item, this.options.id)[0];\n        }\n\n        if (!transformers.length) {\n          finalOutput.push(result.item);\n          continue;\n        }\n\n        var data = {\n          item: result.item\n        };\n\n        for (var j = 0, _len2 = transformers.length; j < _len2; j += 1) {\n          transformers[j](result, data);\n        }\n\n        finalOutput.push(data);\n      }\n\n      return finalOutput;\n    }\n  }, {\n    key: \"_log\",\n    value: function _log() {\n      if (this.options.verbose) {\n        var _console;\n\n        (_console = console).log.apply(_console, arguments);\n      }\n    }\n  }]);\n\n  return Fuse;\n}();\n\nmodule.exports = Fuse;\n\n/***/ })\n\n/******/ });\n});\n\n/***/ }),\n/* 12 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\nvar isMergeableObject = function isMergeableObject(value) {\n\treturn isNonNullObject(value)\n\t\t&& !isSpecial(value)\n};\n\nfunction isNonNullObject(value) {\n\treturn !!value && typeof value === 'object'\n}\n\nfunction isSpecial(value) {\n\tvar stringValue = Object.prototype.toString.call(value);\n\n\treturn stringValue === '[object RegExp]'\n\t\t|| stringValue === '[object Date]'\n\t\t|| isReactElement(value)\n}\n\n// see https://github.com/facebook/react/blob/b5ac963fb791d1298e7f396236383bc955f916c1/src/isomorphic/classic/element/ReactElement.js#L21-L25\nvar canUseSymbol = typeof Symbol === 'function' && Symbol.for;\nvar REACT_ELEMENT_TYPE = canUseSymbol ? Symbol.for('react.element') : 0xeac7;\n\nfunction isReactElement(value) {\n\treturn value.$$typeof === REACT_ELEMENT_TYPE\n}\n\nfunction emptyTarget(val) {\n\treturn Array.isArray(val) ? [] : {}\n}\n\nfunction cloneUnlessOtherwiseSpecified(value, options) {\n\treturn (options.clone !== false && options.isMergeableObject(value))\n\t\t? deepmerge(emptyTarget(value), value, options)\n\t\t: value\n}\n\nfunction defaultArrayMerge(target, source, options) {\n\treturn target.concat(source).map(function(element) {\n\t\treturn cloneUnlessOtherwiseSpecified(element, options)\n\t})\n}\n\nfunction mergeObject(target, source, options) {\n\tvar destination = {};\n\tif (options.isMergeableObject(target)) {\n\t\tObject.keys(target).forEach(function(key) {\n\t\t\tdestination[key] = cloneUnlessOtherwiseSpecified(target[key], options);\n\t\t});\n\t}\n\tObject.keys(source).forEach(function(key) {\n\t\tif (!options.isMergeableObject(source[key]) || !target[key]) {\n\t\t\tdestination[key] = cloneUnlessOtherwiseSpecified(source[key], options);\n\t\t} else {\n\t\t\tdestination[key] = deepmerge(target[key], source[key], options);\n\t\t}\n\t});\n\treturn destination\n}\n\nfunction deepmerge(target, source, options) {\n\toptions = options || {};\n\toptions.arrayMerge = options.arrayMerge || defaultArrayMerge;\n\toptions.isMergeableObject = options.isMergeableObject || isMergeableObject;\n\n\tvar sourceIsArray = Array.isArray(source);\n\tvar targetIsArray = Array.isArray(target);\n\tvar sourceAndTargetTypesMatch = sourceIsArray === targetIsArray;\n\n\tif (!sourceAndTargetTypesMatch) {\n\t\treturn cloneUnlessOtherwiseSpecified(source, options)\n\t} else if (sourceIsArray) {\n\t\treturn options.arrayMerge(target, source, options)\n\t} else {\n\t\treturn mergeObject(target, source, options)\n\t}\n}\n\ndeepmerge.all = function deepmergeAll(array, options) {\n\tif (!Array.isArray(array)) {\n\t\tthrow new Error('first argument should be an array')\n\t}\n\n\treturn array.reduce(function(prev, next) {\n\t\treturn deepmerge(prev, next, options)\n\t}, {})\n};\n\nvar deepmerge_1 = deepmerge;\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (deepmerge_1);\n\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _redux = __webpack_require__(6);\n\nvar _index = _interopRequireDefault(__webpack_require__(15));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar Store =\n/*#__PURE__*/\nfunction () {\n  function Store() {\n    _classCallCheck(this, Store);\n\n    this._store = (0, _redux.createStore)(_index.default, window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__());\n  }\n  /**\n   * Subscribe store to function call (wrapped Redux method)\n   * @param  {Function} onChange Function to trigger when state changes\n   * @return\n   */\n\n\n  _createClass(Store, [{\n    key: \"subscribe\",\n    value: function subscribe(onChange) {\n      this._store.subscribe(onChange);\n    }\n    /**\n     * Dispatch event to store (wrapped Redux method)\n     * @param  {Function} action Action function to trigger\n     * @return\n     */\n\n  }, {\n    key: \"dispatch\",\n    value: function dispatch(action) {\n      this._store.dispatch(action);\n    }\n    /**\n     * Get store object (wrapping Redux method)\n     * @return {Object} State\n     */\n\n  }, {\n    key: \"isLoading\",\n\n    /**\n     * Get loading state from store\n     * @return {Boolean} Loading State\n     */\n    value: function isLoading() {\n      return this.state.general.loading;\n    }\n    /**\n     * Get single choice by it's ID\n     * @return {Object} Found choice\n     */\n\n  }, {\n    key: \"getChoiceById\",\n    value: function getChoiceById(id) {\n      if (id) {\n        var choices = this.activeChoices;\n        var foundChoice = choices.find(function (choice) {\n          return choice.id === parseInt(id, 10);\n        });\n        return foundChoice;\n      }\n\n      return false;\n    }\n    /**\n     * Get group by group id\n     * @param  {Number} id Group ID\n     * @return {Object}    Group data\n     */\n\n  }, {\n    key: \"getGroupById\",\n    value: function getGroupById(id) {\n      return this.groups.find(function (group) {\n        return group.id === parseInt(id, 10);\n      });\n    }\n  }, {\n    key: \"state\",\n    get: function get() {\n      return this._store.getState();\n    }\n    /**\n     * Get items from store\n     * @return {Array} Item objects\n     */\n\n  }, {\n    key: \"items\",\n    get: function get() {\n      return this.state.items;\n    }\n    /**\n     * Get active items from store\n     * @return {Array} Item objects\n     */\n\n  }, {\n    key: \"activeItems\",\n    get: function get() {\n      return this.items.filter(function (item) {\n        return item.active === true;\n      });\n    }\n    /**\n     * Get highlighted items from store\n     * @return {Array} Item objects\n     */\n\n  }, {\n    key: \"highlightedActiveItems\",\n    get: function get() {\n      return this.items.filter(function (item) {\n        return item.active && item.highlighted;\n      });\n    }\n    /**\n     * Get choices from store\n     * @return {Array} Option objects\n     */\n\n  }, {\n    key: \"choices\",\n    get: function get() {\n      return this.state.choices;\n    }\n    /**\n     * Get active choices from store\n     * @return {Array} Option objects\n     */\n\n  }, {\n    key: \"activeChoices\",\n    get: function get() {\n      var choices = this.choices;\n      var values = choices.filter(function (choice) {\n        return choice.active === true;\n      });\n      return values;\n    }\n    /**\n     * Get selectable choices from store\n     * @return {Array} Option objects\n     */\n\n  }, {\n    key: \"selectableChoices\",\n    get: function get() {\n      return this.choices.filter(function (choice) {\n        return choice.disabled !== true;\n      });\n    }\n    /**\n     * Get choices that can be searched (excluding placeholders)\n     * @return {Array} Option objects\n     */\n\n  }, {\n    key: \"searchableChoices\",\n    get: function get() {\n      return this.selectableChoices.filter(function (choice) {\n        return choice.placeholder !== true;\n      });\n    }\n    /**\n     * Get placeholder choice from store\n     * @return {Object} Found placeholder\n     */\n\n  }, {\n    key: \"placeholderChoice\",\n    get: function get() {\n      return [].concat(this.choices).reverse().find(function (choice) {\n        return choice.placeholder === true;\n      });\n    }\n    /**\n     * Get groups from store\n     * @return {Array} Group objects\n     */\n\n  }, {\n    key: \"groups\",\n    get: function get() {\n      return this.state.groups;\n    }\n    /**\n     * Get active groups from store\n     * @return {Array} Group objects\n     */\n\n  }, {\n    key: \"activeGroups\",\n    get: function get() {\n      var groups = this.groups;\n      var choices = this.choices;\n      return groups.filter(function (group) {\n        var isActive = group.active === true && group.disabled === false;\n        var hasActiveOptions = choices.some(function (choice) {\n          return choice.active === true && choice.disabled === false;\n        });\n        return isActive && hasActiveOptions;\n      }, []);\n    }\n  }]);\n\n  return Store;\n}();\n\nexports.default = Store;\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports) {\n\nmodule.exports = function(originalModule) {\n\tif (!originalModule.webpackPolyfill) {\n\t\tvar module = Object.create(originalModule);\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"exports\", {\n\t\t\tenumerable: true\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _redux = __webpack_require__(6);\n\nvar _items = _interopRequireDefault(__webpack_require__(16));\n\nvar _groups = _interopRequireDefault(__webpack_require__(17));\n\nvar _choices = _interopRequireDefault(__webpack_require__(18));\n\nvar _general = _interopRequireDefault(__webpack_require__(19));\n\nvar _utils = __webpack_require__(0);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar appReducer = (0, _redux.combineReducers)({\n  items: _items.default,\n  groups: _groups.default,\n  choices: _choices.default,\n  general: _general.default\n});\n\nvar rootReducer = function rootReducer(passedState, action) {\n  var state = passedState; // If we are clearing all items, groups and options we reassign\n  // state and then pass that state to our proper reducer. This isn't\n  // mutating our actual state\n  // See: http://stackoverflow.com/a/35641992\n\n  if (action.type === 'CLEAR_ALL') {\n    state = undefined;\n  } else if (action.type === 'RESET_TO') {\n    return (0, _utils.cloneObject)(action.state);\n  }\n\n  return appReducer(state, action);\n};\n\nvar _default = rootReducer;\nexports.default = _default;\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = items;\nexports.defaultState = void 0;\nvar defaultState = [];\nexports.defaultState = defaultState;\n\nfunction items() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case 'ADD_ITEM':\n      {\n        // Add object to items array\n        var newState = [].concat(state, [{\n          id: action.id,\n          choiceId: action.choiceId,\n          groupId: action.groupId,\n          value: action.value,\n          label: action.label,\n          active: true,\n          highlighted: false,\n          customProperties: action.customProperties,\n          placeholder: action.placeholder || false,\n          keyCode: null\n        }]);\n        return newState.map(function (obj) {\n          var item = obj;\n          item.highlighted = false;\n          return item;\n        });\n      }\n\n    case 'REMOVE_ITEM':\n      {\n        // Set item to inactive\n        return state.map(function (obj) {\n          var item = obj;\n\n          if (item.id === action.id) {\n            item.active = false;\n          }\n\n          return item;\n        });\n      }\n\n    case 'HIGHLIGHT_ITEM':\n      {\n        return state.map(function (obj) {\n          var item = obj;\n\n          if (item.id === action.id) {\n            item.highlighted = action.highlighted;\n          }\n\n          return item;\n        });\n      }\n\n    default:\n      {\n        return state;\n      }\n  }\n}\n\n/***/ }),\n/* 17 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = groups;\nexports.defaultState = void 0;\nvar defaultState = [];\nexports.defaultState = defaultState;\n\nfunction groups() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case 'ADD_GROUP':\n      {\n        return [].concat(state, [{\n          id: action.id,\n          value: action.value,\n          active: action.active,\n          disabled: action.disabled\n        }]);\n      }\n\n    case 'CLEAR_CHOICES':\n      {\n        return [];\n      }\n\n    default:\n      {\n        return state;\n      }\n  }\n}\n\n/***/ }),\n/* 18 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = choices;\nexports.defaultState = void 0;\nvar defaultState = [];\nexports.defaultState = defaultState;\n\nfunction choices() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case 'ADD_CHOICE':\n      {\n        /*\n            A disabled choice appears in the choice dropdown but cannot be selected\n            A selected choice has been added to the passed input's value (added as an item)\n            An active choice appears within the choice dropdown\n         */\n        return [].concat(state, [{\n          id: action.id,\n          elementId: action.elementId,\n          groupId: action.groupId,\n          value: action.value,\n          label: action.label || action.value,\n          disabled: action.disabled || false,\n          selected: false,\n          active: true,\n          score: 9999,\n          customProperties: action.customProperties,\n          placeholder: action.placeholder || false,\n          keyCode: null\n        }]);\n      }\n\n    case 'ADD_ITEM':\n      {\n        // If all choices need to be activated\n        if (action.activateOptions) {\n          return state.map(function (obj) {\n            var choice = obj;\n            choice.active = action.active;\n            return choice;\n          });\n        } // When an item is added and it has an associated choice,\n        // we want to disable it so it can't be chosen again\n\n\n        if (action.choiceId > -1) {\n          return state.map(function (obj) {\n            var choice = obj;\n\n            if (choice.id === parseInt(action.choiceId, 10)) {\n              choice.selected = true;\n            }\n\n            return choice;\n          });\n        }\n\n        return state;\n      }\n\n    case 'REMOVE_ITEM':\n      {\n        // When an item is removed and it has an associated choice,\n        // we want to re-enable it so it can be chosen again\n        if (action.choiceId > -1) {\n          return state.map(function (obj) {\n            var choice = obj;\n\n            if (choice.id === parseInt(action.choiceId, 10)) {\n              choice.selected = false;\n            }\n\n            return choice;\n          });\n        }\n\n        return state;\n      }\n\n    case 'FILTER_CHOICES':\n      {\n        return state.map(function (obj) {\n          var choice = obj; // Set active state based on whether choice is\n          // within filtered results\n\n          choice.active = action.results.some(function (_ref) {\n            var item = _ref.item,\n                score = _ref.score;\n\n            if (item.id === choice.id) {\n              choice.score = score;\n              return true;\n            }\n\n            return false;\n          });\n          return choice;\n        });\n      }\n\n    case 'ACTIVATE_CHOICES':\n      {\n        return state.map(function (obj) {\n          var choice = obj;\n          choice.active = action.active;\n          return choice;\n        });\n      }\n\n    case 'CLEAR_CHOICES':\n      {\n        return defaultState;\n      }\n\n    default:\n      {\n        return state;\n      }\n  }\n}\n\n/***/ }),\n/* 19 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.defaultState = void 0;\nvar defaultState = {\n  loading: false\n};\nexports.defaultState = defaultState;\n\nvar general = function general() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case 'SET_IS_LOADING':\n      {\n        return {\n          loading: action.isLoading\n        };\n      }\n\n    default:\n      {\n        return state;\n      }\n  }\n};\n\nvar _default = general;\nexports.default = _default;\n\n/***/ }),\n/* 20 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"Dropdown\", {\n  enumerable: true,\n  get: function get() {\n    return _dropdown.default;\n  }\n});\nObject.defineProperty(exports, \"Container\", {\n  enumerable: true,\n  get: function get() {\n    return _container.default;\n  }\n});\nObject.defineProperty(exports, \"Input\", {\n  enumerable: true,\n  get: function get() {\n    return _input.default;\n  }\n});\nObject.defineProperty(exports, \"List\", {\n  enumerable: true,\n  get: function get() {\n    return _list.default;\n  }\n});\nObject.defineProperty(exports, \"WrappedInput\", {\n  enumerable: true,\n  get: function get() {\n    return _wrappedInput.default;\n  }\n});\nObject.defineProperty(exports, \"WrappedSelect\", {\n  enumerable: true,\n  get: function get() {\n    return _wrappedSelect.default;\n  }\n});\n\nvar _dropdown = _interopRequireDefault(__webpack_require__(21));\n\nvar _container = _interopRequireDefault(__webpack_require__(22));\n\nvar _input = _interopRequireDefault(__webpack_require__(23));\n\nvar _list = _interopRequireDefault(__webpack_require__(24));\n\nvar _wrappedInput = _interopRequireDefault(__webpack_require__(25));\n\nvar _wrappedSelect = _interopRequireDefault(__webpack_require__(26));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/***/ }),\n/* 21 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar Dropdown =\n/*#__PURE__*/\nfunction () {\n  function Dropdown(_ref) {\n    var element = _ref.element,\n        type = _ref.type,\n        classNames = _ref.classNames;\n\n    _classCallCheck(this, Dropdown);\n\n    Object.assign(this, {\n      element: element,\n      type: type,\n      classNames: classNames\n    });\n    this.isActive = false;\n  }\n  /**\n   * Determine how far the top of our element is from\n   * the top of the window\n   * @return {Number} Vertical position\n   */\n\n\n  _createClass(Dropdown, [{\n    key: \"distanceFromTopWindow\",\n    value: function distanceFromTopWindow() {\n      this.dimensions = this.element.getBoundingClientRect();\n      this.position = Math.ceil(this.dimensions.top + window.pageYOffset + this.element.offsetHeight);\n      return this.position;\n    }\n    /**\n     * Find element that matches passed selector\n     * @return {HTMLElement}\n     */\n\n  }, {\n    key: \"getChild\",\n    value: function getChild(selector) {\n      return this.element.querySelector(selector);\n    }\n    /**\n     * Show dropdown to user by adding active state class\n     * @return {Object} Class instance\n     * @public\n     */\n\n  }, {\n    key: \"show\",\n    value: function show() {\n      this.element.classList.add(this.classNames.activeState);\n      this.element.setAttribute('aria-expanded', 'true');\n      this.isActive = true;\n      return this;\n    }\n    /**\n     * Hide dropdown from user\n     * @return {Object} Class instance\n     * @public\n     */\n\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      this.element.classList.remove(this.classNames.activeState);\n      this.element.setAttribute('aria-expanded', 'false');\n      this.isActive = false;\n      return this;\n    }\n  }]);\n\n  return Dropdown;\n}();\n\nexports.default = Dropdown;\n\n/***/ }),\n/* 22 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _utils = __webpack_require__(0);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar Container =\n/*#__PURE__*/\nfunction () {\n  function Container(_ref) {\n    var element = _ref.element,\n        type = _ref.type,\n        classNames = _ref.classNames,\n        position = _ref.position;\n\n    _classCallCheck(this, Container);\n\n    Object.assign(this, {\n      element: element,\n      classNames: classNames,\n      type: type,\n      position: position\n    });\n    this.isOpen = false;\n    this.isFlipped = false;\n    this.isFocussed = false;\n    this.isDisabled = false;\n    this.isLoading = false;\n    this._onFocus = this._onFocus.bind(this);\n    this._onBlur = this._onBlur.bind(this);\n  }\n  /**\n   * Add event listeners\n   */\n\n\n  _createClass(Container, [{\n    key: \"addEventListeners\",\n    value: function addEventListeners() {\n      this.element.addEventListener('focus', this._onFocus);\n      this.element.addEventListener('blur', this._onBlur);\n    }\n    /**\n     * Remove event listeners\n     */\n\n    /** */\n\n  }, {\n    key: \"removeEventListeners\",\n    value: function removeEventListeners() {\n      this.element.removeEventListener('focus', this._onFocus);\n      this.element.removeEventListener('blur', this._onBlur);\n    }\n    /**\n     * Determine whether container should be flipped\n     * based on passed dropdown position\n     * @param {Number} dropdownPos\n     * @returns\n     */\n\n  }, {\n    key: \"shouldFlip\",\n    value: function shouldFlip(dropdownPos) {\n      var windowHeight = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : (0, _utils.getWindowHeight)();\n\n      if (dropdownPos === undefined) {\n        return false;\n      } // If flip is enabled and the dropdown bottom position is\n      // greater than the window height flip the dropdown.\n\n\n      var shouldFlip = false;\n\n      if (this.position === 'auto') {\n        shouldFlip = dropdownPos >= windowHeight;\n      } else if (this.position === 'top') {\n        shouldFlip = true;\n      }\n\n      return shouldFlip;\n    }\n    /**\n     * Set active descendant attribute\n     * @param {Number} activeDescendant ID of active descendant\n     */\n\n  }, {\n    key: \"setActiveDescendant\",\n    value: function setActiveDescendant(activeDescendantID) {\n      this.element.setAttribute('aria-activedescendant', activeDescendantID);\n    }\n    /**\n     * Remove active descendant attribute\n     */\n\n  }, {\n    key: \"removeActiveDescendant\",\n    value: function removeActiveDescendant() {\n      this.element.removeAttribute('aria-activedescendant');\n    }\n  }, {\n    key: \"open\",\n    value: function open(dropdownPos) {\n      this.element.classList.add(this.classNames.openState);\n      this.element.setAttribute('aria-expanded', 'true');\n      this.isOpen = true;\n\n      if (this.shouldFlip(dropdownPos)) {\n        this.element.classList.add(this.classNames.flippedState);\n        this.isFlipped = true;\n      }\n    }\n  }, {\n    key: \"close\",\n    value: function close() {\n      this.element.classList.remove(this.classNames.openState);\n      this.element.setAttribute('aria-expanded', 'false');\n      this.removeActiveDescendant();\n      this.isOpen = false; // A dropdown flips if it does not have space within the page\n\n      if (this.isFlipped) {\n        this.element.classList.remove(this.classNames.flippedState);\n        this.isFlipped = false;\n      }\n    }\n  }, {\n    key: \"focus\",\n    value: function focus() {\n      if (!this.isFocussed) {\n        this.element.focus();\n      }\n    }\n  }, {\n    key: \"addFocusState\",\n    value: function addFocusState() {\n      this.element.classList.add(this.classNames.focusState);\n    }\n  }, {\n    key: \"removeFocusState\",\n    value: function removeFocusState() {\n      this.element.classList.remove(this.classNames.focusState);\n    }\n    /**\n     * Remove disabled state\n     */\n\n  }, {\n    key: \"enable\",\n    value: function enable() {\n      this.element.classList.remove(this.classNames.disabledState);\n      this.element.removeAttribute('aria-disabled');\n\n      if (this.type === 'select-one') {\n        this.element.setAttribute('tabindex', '0');\n      }\n\n      this.isDisabled = false;\n    }\n    /**\n     * Set disabled state\n     */\n\n  }, {\n    key: \"disable\",\n    value: function disable() {\n      this.element.classList.add(this.classNames.disabledState);\n      this.element.setAttribute('aria-disabled', 'true');\n\n      if (this.type === 'select-one') {\n        this.element.setAttribute('tabindex', '-1');\n      }\n\n      this.isDisabled = true;\n    }\n  }, {\n    key: \"wrap\",\n    value: function wrap(element) {\n      (0, _utils.wrap)(element, this.element);\n    }\n  }, {\n    key: \"unwrap\",\n    value: function unwrap(element) {\n      // Move passed element outside this element\n      this.element.parentNode.insertBefore(element, this.element); // Remove this element\n\n      this.element.parentNode.removeChild(this.element);\n    }\n    /**\n     * Add loading state to element\n     */\n\n  }, {\n    key: \"addLoadingState\",\n    value: function addLoadingState() {\n      this.element.classList.add(this.classNames.loadingState);\n      this.element.setAttribute('aria-busy', 'true');\n      this.isLoading = true;\n    }\n    /**\n     * Remove loading state from element\n     */\n\n  }, {\n    key: \"removeLoadingState\",\n    value: function removeLoadingState() {\n      this.element.classList.remove(this.classNames.loadingState);\n      this.element.removeAttribute('aria-busy');\n      this.isLoading = false;\n    }\n    /**\n     * Set focussed state\n     */\n\n  }, {\n    key: \"_onFocus\",\n    value: function _onFocus() {\n      this.isFocussed = true;\n    }\n    /**\n     * Remove blurred state\n     */\n\n  }, {\n    key: \"_onBlur\",\n    value: function _onBlur() {\n      this.isFocussed = false;\n    }\n  }]);\n\n  return Container;\n}();\n\nexports.default = Container;\n\n/***/ }),\n/* 23 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _utils = __webpack_require__(0);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar Input =\n/*#__PURE__*/\nfunction () {\n  function Input(_ref) {\n    var element = _ref.element,\n        type = _ref.type,\n        classNames = _ref.classNames,\n        placeholderValue = _ref.placeholderValue;\n\n    _classCallCheck(this, Input);\n\n    Object.assign(this, {\n      element: element,\n      type: type,\n      classNames: classNames,\n      placeholderValue: placeholderValue\n    });\n    this.element = element;\n    this.classNames = classNames;\n    this.isFocussed = this.element === document.activeElement;\n    this.isDisabled = false;\n    this._onPaste = this._onPaste.bind(this);\n    this._onInput = this._onInput.bind(this);\n    this._onFocus = this._onFocus.bind(this);\n    this._onBlur = this._onBlur.bind(this);\n  }\n\n  _createClass(Input, [{\n    key: \"addEventListeners\",\n    value: function addEventListeners() {\n      this.element.addEventListener('input', this._onInput);\n      this.element.addEventListener('paste', this._onPaste);\n      this.element.addEventListener('focus', this._onFocus);\n      this.element.addEventListener('blur', this._onBlur);\n\n      if (this.element.form) {\n        this.element.form.addEventListener('reset', this._onFormReset);\n      }\n    }\n  }, {\n    key: \"removeEventListeners\",\n    value: function removeEventListeners() {\n      this.element.removeEventListener('input', this._onInput);\n      this.element.removeEventListener('paste', this._onPaste);\n      this.element.removeEventListener('focus', this._onFocus);\n      this.element.removeEventListener('blur', this._onBlur);\n\n      if (this.element.form) {\n        this.element.form.removeEventListener('reset', this._onFormReset);\n      }\n    }\n  }, {\n    key: \"enable\",\n    value: function enable() {\n      this.element.removeAttribute('disabled');\n      this.isDisabled = false;\n    }\n  }, {\n    key: \"disable\",\n    value: function disable() {\n      this.element.setAttribute('disabled', '');\n      this.isDisabled = true;\n    }\n  }, {\n    key: \"focus\",\n    value: function focus() {\n      if (!this.isFocussed) {\n        this.element.focus();\n      }\n    }\n  }, {\n    key: \"blur\",\n    value: function blur() {\n      if (this.isFocussed) {\n        this.element.blur();\n      }\n    }\n    /**\n     * Set value of input to blank\n     * @return {Object} Class instance\n     * @public\n     */\n\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      var setWidth = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n      if (this.element.value) {\n        this.element.value = '';\n      }\n\n      if (setWidth) {\n        this.setWidth();\n      }\n\n      return this;\n    }\n    /**\n     * Set the correct input width based on placeholder\n     * value or input value\n     * @return\n     */\n\n  }, {\n    key: \"setWidth\",\n    value: function setWidth(enforceWidth) {\n      var _this = this;\n\n      var callback = function callback(width) {\n        _this.element.style.width = width;\n      };\n\n      if (this._placeholderValue) {\n        // If there is a placeholder, we only want to set the width of the input when it is a greater\n        // length than 75% of the placeholder. This stops the input jumping around.\n        var valueHasDesiredLength = this.element.value.length >= this._placeholderValue.length / 1.25;\n\n        if (this.element.value && valueHasDesiredLength || enforceWidth) {\n          this.calcWidth(callback);\n        }\n      } else {\n        // If there is no placeholder, resize input to contents\n        this.calcWidth(callback);\n      }\n    }\n  }, {\n    key: \"calcWidth\",\n    value: function calcWidth(callback) {\n      return (0, _utils.calcWidthOfInput)(this.element, callback);\n    }\n  }, {\n    key: \"setActiveDescendant\",\n    value: function setActiveDescendant(activeDescendantID) {\n      this.element.setAttribute('aria-activedescendant', activeDescendantID);\n    }\n  }, {\n    key: \"removeActiveDescendant\",\n    value: function removeActiveDescendant() {\n      this.element.removeAttribute('aria-activedescendant');\n    }\n  }, {\n    key: \"_onInput\",\n    value: function _onInput() {\n      if (this.type !== 'select-one') {\n        this.setWidth();\n      }\n    }\n  }, {\n    key: \"_onPaste\",\n    value: function _onPaste(event) {\n      var target = event.target;\n\n      if (target === this.element && this.preventPaste) {\n        event.preventDefault();\n      }\n    }\n  }, {\n    key: \"_onFocus\",\n    value: function _onFocus() {\n      this.isFocussed = true;\n    }\n  }, {\n    key: \"_onBlur\",\n    value: function _onBlur() {\n      this.isFocussed = false;\n    }\n  }, {\n    key: \"placeholder\",\n    set: function set(placeholder) {\n      this.element.placeholder = placeholder;\n    }\n  }, {\n    key: \"value\",\n    set: function set(value) {\n      this.element.value = value;\n    },\n    get: function get() {\n      return (0, _utils.sanitise)(this.element.value);\n    }\n  }]);\n\n  return Input;\n}();\n\nexports.default = Input;\n\n/***/ }),\n/* 24 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _constants = __webpack_require__(1);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar List =\n/*#__PURE__*/\nfunction () {\n  function List(_ref) {\n    var element = _ref.element;\n\n    _classCallCheck(this, List);\n\n    Object.assign(this, {\n      element: element\n    });\n    this.scrollPos = this.element.scrollTop;\n    this.height = this.element.offsetHeight;\n    this.hasChildren = !!this.element.children;\n  }\n\n  _createClass(List, [{\n    key: \"clear\",\n    value: function clear() {\n      this.element.innerHTML = '';\n    }\n  }, {\n    key: \"append\",\n    value: function append(node) {\n      this.element.appendChild(node);\n    }\n  }, {\n    key: \"getChild\",\n    value: function getChild(selector) {\n      return this.element.querySelector(selector);\n    }\n  }, {\n    key: \"scrollToTop\",\n    value: function scrollToTop() {\n      this.element.scrollTop = 0;\n    }\n  }, {\n    key: \"scrollToChoice\",\n    value: function scrollToChoice(choice, direction) {\n      var _this = this;\n\n      if (!choice) {\n        return;\n      }\n\n      var dropdownHeight = this.element.offsetHeight;\n      var choiceHeight = choice.offsetHeight; // Distance from bottom of element to top of parent\n\n      var choicePos = choice.offsetTop + choiceHeight; // Scroll position of dropdown\n\n      var containerScrollPos = this.element.scrollTop + dropdownHeight; // Difference between the choice and scroll position\n\n      var endpoint = direction > 0 ? this.element.scrollTop + choicePos - containerScrollPos : choice.offsetTop;\n      requestAnimationFrame(function (time) {\n        _this._animateScroll(time, endpoint, direction);\n      });\n    }\n  }, {\n    key: \"_scrollDown\",\n    value: function _scrollDown(scrollPos, strength, endpoint) {\n      var easing = (endpoint - scrollPos) / strength;\n      var distance = easing > 1 ? easing : 1;\n      this.element.scrollTop = scrollPos + distance;\n    }\n  }, {\n    key: \"_scrollUp\",\n    value: function _scrollUp(scrollPos, strength, endpoint) {\n      var easing = (scrollPos - endpoint) / strength;\n      var distance = easing > 1 ? easing : 1;\n      this.element.scrollTop = scrollPos - distance;\n    }\n  }, {\n    key: \"_animateScroll\",\n    value: function _animateScroll(time, endpoint, direction) {\n      var _this2 = this;\n\n      var strength = _constants.SCROLLING_SPEED;\n      var choiceListScrollTop = this.element.scrollTop;\n      var continueAnimation = false;\n\n      if (direction > 0) {\n        this._scrollDown(choiceListScrollTop, strength, endpoint);\n\n        if (choiceListScrollTop < endpoint) {\n          continueAnimation = true;\n        }\n      } else {\n        this._scrollUp(choiceListScrollTop, strength, endpoint);\n\n        if (choiceListScrollTop > endpoint) {\n          continueAnimation = true;\n        }\n      }\n\n      if (continueAnimation) {\n        requestAnimationFrame(function () {\n          _this2._animateScroll(time, endpoint, direction);\n        });\n      }\n    }\n  }]);\n\n  return List;\n}();\n\nexports.default = List;\n\n/***/ }),\n/* 25 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _wrappedElement = _interopRequireDefault(__webpack_require__(4));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _get(target, property, receiver) { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }\n\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar WrappedInput =\n/*#__PURE__*/\nfunction (_WrappedElement) {\n  _inherits(WrappedInput, _WrappedElement);\n\n  function WrappedInput(_ref) {\n    var _this;\n\n    var element = _ref.element,\n        classNames = _ref.classNames,\n        delimiter = _ref.delimiter;\n\n    _classCallCheck(this, WrappedInput);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(WrappedInput).call(this, {\n      element: element,\n      classNames: classNames\n    }));\n    _this.delimiter = delimiter;\n    return _this;\n  }\n\n  _createClass(WrappedInput, [{\n    key: \"value\",\n    set: function set(items) {\n      var itemValues = items.map(function (_ref2) {\n        var value = _ref2.value;\n        return value;\n      });\n      var joinedValues = itemValues.join(this.delimiter);\n      this.element.setAttribute('value', joinedValues);\n      this.element.value = joinedValues;\n    } // @todo figure out why we need this? Perhaps a babel issue\n    ,\n    get: function get() {\n      return _get(_getPrototypeOf(WrappedInput.prototype), \"value\", this);\n    }\n  }]);\n\n  return WrappedInput;\n}(_wrappedElement.default);\n\nexports.default = WrappedInput;\n\n/***/ }),\n/* 26 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _wrappedElement = _interopRequireDefault(__webpack_require__(4));\n\nvar _templates = _interopRequireDefault(__webpack_require__(5));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar WrappedSelect =\n/*#__PURE__*/\nfunction (_WrappedElement) {\n  _inherits(WrappedSelect, _WrappedElement);\n\n  function WrappedSelect(_ref) {\n    var element = _ref.element,\n        classNames = _ref.classNames;\n\n    _classCallCheck(this, WrappedSelect);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(WrappedSelect).call(this, {\n      element: element,\n      classNames: classNames\n    }));\n  }\n\n  _createClass(WrappedSelect, [{\n    key: \"appendDocFragment\",\n    value: function appendDocFragment(fragment) {\n      this.element.innerHTML = '';\n      this.element.appendChild(fragment);\n    }\n  }, {\n    key: \"placeholderOption\",\n    get: function get() {\n      return this.element.querySelector('option[placeholder]');\n    }\n  }, {\n    key: \"optionGroups\",\n    get: function get() {\n      return Array.from(this.element.getElementsByTagName('OPTGROUP'));\n    }\n  }, {\n    key: \"options\",\n    get: function get() {\n      return Array.from(this.element.options);\n    },\n    set: function set(options) {\n      var fragment = document.createDocumentFragment();\n\n      var addOptionToFragment = function addOptionToFragment(data) {\n        // Create a standard select option\n        var template = _templates.default.option(data); // Append it to fragment\n\n\n        fragment.appendChild(template);\n      }; // Add each list item to list\n\n\n      options.forEach(function (optionData) {\n        return addOptionToFragment(optionData);\n      });\n      this.appendDocFragment(fragment);\n    }\n  }]);\n\n  return WrappedSelect;\n}(_wrappedElement.default);\n\nexports.default = WrappedSelect;\n\n/***/ }),\n/* 27 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!\n  Copyright (c) 2017 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg) && arg.length) {\n\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\tif (inner) {\n\t\t\t\t\tclasses.push(inner);\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif ( true && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (true) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\t!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {\n\t\t\treturn classNames;\n\t\t}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t} else {}\n}());\n\n\n/***/ }),\n/* 28 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.clearChoices = exports.activateChoices = exports.filterChoices = exports.addChoice = void 0;\n\nvar _constants = __webpack_require__(1);\n\nvar addChoice = function addChoice(_ref) {\n  var value = _ref.value,\n      label = _ref.label,\n      id = _ref.id,\n      groupId = _ref.groupId,\n      disabled = _ref.disabled,\n      elementId = _ref.elementId,\n      customProperties = _ref.customProperties,\n      placeholder = _ref.placeholder,\n      keyCode = _ref.keyCode;\n  return {\n    type: _constants.ACTION_TYPES.ADD_CHOICE,\n    value: value,\n    label: label,\n    id: id,\n    groupId: groupId,\n    disabled: disabled,\n    elementId: elementId,\n    customProperties: customProperties,\n    placeholder: placeholder,\n    keyCode: keyCode\n  };\n};\n\nexports.addChoice = addChoice;\n\nvar filterChoices = function filterChoices(results) {\n  return {\n    type: _constants.ACTION_TYPES.FILTER_CHOICES,\n    results: results\n  };\n};\n\nexports.filterChoices = filterChoices;\n\nvar activateChoices = function activateChoices() {\n  var active = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n  return {\n    type: _constants.ACTION_TYPES.ACTIVATE_CHOICES,\n    active: active\n  };\n};\n\nexports.activateChoices = activateChoices;\n\nvar clearChoices = function clearChoices() {\n  return {\n    type: _constants.ACTION_TYPES.CLEAR_CHOICES\n  };\n};\n\nexports.clearChoices = clearChoices;\n\n/***/ }),\n/* 29 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.highlightItem = exports.removeItem = exports.addItem = void 0;\n\nvar _constants = __webpack_require__(1);\n\nvar addItem = function addItem(_ref) {\n  var value = _ref.value,\n      label = _ref.label,\n      id = _ref.id,\n      choiceId = _ref.choiceId,\n      groupId = _ref.groupId,\n      customProperties = _ref.customProperties,\n      placeholder = _ref.placeholder,\n      keyCode = _ref.keyCode;\n  return {\n    type: _constants.ACTION_TYPES.ADD_ITEM,\n    value: value,\n    label: label,\n    id: id,\n    choiceId: choiceId,\n    groupId: groupId,\n    customProperties: customProperties,\n    placeholder: placeholder,\n    keyCode: keyCode\n  };\n};\n\nexports.addItem = addItem;\n\nvar removeItem = function removeItem(id, choiceId) {\n  return {\n    type: _constants.ACTION_TYPES.REMOVE_ITEM,\n    id: id,\n    choiceId: choiceId\n  };\n};\n\nexports.removeItem = removeItem;\n\nvar highlightItem = function highlightItem(id, highlighted) {\n  return {\n    type: _constants.ACTION_TYPES.HIGHLIGHT_ITEM,\n    id: id,\n    highlighted: highlighted\n  };\n};\n\nexports.highlightItem = highlightItem;\n\n/***/ }),\n/* 30 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.addGroup = void 0;\n\nvar _constants = __webpack_require__(1);\n\n/* eslint-disable import/prefer-default-export */\nvar addGroup = function addGroup(value, id, active, disabled) {\n  return {\n    type: _constants.ACTION_TYPES.ADD_GROUP,\n    value: value,\n    id: id,\n    active: active,\n    disabled: disabled\n  };\n};\n\nexports.addGroup = addGroup;\n\n/***/ }),\n/* 31 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.resetTo = exports.clearAll = void 0;\n\nvar clearAll = function clearAll() {\n  return {\n    type: 'CLEAR_ALL'\n  };\n};\n\nexports.clearAll = clearAll;\n\nvar resetTo = function resetTo(state) {\n  return {\n    type: 'RESET_TO',\n    state: state\n  };\n};\n\nexports.resetTo = resetTo;\n\n/***/ }),\n/* 32 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.setIsLoading = void 0;\n\n/* eslint-disable import/prefer-default-export */\nvar setIsLoading = function setIsLoading(isLoading) {\n  return {\n    type: 'SET_IS_LOADING',\n    isLoading: isLoading\n  };\n};\n\nexports.setIsLoading = setIsLoading;\n\n/***/ })\n/******/ ]);\n});"],"file":"pwtimage.js"}