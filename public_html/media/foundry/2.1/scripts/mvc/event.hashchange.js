!function(){var moduleFactory=function($){var module=this,exports=function(){"$:nomunge";function get_fragment(url){return url=url||window[str_location][str_href],url.replace(/^[^#]*#?(.*)$/,"$1")}var fake_onhashchange,jq_event_special=$.event.special,str_location="location",str_hashchange="hashchange",str_href="href",browser=$.browser,mode=document.documentMode,is_old_ie=browser.msie&&(void 0===mode||8>mode),supports_onhashchange="on"+str_hashchange in window&&!is_old_ie;$[str_hashchange+"Delay"]=100,jq_event_special[str_hashchange]=$.extend(jq_event_special[str_hashchange],{setup:function(){return supports_onhashchange?!1:($(fake_onhashchange.start),void 0)
},teardown:function(){return supports_onhashchange?!1:($(fake_onhashchange.stop),void 0)}}),fake_onhashchange=function(){function init(){set_history=get_history=function(val){return val},is_old_ie&&(iframe=$('<iframe src="javascript:0"/>').hide().insertAfter("body")[0].contentWindow,get_history=function(){return get_fragment(iframe.document[str_location][str_href])},set_history=function(hash,history_hash){if(hash!==history_hash){var doc=iframe.document;doc.open().close(),doc[str_location].hash="#"+hash}},set_history(get_fragment()))
}var timeout_id,iframe,set_history,get_history,self={};return self.start=function(){if(!timeout_id){var last_hash=get_fragment();set_history||init(),navigator.userAgent.match(/Rhino/)||function loopy(){var hash=get_fragment(),history_hash=get_history(last_hash);hash!==last_hash?(set_history(last_hash=hash,history_hash),$(window).trigger(str_hashchange)):history_hash!==last_hash&&(window[str_location][str_href]=window[str_location][str_href].replace(/#.*/,"")+"#"+history_hash),timeout_id=setTimeout(loopy,$[str_hashchange+"Delay"])
}()}},self.stop=function(){iframe||(timeout_id&&clearTimeout(timeout_id),timeout_id=0)},self}()};exports(),module.resolveWith(exports)};dispatch("mvc/event.hashchange").containing(moduleFactory).to("Foundry/2.1 Modules")}();