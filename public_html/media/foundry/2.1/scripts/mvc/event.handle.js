!function(){var moduleFactory=function($){var module=this,exports=function(){var $event=$.event,isElement=($event.trigger,function(o){return("object"==typeof HTMLElement?o instanceof HTMLElement:"object"==typeof o&&1===o.nodeType&&"string"==typeof o.nodeName)||o===window||o===document});$.event.trigger=function(event,data,elem,onlyHandlers){var exclusive,type=event.type||event,namespaces=[];if(type.indexOf("!")>=0&&(type=type.slice(0,-1),exclusive=!0),type.indexOf(".")>=0&&(namespaces=type.split("."),type=namespaces.shift(),namespaces.sort()),elem&&!$.event.customEvent[type]||$.event.global[type]){if(event="object"==typeof event?event[$.expando]?event:new $.Event(type,event):new $.Event(type),event.type=type,event.exclusive=exclusive,event.namespace=namespaces.join("."),event.namespace_re=new RegExp("(^|\\.)"+namespaces.join("\\.(?:.*\\.)?")+"(\\.|$)"),(onlyHandlers||!elem)&&(event.preventDefault(),event.stopPropagation()),!elem)return $.each($.cache,function(){var internalKey=$.expando,internalCache=this[internalKey];
internalCache&&internalCache.events&&internalCache.events[type]&&$.event.trigger(event,data,internalCache.handle.elem)}),void 0;if(3!==elem.nodeType&&8!==elem.nodeType){event.result=void 0,event.target=elem,data=data?$.makeArray(data):[],data.unshift(event);var cur=elem,ontype=type.indexOf(":")<0?"on"+type:"";do{var handle=$._data(cur,"handle");event.currentTarget=cur,handle&&handle.apply(cur,data),ontype&&$.acceptData(cur)&&cur[ontype]&&cur[ontype].apply(cur,data)===!1&&(event.result=!1,event.preventDefault()),cur=cur.parentNode||cur.ownerDocument||cur===event.target.ownerDocument&&window
}while(cur&&!event.isPropagationStopped());if(!event.isDefaultPrevented()){var old,special=$.event.special[type]||{};if(!(special._default&&special._default.call(elem.ownerDocument,event)!==!1||"click"===type&&$.nodeName(elem,"a")||!$.acceptData(elem))){try{ontype&&elem[type]&&(old=elem[ontype],old&&(elem[ontype]=null),$.event.triggered=type,elem[type]())}catch(ieError){}old&&(elem[ontype]=old),$.event.triggered=void 0}}return event.result}}},$.event.handle=function(event){event=$.event.fix(event||window.event);
var handlers=(($._data(this,"events")||{})[event.type]||[]).slice(0),run_all=!event.exclusive&&!event.namespace,args=Array.prototype.slice.call(arguments,0);args[0]=event,event.currentTarget=this;var oldType=event.type,runDefault="default"!==event.type&&$event.special["default"]&&!event.originalEvent&&isElement(event.target);runDefault&&$event.special["default"].triggerDefault(event,this,args[1]),event.type=oldType;for(var j=0,l=handlers.length;l>j;j++){var handleObj=handlers[j];if(event.firstPass)event.firstPass=!1;
else if(run_all||event.namespace_re.test(handleObj.namespace)){event.handler=handleObj.handler,event.data=handleObj.data,event.handleObj=handleObj;var ret=handleObj.handler.apply(this,args);if(void 0!==ret&&(event.result=ret,ret===!1&&(event.preventDefault(),event.stopPropagation())),event.isImmediatePropagationStopped())break}}return runDefault&&$event.special["default"].checkAndRunDefaults(event,this),event.result}};exports(),module.resolveWith(exports)};dispatch("mvc/event.handle").containing(moduleFactory).to("Foundry/2.1 Modules")
}();