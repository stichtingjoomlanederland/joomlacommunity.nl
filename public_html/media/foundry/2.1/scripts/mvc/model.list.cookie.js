!function(){var moduleFactory=function($){var module=this;$.require().script("mvc/dom.cookie","mvc/model.list").done(function(){var exports=function(){$.Model.List("Foundry/2.1.Model.List.Cookie",{days:null,retrieve:function(name){for(var props=$.cookie(name)||{type:null,ids:[]},instances=[],Class=props.type?$.String.getObject(props.type):null,i=0;i<props.ids.length;i++){var identity=props.ids[i],instanceData=$.cookie(identity);instances.push(new Class(instanceData))}return this.push.apply(this,instances),this
},store:function(name){var ids=[],days=this.days;return this.each(function(i,inst){$.cookie(inst.identity(),$.toJSON(inst.attrs()),{expires:days}),ids.push(inst.identity())}),$.cookie(name,$.toJSON({type:this[0]&&this[0].constructor.fullName,ids:ids}),{expires:this.days}),this}})};exports(),module.resolveWith(exports)})};dispatch("mvc/model.list.cookie").containing(moduleFactory).to("Foundry/2.1 Modules")}();