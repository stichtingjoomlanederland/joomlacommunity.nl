!function(){var moduleFactory=function($){var module=this;$.require().script("mvc/lang.string").done(function(){var exports=function(){var initializing=!1,makeArray=$.makeArray,isFunction=$.isFunction,isArray=$.isArray,extend=$.extend,getObject=$.String.getObject,concatArgs=function(arr,args){return arr.concat(makeArray(args))},fnTest=/xyz/.test(function(){})?/\b_super\b/:/.*/,inheritProps=function(newProps,oldProps,addTo){addTo=addTo||newProps;for(var name in newProps)addTo[name]=isFunction(newProps[name])&&isFunction(oldProps[name])&&fnTest.test(newProps[name])?function(name,fn){return function(){var ret,tmp=this._super;
return this._super=oldProps[name],ret=fn.apply(this,arguments),this._super=tmp,ret}}(name,newProps[name]):newProps[name]},STR_PROTOTYPE="prototype";clss=$.Class=function(){arguments.length&&clss.extend.apply(clss,arguments)},extend(clss,{proxy:function(funcs){var self,args=makeArray(arguments);return funcs=args.shift(),isArray(funcs)||(funcs=[funcs]),self=this,function(){for(var isString,func,cur=concatArgs(args,arguments),length=funcs.length,f=0;length>f;f++)func=funcs[f],func&&(isString="string"==typeof func,isString&&self._set_called&&(self.called=func),cur=(isString?self[func]:func).apply(self,cur||[]),length-1>f&&(cur=!isArray(cur)||cur._use_call?[cur]:cur));
return cur}},newInstance:function(){var args,inst=this.rawInstance();return inst.setup&&(args=inst.setup.apply(inst,arguments)),inst.init&&inst.init.apply(inst,isArray(args)?args:arguments),inst},setup:function(baseClass){return this.defaults=extend(!0,{},baseClass.defaults,this.defaults),arguments},rawInstance:function(){initializing=!0;var inst=new this;return initializing=!1,inst},extend:function(fullName,klass,proto){function Class(){return initializing?void 0:this.constructor!==Class&&arguments.length?arguments.callee.extend.apply(arguments.callee,arguments):this.Class.newInstance.apply(this.Class,arguments)
}"string"!=typeof fullName&&(proto=klass,klass=fullName,fullName=null),proto||(proto=klass,klass=null),proto=proto||{};var name,shortName,namespace,prototype,_super_class=this,_super=this[STR_PROTOTYPE];initializing=!0,prototype=new this,initializing=!1,inheritProps(proto,_super,prototype);for(name in this)this.hasOwnProperty(name)&&(Class[name]=this[name]);if(inheritProps(klass,this,Class),fullName){var parts=fullName.split(/\./),shortName=parts.pop(),current=getObject(parts.join("."),window,!0),namespace=current;
extend(!0,Class,current[shortName]),current[shortName]=Class}extend(Class,{prototype:prototype,namespace:namespace,shortName:shortName,constructor:Class,fullName:fullName}),Class[STR_PROTOTYPE].Class=Class[STR_PROTOTYPE].constructor=Class;var args=Class.setup.apply(Class,concatArgs([_super_class],arguments));return Class.init&&Class.init.apply(Class,args||concatArgs([_super_class],arguments)),Class}}),clss.callback=clss[STR_PROTOTYPE].callback=clss[STR_PROTOTYPE].proxy=clss.proxy};exports(),module.resolveWith(exports)
})};dispatch("mvc/class").containing(moduleFactory).to("Foundry/2.1 Modules")}();