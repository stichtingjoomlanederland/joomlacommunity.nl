if(typeof SPCYEND_completed==="undefined"){var SPCYEND_completed=""}cyend_log_init=function(){var e=document.getElementById("cyend_log");if(typeof e!=="undefined"&&e!==null){e.parentNode.removeChild(e)}e=document.createElement("div");e.id="cyend_log";e.class="alert";e.className="alert alert-info";var t=cyend_processing_string();e.innerHTML=t;var n=document.getElementById("cyend-alert");n.insertBefore(e,n.firstChild)};cyend_log_message=function(e,t){var n=document.getElementById("cyend_log");e="<p>"+e+"</p>";if(t===true){e=cyend_processing_string()+e}n.innerHTML=e;var r=document.getElementById("cyend-alert");r.insertBefore(n,r.firstChild)};cyend_log_remove=function(){var e=document.getElementById("cyend_log");if(typeof e!=="undefined"&&e!==null){e.parentNode.removeChild(e)}};cyend_processing_string=function(){var e=Math.floor(Math.random()*2+1);if(e===1){var t="please wait..."}else{var t="processing..."}return'<p><img src="../media/spcyend/images/processing.gif" alt="">'+" "+t+"</p>"};if(!XMLHttpRequest.prototype.sendAsBinary){XMLHttpRequest.prototype.sendAsBinary=function(e){var t=e.length,n=new Uint8Array(t);for(var r=0;r<t;r++){n[r]=e.charCodeAt(r)&255}this.send(n)}}var SPCYEND_submit=function(){function e(){window[SPCYEND_completed](this.responseText)}function t(t){var n=new XMLHttpRequest;n.submittedData=t;n.onload=e;if(t.technique===0){n.open("get",t.receiver.replace(/(?:\?.*)?$/,t.segments.length>0?"?"+t.segments.join("&"):""),true);n.send(null)}else{n.open("post",t.receiver,true);if(t.technique===3){var r="---------------------------"+Date.now().toString(16);n.setRequestHeader("Content-Type","multipart/form-data; boundary="+r);n.sendAsBinary("--"+r+"\r\n"+t.segments.join("--"+r+"\r\n")+"--"+r+"--\r\n")}else{n.setRequestHeader("Content-Type",t.contentType);n.send(t.segments.join(t.technique===2?"\r\n":"&"))}}}function n(e){if(e.status>0){return}t(e)}function r(e){this.owner.segments[this.segmentIdx]+=e.target.result+"\r\n";this.owner.status--;n(this.owner)}function i(e){return e.replace(/[\s\=\\]/g,"\\$&")}function s(e){var t,s,o,u,a,f=e.method.toLowerCase()==="post";this.contentType=f&&e.enctype?e.enctype:"application/x-www-form-urlencoded";this.technique=f?this.contentType==="multipart/form-data"?3:this.contentType==="text/plain"?2:1:0;this.receiver=e.action;this.status=0;this.segments=[];var l=this.technique===2?i:escape;for(var c=0;c<e.elements.length;c++){o=e.elements[c];if(!o.hasAttribute("name")){continue}s=o.nodeName.toUpperCase()==="INPUT"?o.getAttribute("type").toUpperCase():"TEXT";if(s==="FILE"&&o.files.length>0){if(this.technique===3){for(t=0;t<o.files.length;t++){a=o.files[t];u=new FileReader;u.segmentIdx=this.segments.length;u.owner=this;u.onload=r;this.segments.push('Content-Disposition: form-data; name="'+o.name+'"; filename="'+a.name+'"\r\nContent-Type: '+a.type+"\r\n\r\n");this.status++;u.readAsBinaryString(a)}}else{for(t=0;t<o.files.length;this.segments.push(l(o.name)+"="+l(o.files[t++].name)));}}else if(s!=="RADIO"&&s!=="CHECKBOX"||o.checked){this.segments.push(this.technique===3?'Content-Disposition: form-data; name="'+o.name+'"\r\n\r\n'+o.value+"\r\n":l(o.name)+"="+l(o.value))}}n(this)}return function(e){if(!e.action){return}new s(e)}}()