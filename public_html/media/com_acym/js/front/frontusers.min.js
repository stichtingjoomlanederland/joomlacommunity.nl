function initUser(){let e=document.querySelectorAll('select[name="data[listsubdropdown]"]');for(let t in e)e.hasOwnProperty(t)&&e[t].addEventListener("change",function(){let e=document.getElementById("datalistsubdropdown"),t=e.options[e.selectedIndex].value,a=document.getElementsByClassName("listsub-dropdown");for(let e=0;e<a.length;e++)a[e].value="0",a[e].name=="data[listsub]["+t+"][status]"&&(a[e].value="1")});var t=document.querySelector(".acym__user__show-subscription");t&&t.addEventListener("click",function(){let e=this,t=e.parentElement,a=t.querySelector(".acym__user__show-subscription-bt");if(t=t.querySelectorAll(".acym_subscription_more"),0==e.getAttribute("data-iscollapsed")){e.setAttribute("data-iscollapsed","1"),a.innerText="<";for(let e in t)t.hasOwnProperty(e)&&(t[e].style.display="inline-block")}else{e.setAttribute("data-iscollapsed","0"),a.innerText="+"+e.getAttribute("acym-data-value");for(let e in t)t.hasOwnProperty(e)&&(t[e].style.display="none")}})}function acym_checkChangeForm(){let e,t,a,r,l,n=document[acyformName],i=n.elements["data[user][email]"];if(i){i.value!=acymModule.EMAILCAPTION&&(i.value=i.value.replace(/ /g,""));let e=acymModule.emailRegex;if(!i||i.value==acymModule.EMAILCAPTION||!e.test(i.value))return alert(acymModule.VALID_EMAIL),i.className=i.className+" invalid",!1}let o=document.querySelectorAll("#"+acyformName+' [type="radio"][data-required]');if(o.length>0){for(e="",t=0,a=0;a<o.length;a++){if(r=JSON.parse(o[a].getAttribute("data-required")),""!==e&&e!=o[a].getAttribute("name")&&0==t)return r=JSON.parse(o[a-1].getAttribute("data-required")),alert(r.message),!1;""!==e&&e!=o[a].getAttribute("name")&&t>0&&(t=0),o[a].checked&&t++,e=o[a].getAttribute("name")}if(0===t)return alert(r.message),!1}let s=document.querySelectorAll("#"+acyformName+' [type="checkbox"][data-required]');if(s.length>0){for(e="",t=0,a=0;a<s.length;a++){if(r=JSON.parse(s[a].getAttribute("data-required")),""!==e&&e!=s[a].getAttribute("name")&&0==t)return r=JSON.parse(s[a-1].getAttribute("data-required")),alert(r.message),!1;""!==e&&e!=s[a].getAttribute("name")&&t>0&&(t=0),s[a].checked&&t++,e=s[a].getAttribute("name")}if(0===t)return alert(r.message),!1}let u=document.querySelectorAll("#"+acyformName+" [data-required]");if(u.length>0)for(a=0;a<u.length;a++){if(("text"===(r=JSON.parse(u[a].getAttribute("data-required"))).type||"textarea"===r.type||"single_dropdown"===r.type||"multiple_dropdown"===r.type||"phone"===r.type||"file"===r.type)&&""===u[a].value)return alert(r.message),!1;if("file"===r.type&&0===u[a].files.length)return alert(r.message),!1}let d=document.querySelectorAll("[data-authorized-content]");if(d.length>0)for(a=0;a<d.length;a++){let e=JSON.parse(d[a].getAttribute("data-authorized-content"));if(l="","number"===e[0]?l=/^[0-9]+$/:"letters"===e[0]?l=/^[a-zA-Z]+$/:"numbers_letters"===e[0]?l=/^[a-zA-Z0-9]+$/:"regex"===e[0]&&(l=new RegExp(e.regex)),""!=l&&!l.test(d[a].value))return alert(e.message),!1}let c=new FormData(n);n.className+=" acym_module_loading",n.style.filter="alpha(opacity=50)",n.style.opacity="0.5";let m=document.querySelector(".message_"+acyformName);m&&m.parentNode.removeChild(m);let y=new XMLHttpRequest;return y.open("POST",n.getAttribute("action")),y.onload=function(){let e=ACYM_JS_TXT.ACYM_ERROR,t="error";if(200===y.status){let a=JSON.parse(y.responseText);e=a.message,t=a.type}acymDisplayAjaxResponse(decodeURIComponent(e),t,acyformName,!1)},y.send(c),!1}function acymSubmitForm(e){let t=document.querySelector('[name="task"]'),a=document.getElementById("formSubmit");void 0!==t&&void 0!==a?(t.value=e,a.click()):alert(ACYM_JS_TXT.ACYM_COULD_NOT_SUBMIT_FORM_CONTACT_ADMIN_WEBSITE)}document.addEventListener("DOMContentLoaded",function(){acym_helperUser.setSubscribeUnsubscribeUser(),acym_helperImport.initImport(),initUser()});