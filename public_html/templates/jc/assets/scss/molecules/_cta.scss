/* ==========================================================================
   Call to Action styling
   ========================================================================== */

/* ==========================================================================
   Page header
   ========================================================================== */

$page-cta-breakpoint: $wider-width !default;

.page-cta {
  position: relative;
  z-index: 0;
  //overflow: hidden;

  @media print {
    color: inherit;
    background: transparent;
  }

  @include breakpoint($page-cta-breakpoint) {
    display: flex;
    @include ms(margin-top, 0);
    max-height: 21rem;
  }

  & + *,
  & + * + * {
    position: relative;
    z-index: 2;
  }

  @at-root .stack & {
    & + [class*="heading:"]:nth-child(n) {
      @include ms(margin-top, 0);
    }
  }
}

/* Image */
.page-cta__image {
  position: relative;
  width: 100%;
  max-height: 100vh;
  overflow: hidden;
  display: flex;

  @media print {
    display: none;
  }

  figure {
    flex: 1;
  }

  &:not(:only-child) {
    width: auto;
    max-height: none;

    [class^="ratio:"] {
      @include breakpoint($page-cta-breakpoint) {
        @include coverall();
      }
    }

    @include breakpoint($page-cta-breakpoint) {
      position: absolute;
      top: 0;
      right: 50%;
      bottom: 0;
      left: 0;
      overflow: hidden;
      background: $goud-light;

      &:only-child {
        right: 0;

        img {
          width: 100%;
          height: auto;
        }
      }

      img {
        max-width: none;
        height: 100%;
        object-fit: cover;
      }
    }
  }
}

/* Content */
.page-cta__content {
  position: relative;
  z-index: 3;
  display: flex;
  flex: 1;
  align-items: center;
  justify-content: center;
  min-height: 100%;
  @include ms(padding, 1);
  @include ms(padding-top, 2);

  @include breakpoint($page-cta-breakpoint) {
    margin-left: 50%;
  }

  @media print {
    padding-top: 0;
    padding-bottom: 0;
  }
}

.page-cta__inner {
  @include breakpoint($site-width) {
    padding-top: 5vw;
    padding-bottom: 5vw;
  }
}

/* Quote GFX */
.page-cta .quote-gfx {
  position: absolute;
  top: -#{px(40)};
  left: calc(50% - #{px(40)});
  display: flex;
  justify-content: center;
  align-items: center;
  width: px(80);
  height: px(80);
  background-color: $wit;
  border: 1px solid $goud-lighter;
  border-radius: $radius-full;
  @include font-size("xxxl");
}
