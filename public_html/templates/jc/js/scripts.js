(function(){'use strict';function a(){e=j.createElement("flying-focus"),e.id="flying-focus",e.style.transitionDuration=e.style.WebkitTransitionDuration="0.15s",l.appendChild(e)}function b(){f&&(clearTimeout(f),f=0,e.classList.remove("flying-focus_visible"),g.classList.remove("flying-focus_target"),g=null)}function c(){return 42>Date.now()-h}function d(a){var b=a.getBoundingClientRect(),c=k.clientLeft||l.clientLeft,d=k.clientTop||l.clientTop,e=i.pageXOffset||k.scrollLeft||l.scrollLeft,f=i.pageYOffset||k.scrollTop||l.scrollTop,g=b.left+e-c,h=b.top+f-d;return{top:h||0,left:g||0}}var e=null,f=0,g=null,h=0,i=window,j=document,k=j.documentElement,l=j.body;k.addEventListener("keydown",function(a){var b=a.which;(9===b||36<b&&41>b)&&(h=Date.now())},!1),k.addEventListener("focus",function(h){var i=h.target;if("flying-focus"!==i.id){var j=!1;e||(j=!0,a());var k=d(i);e.style.left=k.left+"px",e.style.top=k.top+"px",e.style.width=i.offsetWidth+"px",e.style.height=i.offsetHeight+"px",j||!c()||(b(),i.classList.add("flying-focus_target"),e.classList.add("flying-focus_visible"),g=i,f=setTimeout(b,150))}},!0),k.addEventListener("blur",function(){b()},!0);var m=j.createElement("style");m.textContent="#flying-focus {\tposition: absolute;\tmargin: 0;\tbackground: transparent;\t-webkit-transition-property: left, top, width, height;\ttransition-property: left, top, width, height;\t-webkit-transition-timing-function: cubic-bezier(0,1,0,1);\ttransition-timing-function: cubic-bezier(0,1,0,1);\tvisibility: hidden;\tpointer-events: none;\tbox-shadow: 0 0 2px 3px #78aeda, 0 0 2px #78aeda inset; border-radius: 2px;}#flying-focus.flying-focus_visible {\tvisibility: visible;\tz-index: 9999;}.flying-focus_target {\toutline: none !important; /* Doesn't work in Firefox :( */}/* http://stackoverflow.com/questions/71074/how-to-remove-firefoxs-dotted-outline-on-buttons-as-well-as-links/199319 */.flying-focus_target::-moz-focus-inner {\tborder: 0 !important;}/* Replace it with @supports rule when browsers catch up */@media screen and (-webkit-min-device-pixel-ratio: 0) {\t#flying-focus {\t\tbox-shadow: none;\t\toutline: 5px auto -webkit-focus-ring-color;\t\toutline-offset: -3px;\t}}",l.appendChild(m)})();