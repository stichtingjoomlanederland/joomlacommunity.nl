(function(a){function b(){var b={},c=window.location.hash;if(0===c.length)return b;var d=c.split("#")[1].split("&");return a.each(d,function(a,c){var d=c.split("=");d[1]&&d[1].length&&(b[d[0]]=d[1].split(","))}),b}jQuery(document).ready(function(){listingManager.init({list:collection}),listingManager.addFilter({key:"specialisms",field:".js-specialisms input:checkbox"}),listingManager.addFilter({key:"province",field:".js-province input:checkbox"}),listingManager.addFilter({key:"size",field:".js-size input:checkbox"}),jQuery("#searchbox").off("keyup").on("keyup",function(){listingManager.filterOnSearch(this.value,["title","description","city"])}),jQuery(".bedrijvengids__sorting input").on("change",function(){var a=this.value.split("-");return listingManager.setSort(a[0],a[1]),!1}),jQuery(".bedrijvengids__filter--filters input[type=\"checkbox\"]").on("click",function(){listingManager.filterOnSearch(jQuery("#searchbox").val(),["title","description","city","address"])});var a=b();for(var c in a)for(var d=a[c].length;d--;)jQuery(".js-"+c+" [value=\""+a[c][d]+"\"]").click();jQuery(".bedrijvengids__filter--filters .list-group-item").on("click",function(){jQuery(this).prev("input[type=\"checkbox\"]").click()}),listingManager.display()})})(jQuery);var listingManager=function(){function a(a){if(!n){for(var b in a)a.hasOwnProperty(b)&&(q[b]=a[b]);o=jQuery(q.list_item_template).html(),j=[],k=[],p=0,l=this,n=1,m=q.list.length?q.list:[]}return!0}function b(a,b){var e=jQuery(b);k.push({key:a,cssSelector:b});for(var f=e.length;f--;)jQuery(e[f]).off("click").on("click",function(){jQuery(this).is(":checked")?c(a,this.value):d(a,this.value),p=0,l.display()})}function c(a,b){j.push({key:a,value:b})}function d(a,b){for(var c=j.length-1;0<=c;c--)j[c].key===a&&("undefined"==typeof b||j[c].value.toLowerCase()===b.toLowerCase())&&j.splice(c,1)}function e(a,b){var c="var __p=[],print=function(){__p.push.apply(__p,arguments);};with(obj||{}){__p.push('"+a.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(/<%-([\s\S]+?)%>/g,function(a,b){return"',escapeStr("+b.replace(/\\'/g,"'")+"),'"}).replace(/<%=([\s\S]+?)%>/g,function(a,b){return"',"+b.replace(/\\'/g,"'")+",'"}).replace(/<%([\s\S]+?)%>/g||null,function(a,b){return"');"+b.replace(/\\'/g,"'").replace(/[\r\n\t]/g," ")+";__p.push('"}).replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/\t/g,"\\t")+"');}return __p.join('');",d=new Function("obj",c);return b?d(b):function(a){return d(a)}}function f(){m=[];for(var a=[],b=q.list.length;b--;){for(var c,d=q.list[b],e=j.length,g=!0;e--&&g;)if(c=j[e],"undefined"==typeof a[c.key]?a[c.key]=c.value:-1===a[c.key].indexOf(c.value)&&(a[c.key]+=","+c.value),d[c.key].constructor===Array)if(d[c.key].includes(c.value))continue;else g=!1;g&&m.push(d)}var h="";for(var k in a)h+=k+"="+a[k]+"&";h.length||(h="all"),window.location.hash=h}function g(){jQuery(q.collection_container).empty();for(var a=p*q.show_per_page,b=a,c=m.length;b<c&&b<a+q.show_per_page;b++)jQuery(q.collection_container).append(e(o,m[b]));jQuery(q.counter_display).length&&jQuery(q.counter_display).html(m.length),h(),k.forEach(function(a){jQuery(a.cssSelector).each(function(){for(var b=m.length,c=0;b--;){var d=m[b];d[a.key].includes(this.value)&&c++}jQuery(this).next("label").html(jQuery(this).data("label")+" ("+c+")")})})}function h(){var a=jQuery(q.pagination_container);if(jQuery(".js-filter").off("click"),a.empty(),jQuery(q.pagination_container).length&&m.length>q.show_per_page){var b=m.length/q.show_per_page;if(0<b){var c="<nav><ul class=\"pagination\">",d=0<p;c+="<li class=\""+(d?"":"inactive")+"\"><a href=\"\" class=\"js-filter js-filter-prev\" data-page=\"prev\">&lt;</a></li>";for(var e=0;e<b;e++)c+="<li class=\""+(e==p?"active":"")+"\"><a href=\"\" class=\"js-filter js-filter-page\" data-page=\""+e+"\">"+(e+1)+"</a>";var f=m.length>(p+1)*q.show_per_page;c+="<li class=\""+(f?"":"inactive")+"\"><a href=\"\" class=\"js-filter js-filter-next\" data-page=\"next\">&gt;</a></li>",c+="</ul></nav>",a.append(c)}jQuery(".js-filter").off("click").on("click",function(){if(!jQuery(this).parent().hasClass("inactive")){var a=jQuery(this).data("page");p=Number.isInteger(a)?a:"prev"==a?p-1:p+1,h(),jQuery("html, body").animate({scrollTop:jQuery(".bedrijvengids__wrapper").offset().top},"fast"),g()}return!1})}}function i(c,d){return"random"===d?m.sort(function(){return .5-Math.random()}):m.sort(function(e,a){var b=e[c].toLowerCase(),f=a[c].toLowerCase();return"desc"===d?b>f?-1:f>b?1:0:b>f?1:f>b?-1:0}),m}var j,k,l,m,n,o,p,q={list:[],sort_key:"title",sort_direction:"random",option_template:"#checkbox_template",list_item_template:"#collection-template",collection_container:"#collection",show_per_page:15,pagination_container:"#pagination",counter_display:"#total_partners"};return{init:a,filter:function(){f()},setFilter:function(){alert("not implemented")},removeFilter:function(){alert("not implemented")},display:function(){q.list.length&&(l.filter(),l.sort(),g())},setPagination:function(a){p=a,g()},addFilter:function(a){p=0,b(a.key,a.field)},setSort:function(a,b){return"undefined"!=typeof a&&"undefined"!=typeof b&&void(p=0,i(a,b),g())},filterOnSearch:function(a,b){p=0,l.filter(),a=a.toLowerCase();for(var c=m.length;c--;){for(var d=m[c],e=b.length,h=!1;e--&&!h;){var j=b[e];-1!==d[j].toLowerCase().indexOf(a)&&(h=!0)}h||m.splice(c,1)}l.sort(),g()},sort:function(a,b){return"undefined"==typeof a&&(a=q.sort_key,b=q.sort_direction),i(a,b)},setList:function(a){q.list=a,l.display(),h()},getDisplayList:function(){return m}}}();